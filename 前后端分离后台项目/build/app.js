/*! ������Ŀ - v1.0.0 - 2015-10-03
* Copyright (c) 2015 liuhuisheng2009@gmail.com; */
function dtmlXMLLoaderObject(a,b,c,d){return this.xmlDoc="",this.async="undefined"!=typeof c?c:!0,this.onloadAction=a||null,this.mainObject=b||null,this.waitCall=null,this.rSeed=d||!1,this}function callerFunction(a,b){return this.handler=function(c){return c||(c=window.event),a(c,b),!0},this.handler}function getAbsoluteLeft(a){return getOffset(a).left}function getAbsoluteTop(a){return getOffset(a).top}function getOffsetSum(a){for(var b=0,c=0;a;)b+=parseInt(a.offsetTop),c+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:b,left:c}}function getOffsetRect(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{top:Math.round(i),left:Math.round(j)}}function getOffset(a){return a.getBoundingClientRect?getOffsetRect(a):getOffsetSum(a)}function convertStringToBoolean(a){switch("string"==typeof a&&(a=a.toLowerCase()),a){case"1":case"true":case"yes":case"y":case 1:case!0:return!0;default:return!1}}function getUrlSymbol(a){return-1!=a.indexOf("?")?"&":"?"}function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.dhtmlDragAndDrop=this,this)}function _dhtmlxError(){return this.catches||(this.catches=new Array),this}function dhtmlXHeir(a,b){for(var c in b)"function"==typeof b[c]&&(a[c]=b[c]);return a}function dhtmlxEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function dhtmlXCellObject(a,b){this.cell=document.createElement("DIV"),this.cell.className="dhx_cell"+(b||""),this._idd=a,this._isCell=!0,this.conf={borders:!0,idx:{},css:b||"",idx_data:{cont:"dhx_cell_cont",pr1:"dhx_cell_progress_bar",pr2:"dhx_cell_progress_img",menu:"dhx_cell_menu",toolbar:"dhx_cell_toolbar",ribbon:"dhx_cell_ribbon",sb:"dhx_cell_statusbar"},ofs_nodes:{t:{},b:{}}},this.dataNodes={},this.views={};var c=document.createElement("DIV");return c.className="dhx_cell_cont"+this.conf.css,this.cell.appendChild(c),c=null,this._updateIdx=function(){for(var a in this.conf.idx)this.conf.idx[a]=null,delete this.conf.idx[a];for(var b=0;b<this.cell.childNodes.length;b++){var c=this.cell.childNodes[b].className;for(var a in this.conf.idx_data){var d=new RegExp(this.conf.idx_data[a]);null!=c.match(d)&&(this.conf.idx[a]=b)}}this.callEvent("_onIdxUpdated",[])},this._adjustAttached=function(){for(var a in this.dataNodes)null!=this.dataNodes[a]&&"function"==typeof this.dataNodes[a].setSizes&&this.dataNodes[a].setSizes();null!=this.dataObj&&"function"==typeof this.dataObj.setSizes&&this.dataObj.setSizes.apply(this.dataObj,arguments)},this._setSize=function(a,b,c,d,e,f,g){this.conf.size||(this.conf.size={}),this.conf.size.x=a,this.conf.size.y=b,this.conf.size.w=c,this.conf.size.h=d,this.cell.style.left=a+"px",this.cell.style.top=b+"px",this.cell.style.width=c+"px",this.cell.style.height=d+"px",this.callEvent("_onSetSize",[]),f!==!0?this._adjustCont(e,g):this._adjustAttached(e),this._adjustProgress()},this._adjustCont=function(a,b){var c=this.cell.childNodes[this.conf.idx.cont],d=0;for(var e in this.conf.ofs_nodes.t){var f=this.conf.ofs_nodes.t[e];d+="func"==f?this[e]():1==f?this.cell.childNodes[this.conf.idx[e]].offsetHeight:0}var g=0;for(var e in this.conf.ofs_nodes.b){var f=this.conf.ofs_nodes.b[e];g+="func"==f?this[e]():1==f?this.cell.childNodes[this.conf.idx[e]].offsetHeight:0}c.style.left="0px",c.style.top=d+"px",this.conf.cells_cont||(this.conf.cells_cont={},c.style.width=this.cell.offsetWidth+"px",c.style.height=Math.max(this.cell.offsetHeight-d-g,0)+"px",this.conf.cells_cont.w=parseInt(c.style.width)-c.offsetWidth,this.conf.cells_cont.h=parseInt(c.style.height)-c.offsetHeight),c.style.left="0px",c.style.top=d+"px",c.style.width=Math.max(this.cell.offsetWidth+this.conf.cells_cont.w,0)+"px",c.style.height=Math.max(this.conf.size.h-d-g+this.conf.cells_cont.h,0)+"px",c=null,this._adjustAttached(a),"expand"==b&&"editor"==this.dataType&&null!=this.dataObj&&this.dataObj._prepareContent(!0)},this._mtbUpdBorder=function(){for(var a=["menu","toolbar"],b=0;b<a.length;b++)if(null!=this.conf.idx[a[b]]){var c=this.cell.childNodes[this.conf.idx[a[b]]],d="dhx_cell_"+a[b]+"_no_borders",e="dhx_cell_"+a[b]+"_def";c.className=c.className.replace(new RegExp(this.conf.borders?d:e),this.conf.borders?e:d),c=null}},this._resetSizeState=function(){this.conf.cells_cont=null},this.conf.view="def",this.conf.views_loaded={},this.conf.views_loaded[this.conf.view]=!0,this._viewSave=function(a){this.views[a]={borders:this.conf.borders,ofs_nodes:{t:{},b:{}},dataType:this.dataType,dataObj:this.dataObj,cellCont:[],dataNodes:{},dataNodesCont:{}};for(var b=this.cell.childNodes[this.conf.idx.cont];b.childNodes.length>0;)this.views[a].cellCont.push(b.firstChild),b.removeChild(b.firstChild);this.dataType=null,this.dataObj=null;for(var c in this.dataNodes){for(var d in this.conf.ofs_nodes)"undefined"!=typeof this.conf.ofs_nodes[d][c]&&(this.views[a].ofs_nodes[d][c]=this.conf.ofs_nodes[d][c],this.conf.ofs_nodes[d][c]=null,delete this.conf.ofs_nodes[d][c]);this.views[a].dataNodesCont[c]=this.cell.childNodes[this.conf.idx[c]],this.cell.removeChild(this.cell.childNodes[this.conf.idx[c]]),this.views[a].dataNodes[c]=this.dataNodes[c],this.dataNodes[c]=null,delete this.dataNodes[c],this._updateIdx()}this.callEvent("_onViewSave",[a])},this._viewRestore=function(a){if(null!=this.views[a]){this.dataObj=this.views[a].dataObj,this.dataType=this.views[a].dataType;for(var b=0;b<this.views[a].cellCont.length;b++)this.cell.childNodes[this.conf.idx.cont].appendChild(this.views[a].cellCont[b]);for(var c in this.views[a].dataNodes)this.dataNodes[c]=this.views[a].dataNodes[c],"menu"==c&&this.cell.insertBefore(this.views[a].dataNodesCont[c],this.cell.childNodes[this.conf.idx.toolbar||this.conf.idx.cont]),"toolbar"==c&&this.cell.insertBefore(this.views[a].dataNodesCont[c],this.cell.childNodes[this.conf.idx.cont]),"sb"==c&&this.cell.appendChild(this.views[a].dataNodesCont[c]),this._updateIdx();for(var c in this.views[a].ofs_nodes)for(var d in this.views[a].ofs_nodes[c])this.conf.ofs_nodes[c][d]=this.views[a].ofs_nodes[c][d];this.conf.borders!=this.views[a].borders&&this[this.views[a].borders?"_showBorders":"_hideBorders"](!0),this.callEvent("_onViewRestore",[a]),this._viewDelete(a)}},this._viewDelete=function(a){if(null!=this.views[a]){this.views[a].borders=null;for(var b in this.views[a].ofs_nodes){for(var c in this.views[a].ofs_nodes[b])this.views[a].ofs_nodes[b][c]=null;this.views[a].ofs_nodes[b]=null}this.views[a].dataType=null,this.views[a].dataObj=null;for(var d=0;d<this.views[a].cellCont.length;d++)this.views[a].cellCont[d]=null;this.views[a].cellCont=null;for(var b in this.views[a].dataNodes)this.views[a].dataNodes[b]=null,this.views[a].dataNodesCont[b]=null;this.views[a].dataNodes=this.views[a].dataNodesCont=null,this.views[a]=null,delete this.views[a]}},window.dhx4._eventable(this),this._updateIdx(),this}function dhtmlXLayoutObject(a,b,c){var d=null;if(null!=a&&"object"==typeof a&&"undefined"==typeof a.tagName&&1!=a._isCell&&(d={},null!=a.autosize&&(d.autosize=a.autosize),null!=a.cells&&(d.cells=a.cells),null!=a.pattern&&(b=a.pattern),null!=a.skin&&(c=a.skin),null!=a.offsets&&(d.offsets=a.offsets),a=a.parent),a==document.body)this.base=a;else if("string"==typeof a)this.base=document.getElementById(a);else{if(1==a._isCell){var e="undefined"!=typeof d&&null!=d?d:{};null==e.pattern&&null!=b&&(e.pattern=b),null==e.skin&&null!=c&&(e.skin=c);var f=a.attachLayout(e);return f}this.base=a}if(this.base!=document.body)for(;this.base.childNodes.length>0;)this.base.removeChild(this.base.lastChild);if(this.cdata={},this.conf={skin:c||window.dhx4.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||window.dhx4.skinDetect("dhxlayout")||"dhx_skyblue",hh:20,progress:!1,autosize:"b",nextCell:{a:"b",b:"a"},ofs:{t:0,b:0,l:0,r:0},ofs_nodes:{t:{},b:{}},inited:!1,b_size:{w:-1,h:-1}},this.conf.sw=this._detectSW(),this.base.className+=" dhxlayout_base_"+this.conf.skin,this.base==document.body){var g={dhx_skyblue:{t:2,b:2,l:2,r:2},dhx_web:{t:8,b:8,l:8,r:8},dhx_terrace:{t:9,b:9,l:8,r:8}};this.conf.ofs=null!=g[this.conf.skin]?g[this.conf.skin]:g.dhx_skyblue}null!=d&&null!=d.offsets?this.setOffsets(d.offsets):null!=this.base._ofs&&(this.setOffsets(this.base._ofs),this.base._ofs=null,delete this.base._ofs),this.dataNodes={};var h=this;this._getLayout=function(){return this},this.mainInst=null!=a._layoutMainInst?a._layoutMainInst:null,this._getMainInst=function(){return null!=this.mainInst?this.mainInst._getMainInst():this},this._init=function(a){var b="string"==typeof a?this.tplData[a]:a;this.conf.mode=b.mode,"c"==this.conf.mode?this.cdata.a=new dhtmlXLayoutCell("a",this):(this.cdata.a=new dhtmlXLayoutCell("a",this),this.cdata.b=new dhtmlXLayoutCell("b",this));for(var c in this.cdata)this.base.appendChild(this.cdata[c].cell),this.cdata[c].conf.init={w:.5,h:.5};if("c"!=this.conf.mode){var d=this._getMainInst();null==d.conf.sep_idx?d.conf.sep_idx=1:d.conf.sep_idx++,this.sep=new dhtmlXLayoutSepObject(this.conf.mode,d.conf.sep_idx),this.base.appendChild(this.sep.sep),this.sep._getLayout=function(){return h._getLayout()},d=null}if(null!=b.cells)for(var c in b.cells)null!=b.cells[c].width&&(this.cdata[c].conf.init.w=b.cells[c].width),null!=b.cells[c].height&&(this.cdata[c].conf.init.h=b.cells[c].height),null!=b.cells[c].name&&(this.cdata[c].conf.name=b.cells[c].name,this.cdata[c].setText(b.cells[c].name)),null!=b.cells[c].fsize&&(this.cdata[c].conf.fsize=b.cells[c].fsize);this.setSizes();for(var c in this.cdata)this.cdata[c].conf.init={};if(null!=b.cells)for(var c in b.cells)null!=b.cells[c].layout&&(this.cdata[c].dataNested=!0,this.cdata[c]._layoutMainInst=this,this.cdata[c].attachLayout({pattern:b.cells[c].layout}),this.cdata[c]._layoutMainInst=null)},this.setSizes=function(a,b,c,d){var e=1==this.conf.inited&&this._getMainInst()==this&&1==this.checkEvent("onResizeFinish")?{}:!1,f=this.conf.ofs.t;for(var g in this.conf.ofs_nodes.t)f+=1==this.conf.ofs_nodes.t[g]?this.dataNodes[g].offsetHeight:0;var h=this.conf.ofs.b;for(var g in this.conf.ofs_nodes.b)h+=1==this.conf.ofs_nodes.b[g]?this.dataNodes[g].offsetHeight:0;var i=this.conf.ofs.l,j=this.conf.ofs.r,k=this.base.offsetWidth,l=this.base.offsetHeight;if("c"==this.conf.mode){var m=j,n=f,o=k-i-j,p=l-f-h;return this.cdata.a._setSize(m,n,o,p,a,c,d),this.callEvent("_onSetSizes",[]),!e||this.conf.b_size.w==k&&this.conf.b_size.h==l||this._callMainEvent("onResizeFinish",[]),void(this.conf.b_size={w:k,h:l})}if("undefined"==typeof b){{"v"==this.conf.mode?"w":"h"}b=this.conf.autosize,this.cdata.a.conf.collapsed?b="b":this.cdata.b.conf.collapsed?b="a":("a"==a||"b"==a)&&(b=this.conf.nextCell[a])}if("v"==this.conf.mode){if("a"==b){if(null!=this.cdata.b.conf.init.w)var q=Math.round(k*this.cdata.b.conf.init.w-this.conf.sw/2)-j;else var q=this.cdata.b.conf.size.w;var r=k-q-j,s=f,t=l-f-h,m=i,n=s,o=r-m-this.conf.sw,p=t}else{var m=i,n=f;if(null!=this.cdata.a.conf.init.w)var o=Math.round(k*this.cdata.a.conf.init.w-this.conf.sw/2)-m;else var o=this.cdata.a.conf.size.w;var p=l-n-h,r=m+o+this.conf.sw,s=n,q=k-r-j,t=p}this.cdata.a._setSize(m,n,o,p,a,c,d),this.cdata.b._setSize(r,s,q,t,a,c,d),this.sep._setSize(m+o,n,this.conf.sw,p)}else{if("a"==b){if(null!=this.cdata.b.conf.init.h)var t=Math.round((l-f)*this.cdata.b.conf.init.h-this.conf.sw/2);else var t=this.cdata.b.conf.size.h;var r=i,s=l-h-t,q=k-r-j,m=r,n=f,o=q,p=s-n-this.conf.sw}else{var m=i,n=f,o=k-m-j;if(null!=this.cdata.a.conf.init.h)var p=Math.round((l-f)*this.cdata.a.conf.init.h-this.conf.sw/2);else var p=this.cdata.a.conf.size.h;var r=m,s=n+p+this.conf.sw,q=o,t=l-s-h}this.cdata.a._setSize(m,n,o,p,a,c,d),this.cdata.b._setSize(r,s,q,t,a,c,d),this.sep._setSize(m,n+p,o,this.conf.sw)}this.callEvent("_onSetSizes",[]),!e||this.conf.b_size.w==k&&this.conf.b_size.h==l||this._callMainEvent("onResizeFinish",[]),this.conf.b_size={w:k,h:l}},this._getAvailWidth=function(){for(var a=[],b=0;b<this.conf.as_cells.h.length;b++){var c=this.cells(this.conf.as_cells.h[b]),d=c.layout,e=d.conf.autosize;c.conf.collapsed&&(c=d.cdata[d.conf.nextCell[c._idd]],e=d.conf.nextCell[e]),a.push(Math.max(0,c.getWidth()-c._getMinWidth(e))),d=c=null}var f=a.length>0?Math.min.apply(window,a):0;return this.base.offsetWidth-f},this._getAvailHeight=function(){for(var a=[],b=0;b<this.conf.as_cells.v.length;b++){var c=this.cells(this.conf.as_cells.v[b]),d=c.layout,e=d.conf.autosize;c.conf.collapsed&&(c=d.cdata[d.conf.nextCell[c._idd]],e=d.conf.nextCell[e]),a.push(Math.max(0,c.getHeight()-c._getHdrHeight()-c._getMinHeight(e))),d=c=null}var f=Math.min.apply(window,a);return this.base.offsetHeight-f},this.setSkin=function(a){this.base.className=this.base.className.replace(new RegExp("dhxlayout_dhx_"+this.conf.skin,"gi"),"dhxlayout_dhx_"+a),this.conf.skin=a},this.unload=function(){this.conf.unloading=!0,this.mainInst=null,this.parentLayout=null,this._mtbUnload(),this.detachHeader(),this.detachFooter(),window.dhx4._eventable(this,"clear");var a=new RegExp("s{0,}dhxlayout_base_"+this.conf.skin,"gi");if(this.base.className=this.base.className.replace(a,""),null!=this.items){for(var b=0;b<this.items.length;b++)this.items[b]=null;this.items=null}1==this.conf.fs_mode&&(window.addEventListener?window.removeEventListener("resize",this._doOnResizeStart,!1):window.detachEvent("onresize",this._doOnResizeStart)),null!=this.dhxWins&&(this.dhxWins.unload(),this.dhxWins=null),null!=this.sep&&(this.sep._unload(),this.sep=null);for(var c in this.cdata)this.cdata[c]._unload();this.base=null;for(var c in this)this[c]=null;h=null},this._getWindowMinDimension=function(a){var b=h._getAvailWidth()+7+7,c=h._getAvailHeight()+7+31,d={w:Math.max(b,200),h:Math.max(c,140)};return a=null,d},this.base==document.body&&(this.conf.fs_mode=!0,this._tmTime=null,this._doOnResizeStart=function(){window.clearTimeout(h._tmTime),h._tmTime=window.setTimeout(h._doOnResizeEnd,200)},this._doOnResizeEnd=function(){h.setSizes()},window.addEventListener?window.addEventListener("resize",this._doOnResizeStart,!1):window.attachEvent("onresize",this._doOnResizeStart)),window.dhx4._eventable(this),this._callMainEvent=function(a,b){return this.callEvent(a,b)},this._init(b||"3E");var i=this._availAutoSize[b];if(null!=i&&(this.conf.pattern=b,this.setAutoSize(i.h[i.h.length-1],i.v[i.v.length-1])),"function"==typeof window.dhtmlXWindows&&(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.conf.skin)),this.conf.inited=!0,this==this._getMainInst()){var j=0;this.items=[],this.forEachItem(function(a){h.items.push(a),a.conf.index=j++})}if(this==this._getMainInst()&&null!=d&&(null!=d.autosize&&this.setAutoSize.apply(this,d.autosize),null!=d.cells))for(var k=0;k<d.cells.length;k++){var l=d.cells[k],m=this.cells(l.id);l.width&&m.setWidth(l.width),l.height&&m.setHeight(l.height),l.text&&m.setText(l.text),l.collapsed_text&&m.setCollapsedText(l.collapsed_text),l.collapse&&m.collapse(),l.fix_size&&m.fixSize(l.fix_size[0],l.fix_size[1]),"undefined"!=typeof l.header&&0==window.dhx4.s2b(l.header)&&m.hideHeader()}return d=null,this}function dhtmlXLayoutSepObject(a,b){var c=this;return this.conf={mode:a,idx:b,blocked:!1,locked:!1},this._isLayoutSep=!0,this.sep=document.createElement("DIV"),this.sep.className="dhxlayout_sep",this._btnLeft=window.dhx4.isIE&&!window.addEventListener?1:0,window.dhx4.isIE&&(this.sep.onselectstart=function(){return!1}),this.sep.className="dhxlayout_sep dhxlayout_sep_resize_"+this.conf.mode,this._setSize=function(a,b,c,d){this.sep.style.left=a+"px",this.sep.style.top=b+"px",this.sep.style.width=c+"px",this.sep.style.height=d+"px"},this._lockSep=function(a){this.conf.locked=1==a,this._blockSep()},this._blockSep=function(){var a=this._getLayout(),b=a.cdata.a.conf.collapsed||a.cdata.b.conf.collapsed||this.conf.locked;a=null,this.conf.blocked!=b&&(this.sep.className="dhxlayout_sep"+(b?"":" dhxlayout_sep_resize_"+this.conf.mode),this.conf.blocked=b)},this._beforeResize=function(a){if(!this.conf.blocked&&(null==this.conf.resize||1!=this.conf.resize.active)&&a.button===this._btnLeft){var b=this._getLayout();this.conf.resize={sx:a.clientX,sy:a.clientY,tx:a.layerX,ty:a.layerY,sep_x:parseInt(this.sep.style.left),sep_y:parseInt(this.sep.style.top),min_wa:b.cdata.a._getAvailWidth("a"),min_wb:b.cdata.b._getAvailWidth("b"),min_ha:b.cdata.a._getAvailHeight("a"),min_hb:b.cdata.b._getAvailHeight("b")},this.conf.resize.nx=this.conf.resize.sep_x,this.conf.resize.ny=this.conf.resize.sep_y,window.addEventListener?(document.body.addEventListener("mousemove",this._doOnMouseMove,!1),document.body.addEventListener("mouseup",this._doOnMouseUp,!1)):(document.body.attachEvent("onmousemove",this._doOnMouseMove),document.body.attachEvent("onmouseup",this._doOnMouseUp)),b=null}},this._onResize=function(a){if(this.conf.resize.active||(this._initResizeArea(),this.conf.resize.active=!0),"v"==this.conf.mode){var b=this.conf.resize.sx-a.clientX;this.conf.resize.nx=this.conf.resize.sep_x-b,this.conf.resize.nx>this.conf.resize.sep_x+this.conf.resize.min_wb?this.conf.resize.nx=this.conf.resize.sep_x+this.conf.resize.min_wb:this.conf.resize.nx<this.conf.resize.sep_x-this.conf.resize.min_wa&&(this.conf.resize.nx=this.conf.resize.sep_x-this.conf.resize.min_wa),this.r_sep.style.left=this.conf.resize.nx+"px"}else{var b=this.conf.resize.sy-a.clientY;this.conf.resize.ny=this.conf.resize.sep_y-b,this.conf.resize.ny>this.conf.resize.sep_y+this.conf.resize.min_hb?this.conf.resize.ny=this.conf.resize.sep_y+this.conf.resize.min_hb:this.conf.resize.ny<this.conf.resize.sep_y-this.conf.resize.min_ha&&(this.conf.resize.ny=this.conf.resize.sep_y-this.conf.resize.min_ha),this.r_sep.style.top=this.conf.resize.ny+"px"}},this._afterResize=function(a){if(window.addEventListener?(document.body.removeEventListener("mousemove",this._doOnMouseMove,!1),document.body.removeEventListener("mouseup",this._doOnMouseUp,!1)):(document.body.detachEvent("onmousemove",this._doOnMouseMove),document.body.detachEvent("onmouseup",this._doOnMouseUp)),!this.conf.resize.active)return void(this.conf.resize=null);if(a.button===this._btnLeft){var b=this._getLayout(),c=b._getMainInst(),d=1==c.checkEvent("onPanelResizeFinish")?{}:!1;d!==!1&&c.forEachItem(function(a){d[a.conf.name]={w:a.conf.size.w,h:a.conf.size.h},a=null});var e=this.conf.resize.nx-this.conf.resize.sep_x,f=this.conf.resize.ny-this.conf.resize.sep_y;if(b.cdata.a._setSize(b.cdata.a.conf.size.x,b.cdata.a.conf.size.y,b.cdata.a.conf.size.w+e,b.cdata.a.conf.size.h+f,"a"),b.cdata.b._setSize(b.cdata.b.conf.size.x+e,b.cdata.b.conf.size.y+f,b.cdata.b.conf.size.w-e,b.cdata.b.conf.size.h-f,"b"),this._setSize(parseInt(this.r_sep.style.left),parseInt(this.r_sep.style.top),parseInt(this.r_sep.style.width),parseInt(this.r_sep.style.height)),window.dhx4.isIE){var g=this;window.setTimeout(function(){g._removeResizeArea(),g=null},1)}else this._removeResizeArea();if(d!==!1){var h=[];c.forEachItem(function(a){var b=d[a.conf.name];(b.w!=a.conf.size.w||b.h!=a.conf.size.h)&&h.push(a.conf.name),a=null}),c._callMainEvent("onPanelResizeFinish",[h])}c=b=null,this.conf.resize.active=!1,this.conf.resize=null}},this._initResizeArea=function(){if(this.r_sep||(this.r_sep=document.createElement("DIV"),this.r_sep.className="dhxlayout_resize_sep",this.r_sep.style.left=this.sep.style.left,this.r_sep.style.top=this.sep.style.top,this.r_sep.style.width=this.sep.style.width,this.r_sep.style.height=this.sep.style.height,this.sep.parentNode.appendChild(this.r_sep),window.dhx4.isIE&&(this.r_sep.onselectstart=function(){return!1})),!this.r_area){if(this.r_area=document.createElement("DIV"),this.r_area.className="dhxlayout_resize_area",this.sep.parentNode.appendChild(this.r_area),window.dhx4.isIE&&(this.r_area.onselectstart=function(){return!1}),"v"==this.conf.mode)var a=parseInt(this.r_sep.style.left)-this.conf.resize.min_wa,b=parseInt(this.r_sep.style.top),c=this.conf.resize.min_wa+this.conf.resize.min_wb+parseInt(this.r_sep.style.width),d=parseInt(this.r_sep.style.height);else var a=parseInt(this.r_sep.style.left),b=parseInt(this.r_sep.style.top)-this.conf.resize.min_ha,c=parseInt(this.r_sep.style.width),d=this.conf.resize.min_ha+this.conf.resize.min_hb+parseInt(this.r_sep.style.height);this.r_area.style.left=a+"px",this.r_area.style.top=b+"px",dhtmlXLayoutObject.prototype._confGlob.reszieCover||(dhtmlXLayoutObject.prototype._confGlob.reszieCover={},this.r_area.style.width=c+"px",this.r_area.style.height=d+"px",dhtmlXLayoutObject.prototype._confGlob.reszieCover.w=parseInt(this.r_area.style.width)-this.r_area.offsetWidth,dhtmlXLayoutObject.prototype._confGlob.reszieCover.h=parseInt(this.r_area.style.height)-this.r_area.offsetHeight),this.r_area.style.width=c+dhtmlXLayoutObject.prototype._confGlob.reszieCover.w+"px",this.r_area.style.height=d+dhtmlXLayoutObject.prototype._confGlob.reszieCover.h+"px"}document.body.className+=" dhxlayout_resize_"+this.conf.mode},this._removeResizeArea=function(){this.r_sep.onselectstart=null,this.r_sep.parentNode.removeChild(this.r_sep),this.r_sep=null,this.r_area.onselectstart=null,this.r_area.parentNode.removeChild(this.r_area),this.r_area=null,document.body.className=String(document.body.className).replace(/\s{0,}dhxlayout_resize_[vh]/gi,"")},this._doOnMouseDown=function(a){a=a||event,a.preventDefault?a.preventDefault():a.cancelBubble=!0,c._beforeResize(a)},this._doOnMouseMove=function(a){a=a||event,a.preventDefault?a.preventDefault():a.cancelBubble=!0,c._onResize(a)},this._doOnMouseUp=function(a){a=a||event,c._afterResize(a)},"function"==typeof window.addEventListener?this.sep.addEventListener("mousedown",this._doOnMouseDown,!1):this.sep.attachEvent("onmousedown",this._doOnMouseDown),this._unload=function(){"function"==typeof window.addEventListener?this.sep.removeEventListener("mousedown",this._doOnMouseDown,!1):this.sep.detachEvent("onmousedown",this._doOnMouseDown),this.sep.parentNode.removeChild(this.sep),this.sep=null;for(var a in this)this[a]=null;c=null},this}function dhtmlXAccordion(a,b){var c=this,d=window.dhx4.transDetect();this.conf={skin:b||window.dhx4.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||window.dhx4.skinDetect("dhxacc")||"dhx_skyblue",icons_path:"",multi_mode:!1,last_opened:null,on_active_id:null,on_active_click:!1,size_changed:!0,def_height:90,total_count:0,hiden_count:0,base_w:null,fs_mode:!1,fs_tm:null,fs_base_ofs:{w:2,h:2}},this.conf.tr={prop:d.transProp,ev:d.transEv,height_open:"height 0.2s cubic-bezier(0.25,0.1,0.25,1)",height_close:"height 0.18s cubic-bezier(0.25,0.1,0.25,1)",op_open:"opacity 0.16s ease-in",op_close:"opacity 0.2s ease-out",op_v_open:"1",op_v_close:"0.4",dnd_top:"top 0.16s"},this.ofs={m:{},s:{},def:{m:{left:0,right:0,first:0,between:8},s:{left:0,right:0,first:0,between:-1,last:0}},base:{s:{},m:{}},skin:{dhx_web:{s:{between:3},m:{between:3}},dhx_terrace:{m:{between:12,left:0,right:0}}}},this.conf.tr.height_open=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0?this.conf.tr.height_close:this.conf.tr.height_close;var e=null;if("object"==typeof a&&!a.tagName){e={};for(var f in a)e[f]=a[f],a[f]=null;a=e.parent,e.parent=null}if(a==document.body)document.documentElement.className+=" dhxacc_fullscreen",document.body.className+=" dhxacc_fullscreen",this.conf.fs_mode=!0,this.base=document.createElement("DIV"),this.base.className="dhxacc_base_"+this.conf.skin,this.base.style.position="absolute",this.base.style.left=this.conf.fs_base_ofs.w+"px",this.base.style.top=this.conf.fs_base_ofs.h+"px",document.body.appendChild(this.base);else for(this.base="string"==typeof a?document.getElementById(a):a,a=null,this.base.className+=" dhxacc_base_"+this.conf.skin;this.base.childNodes.length>0;)this.base.removeChild(this.base.lastChild);if(null!=this.base._ofs)for(var g in this.ofs.base)if(null!=this.base._ofs[g])for(var f in this.base._ofs[g])this.ofs.base[g][f]=this.base._ofs[g][f];return this._applyOffsets=function(){for(var a in this.ofs.def){var b=this.ofs.def[a],c=null!=this.ofs.skin[this.conf.skin]&&null!=this.ofs.skin[this.conf.skin][a]?this.ofs.skin[this.conf.skin][a]:null,d=null!=this.base._ofs?this.base._ofs[a]:null;for(var e in b)this.ofs[a][e]=null!=c&&null!=c[e]?c[e]:null!=d&&null!=d[e]?d[e]:b[e]}},this._applyOffsets(),this.t={},this.addItem=function(a,b,d,e,f){for(null==a&&(a="a"+window.dhx4.newId());null!=this.t[a];)a="a"+window.dhx4.newId();var g=new dhtmlXAccordionCell(a,this);if(g.conf.skin=this.conf.skin,g.setText(b),null!=f&&g.setIcon(f),g.cell._accId=a,g.cell.childNodes[g.conf.idx.hdr].onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},g.cell.childNodes[g.conf.idx.hdr].onclick=function(a){if(a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,null==c._dnd||1!=c._dnd.ofs){for(var b=a.target||a.srcElement,d=null;b._accId!=this&&null==d;)null!=b._accId?d=b._accId:b=b.parentNode;null!=d&&c._hdrClick(d)}},this.t[a]={cell:g},this.conf.total_count++,this.conf.multi_mode)"undefined"==typeof d&&(d=!0),this.base.appendChild(g.cell),g.conf.opened=1==d,"undefined"==typeof e||null==e||"*"==e?("*"==e&&(g.conf.h_auto=!0),e=this.conf.def_height):e=Math.max(parseInt(e),30),g._setSize(this.ofs.m.left,0,this.conf.base_w||this._getAvailItemWidth(),g.conf.opened?e:g._getHdrHeight()),g.cell.style.marginTop=(g.cell==this.base.firstChild?this.ofs.m.first:this.ofs.m.between)+"px",1!=d&&(g.conf.size.h=e,g._adjustCell(),g.cell.className+=" dhx_cell_closed"),this._adjustOpened(),null!=this._dnd&&this._dndAttachEvent(a);else{d=null==this.conf.last_opened?!0:window.dhx4.s2b(d);var h=this._updateCellsHeight();if(null!=this.conf.last_opened)if(d)this._closeItem(this.conf.last_opened,!1);else{var i=this.t[this.conf.last_opened].cell;i._setSize(i.conf.size.x,i.conf.size.y,i.conf.size.w,h),i=null}this.base.appendChild(g.cell),g.conf.opened=d,g.cell.style.marginTop=String(g.cell==this.base.firstChild?this.ofs.s.first:this.ofs.s.between)+"px",g._setSize(this.ofs.s.left,0,this.conf.base_w||this._getAvailItemWidth(),d?h:g._getHdrHeight()),d?this.conf.last_opened=a:(g.conf.size.h=h,g._adjustCell(),g.cell.className+=" dhx_cell_closed")}return g=null,this.t[a].cell},this.removeItem=function(a){this.t[a]&&(this.conf.last_opened==a&&(this.conf.last_opened=null),this.conf.on_active_id==a&&(this.conf.on_active_id=null),null!=this._dnd&&this._dndClearCell(a),this.conf.total_count--,this.conf.multi_mode||this.t[a].cell.conf.visible||this.conf.hiden_count--,this.t[a].cell._unload(),this.t[a].cell=null,this.t[a]=null,delete this.t[a],this.conf.unloading||(this.conf.multi_mode||this._updateCellsMargin(),this.setSizes()))},this.cells=function(a){return this.t[a].cell},this.enableMultiMode=function(a,b){this.conf.multi_mode=!0,isNaN(b)||(this.conf.def_height=b),"auto"==a||"scroll"==a?(this.base.style.overflowX="hidden",this.base.style.overflowY=a):this.base.style.overflow="visible"},this.forEachItem=function(a){for(var b in this.t)"function"==typeof a?a.apply(this,[this.t[b].cell]):"string"==typeof a&&"function"==typeof window[a]&&window[a].apply(this,[this.t[b].cell])},this._openItem=function(a,b){"undefined"==typeof b&&(b=!0),0==this.t[a].cell.conf.opened&&(this.conf.multi_mode?this.t[a].cell._open(b):0==this.conf.tr.prop?(null!=this.conf.last_opened&&this.t[this.conf.last_opened].cell._close(!1),this.t[a].cell._open(!1),this.conf.last_opened=a):(this.conf.on_active_id=a,this.t[a].cell._open(b),null!=this.conf.last_opened&&this.t[this.conf.last_opened].cell._close(b),this.conf.last_opened=a))},this._closeItem=function(a,b){"undefined"==typeof b&&(b=!0),1==this.t[a].cell.conf.opened&&(this.t[a].cell._close(b),this.conf.last_opened=null)},this._adjustOpened=function(){if(1==this.conf.multi_mode){if(null==this._openCache){var a=this._getDynData();for(var b in a)this.t[b].cell.conf.size.h=a[b],this.t[b].cell.cell.style.height=a[b]+"px"}else{var c=!1;for(var b in this._openCache)c=c||this._openCache[b];if(1==c)return;this._openCache=this._openId=null}var d=this._getAvailItemWidth();for(var b in this.t){var e=!0;d!=this.t[b].cell.conf.size.w||"close"!=this._openMode&&0!=this.t[b].cell.conf.opened||(e=!1),e&&this.t[b].cell._setWidth(d)}this._openMode=null}else if(null!=this.conf.last_opened){var f=this.conf.last_opened;this.t[f].cell._setSize(this.t[f].cell.conf.size.x,this.t[f].cell.conf.size.y,this.t[f].cell.conf.size.w,this.t[f].cell.conf.size.h)}},this._getDynData=function(a,b){("undefined"==typeof a||null==a)&&(a={}),("undefined"==typeof b||null==b)&&(b={});for(var c={},d=0,e=0,f=0,g=0;g<this.base.childNodes.length;g++){var h=this.base.childNodes[g]._accId,i=this.t[h].cell;if(1==i.conf.visible){var j=this.ofs.m[0==f?"first":"between"];if(1==a[h]||1==b[h]||1==i.conf.opened&&1==i.conf.h_auto)if(1==b[h]){var k=i._getHdrHeight();c[h]=k,e+=k+j}else 1==i.conf.h_auto?(c[h]=!0,e+=j,d++):1==a[h]&&(c[h]=i.conf.size.h,e+=i.conf.size.h+j);else e+=i.cell.offsetHeight+j;f++}i=null}if(d>0){var l=this.base.offsetHeight-e,e=Math.floor(l/d);for(var m in c)1==c[m]&&(d>1?l-=e:e=l,c[m]=e,d--)}return c},this._adjustBase=function(){this.conf.fs_mode&&(this.base.style.width=document.body.offsetWidth-2*this.conf.fs_base_ofs.w+"px",this.base.style.height=document.body.offsetHeight-2*this.conf.fs_base_ofs.h+"px")},this.setSizes=function(){if(this._adjustBase(),1==this.conf.multi_mode)this._adjustOpened();else{this.conf.base_w=null;var a=this._updateCellsHeight();for(var b in this.t)this.t[b].cell._setSize(this.ofs.s.left,0,this.conf.base_w||this._getAvailItemWidth(),this.t[b].cell.conf.opened?a:this.t[b].cell._getHdrHeight()),this.t[b].cell.conf.opened||(this.t[b].cell.conf.size.h=a,this.t[b].cell._adjustCell());this.conf.size_changed=!0}},this.setSkin=function(a){this.base.className=String(this.base.className).replace(new RegExp("\\s{1,}dhxacc_base_"+this.conf.skin+"\\s{0,}$")," dhxacc_base_"+a),this.conf.skin=a;for(var b in this.t)this.t[b].cell.conf.cells_cont=null,this.t[b].cell.conf.skin=this.conf.skin;this._applyOffsets(),this._updateCellsMargin(),this.setSizes()},this.setIconsPath=function(a){this.conf.icons_path=a},this._getAvailItemWidth=function(){var a=this.ofs[this.conf.multi_mode?"m":"s"],b=Math.max(this.base.clientWidth-a.left-a.right,10);return this.conf.base_w=b,a=null,b},this._updateCellsHeight=function(){if(1!=this.conf.multi_mode){var a=this.conf.total_count-this.conf.hiden_count,b=this.base.offsetHeight-this.ofs.s.last;if(0==a)return b;for(var c=!1,d=0;d<this.base.childNodes.length;d++)if(0==c){var e=this.base.childNodes[d]._accId;this.t[e].cell.conf.visible&&(b-=this.t[e].cell._getHdrHeight()*(a-1),c=!0)}b-=(a-1)*this.ofs.s.between+this.ofs.s.first;for(var f in this.t)null!=this.t[f].cell.conf.size&&(this.t[f].cell.conf.size.h=b,this.t[f].cell._adjustCell());return b}},this._updateCellsMargin=function(){for(var a=0,b=0;b<this.base.childNodes.length;b++){var c=this.base.childNodes[b]._accId;this.t[c].cell.conf.visible&&(this.t[c].cell.cell.style.marginTop=String(this.ofs[this.conf.multi_mode?"m":"s"][0==a++?"first":"between"])+"px")}},this._hdrClick=function(a){if(this.conf.multi_mode||!this.t[a].cell.conf.opened){var b=this.t[a].cell.conf.opened;this.callEvent("onBeforeActive",[a,b?!1:!0])===!0&&(this.conf.on_active_click=!0,this[b?"_closeItem":"_openItem"](a),this.conf.multi_mode&&0==this.conf.tr.prop&&this._adjustOpened())}},this.unload=function(){this.conf.unloading=!0;for(var a in this.t)this.removeItem(a);this.t=null,"function"==typeof this._unloadDND&&this._unloadDND(),this.conf.fs_mode&&(this.conf.fs_tm&&window.clearTimeout(this.conf.fs_tm),window.addEventListener?window.removeEventListener("resize",this._doOnResizeStart,!1):window.detachEvent("onresize",this._doOnResizeStart),this._doOnResizeStart=null,this._doOnResizeEnd=null,this.conf.fs_tm=null),this.dhxWins&&(this.dhxWins.unload(),this.dhxWins=null),window.dhx4._eventable(this,"clear"),window.dhx4._enableDataLoading(this,null,null,null,"clear"),this.base.className=String(this.base.className).replace(new RegExp("\\s{1,}dhxacc_base_"+this.conf.skin+"\\s{0,}$"),""),this.base=null,this.ofs=this.conf=null;
for(var a in this)this[a]=null;c=null},this.setOffset=function(a){this.ofs.s.between=a,this.ofs.m.between=a,this._updateCellsMargin(),this.setSizes()},this._initObj=function(a){if(null!=a.skin&&this.setSkin(a.skin),window.dhx4.s2b(a.multi_mode)&&this.enableMultiMode(),null!=a.icons_path&&this.setIconsPath(a.icons_path),null!=a.icon_path&&this.setIconsPath(a.icon_path),null!=a.items)for(var b=0;b<a.items.length;b++)this.addItem(a.items[b].id,a.items[b].text,a.items[b].open,a.items[b].height,a.items[b].icon||a.items[b].img);1==window.dhx4.s2b(a.dnd)&&"function"==typeof this.enableDND&&this.enableDND()},this._xmlToObj=function(a){var b={items:[]},c=a.getElementsByTagName("accordion")[0];null!=c.getAttribute("skin")&&(b.skin=c.getAttribute("skin")),"multi"==c.getAttribute("mode")&&(b.multi_mode=!0),null!=c.getAttribute("multiMode")&&(b.multi_mode=window.dhx4.s2b(c.getAttribute("multiMode"))),null!=c.getAttribute("iconsPath")&&(b.icons_path=c.getAttribute("iconsPath"));for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d];if("undefined"!=typeof e.tagName&&"cell"==String(e.tagName).toLowerCase()){var f={};null!=e.getAttribute("id")&&(f.id=e.getAttribute("id")),null!=e.getAttribute("icon")&&(f.icon=e.getAttribute("icon")),null!=e.getAttribute("height")&&(f.height=e.getAttribute("height")),null!=e.getAttribute("open")&&(f.open=window.dhx4.s2b(e.getAttribute("open"))),f.text=e.firstChild.nodeValue,b.items.push(f)}e=null}return b},window.dhx4._enableDataLoading(this,"_initObj","_xmlToObj","accordion",{struct:!0}),window.dhx4._eventable(this),this._callMainEvent=function(a,b){return this.callEvent(a,b)},this.attachEvent("onActive",function(a){null!=this.t[a].cell.dataObj&&"editor"==this.t[a].cell.dataType&&this.t[a].cell.dataObj._prepareContent(!0),1==this.t[a].cell.conf.opened&&this.t[a].cell._adjustProgress()}),this.conf.fs_mode&&(this._adjustBase(),this.conf.fs_tm=null,this._doOnResizeStart=function(){c.conf.fs_tm&&window.clearTimeout(c.conf.fs_tm),c.conf.fs_tm=window.setTimeout(c._doOnResizeEnd,200)},this._doOnResizeEnd=function(){c.setSizes()},window.addEventListener?window.addEventListener("resize",this._doOnResizeStart,!1):window.attachEvent("onresize",this._doOnResizeStart)),"function"==typeof window.dhtmlXWindows&&(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.conf.skin)),null!=e&&(this._initObj(e),e=null),this}function dhtmlXAccordionCell(a,b){dhtmlXCellObject.apply(this,[a,"_acc"]),this.acc=b,this.conf.visible=!0,this.conf.docked=!0,this.attachEvent("_onCellUnload",function(){this._trDetachEv(),this._unloadDocking(),this.acc=null,this.cell._accObj=null,this.cell.childNodes[this.conf.idx.hdr].onselectstart=null,this.cell.childNodes[this.conf.idx.hdr].onclick=null,this._initHeader=null,this._getHdrHeight=null,this._setWidth=null,this._adjustCell=null,this._open=null,this._close=null,this._isOpened=null,this._trInitEv=null,this._trAttachEv=null,this._trDetachEv=null,this._trOnEnd=null,this._onActiveCall=null,this.setText=null,this.getText=null,this.setIcon=null,this.clearIcon=null,this.show=null,this.hide=null,this.isVisible=null,this.setHeight=null,this.moveOnTop=null}),this.attachEvent("_onContentLoaded",function(){this.acc._callMainEvent("onContentLoaded",arguments)}),this._initHeader(),this.conf.tr={};for(var c in this.acc.conf.tr)this.conf.tr[c]=this.acc.conf.tr[c];return 0!=this.conf.tr.prop&&this.attachEvent("_onIdxUpdated",function(){this._cellSetOpacity(this.conf.opened?"open":"close",!1)}),this.open=function(){this.acc._openItem(this._idd)},this.close=function(){this.acc._closeItem(this._idd)},this._setWidth=function(a){a!=this.conf.size.w&&(this.conf.size.w=a,this.cell.style.width=a+"px"),this._adjustCell()},this._adjustCell=function(){this._adjustCont(),null!=this.dataObj&&"function"==typeof this.dataObj.setSizes&&this.dataObj.setSizes()},this._initDocking(),this}function dhtmlXTabBar(a,b){var c=this;this.conf={skin:window.dhx4.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||window.dhx4.skinDetect("dhxtabbar")||"dhx_skyblue",fullScreen:!1,fullScreenResize:!1,lastActive:null,closeButton:!1,align:"left",tabsMode:"bottom"==b?"bottom":"top",contZone:!0,transSpeed:"0.15s",arwMode:"always",baseOfs:{w:2,h:2},tabsOfs:1,tabsTop:0,autoload:{}};var d;null!=a&&"object"==typeof a&&"undefined"==typeof a.tagName?(d=a.parent,"undefined"!=typeof a.skin&&(this.conf.skin=a.skin),"undefined"!=typeof a.mode&&(this.conf.tabsMode="bottom"==a.mode?"bottom":"top"),"undefined"!=typeof a.align&&(this.conf.align="right"==a.align?"right":"left"),"undefined"!=typeof a.close_button&&(this.conf.closeButton=window.dhx4.s2b(a.close_button)),"undefined"!=typeof a.content_zone&&(this.conf.contZone=window.dhx4.s2b(a.content_zone)),"undefined"!=typeof a.xml&&(this.conf.autoload.xml=a.xml),"undefined"!=typeof a.json&&(this.conf.autoload.xml=a.json),"undefined"!=typeof a.tabs&&(this.conf.autoload.tabs=a.tabs),"undefined"!=typeof a.onload&&(this.conf.autoload.tabs=a.tabs),"undefined"!=typeof a.arrows_mode&&(this.conf.autoload.arrows_mode=a.arrows_mode)):d=a,d==document.body?(document.documentElement.className+=" dhxtabbar_fullscreen",document.body.className+=" dhxtabbar_fullscreen",this.conf.fullScreen=!0,this.base=document.createElement("DIV"),this.base.className="dhxtabbar_base_"+this.conf.skin,this.base.style.position="absolute",this.base.style.left=this.conf.baseOfs.w+"px",this.base.style.top=this.conf.baseOfs.h+"px",document.body.appendChild(this.base)):(this.base="string"==typeof d?document.getElementById(d):d,d=null,this.base.className+=" dhxtabbar_base_"+this.conf.skin),null!=this.base._ofs&&null!=this.base._ofs.t&&(this.conf.tabsTop=this.base._ofs.t),this.tabsMode=document.createElement("DIV"),this.tabsMode.className="dhxtabbar_tabs_"+this.conf.tabsMode,this.base.appendChild(this.tabsMode),this.tabsArea=document.createElement("DIV"),this.tabsArea.className="dhxtabbar_tabs dhxtabbar_tabs_"+this.conf.tabsMode,this.tabsArea.innerHTML="<div class='dhxtabbar_tabs_ar_left'><div class='dhxtabbar_arrow_img'></div></div><div class='dhxtabbar_tabs_base'><div class='dhxtabbar_tabs_cont_"+this.conf.align+"'><div class='dhxtabbar_tabs_line'></div></div></div><div class='dhxtabbar_tabs_ar_right'><div class='dhxtabbar_arrow_img'></div></div>","top"==this.conf.tabsMode&&(this.tabsArea.style.top=this.conf.tabsTop+"px"),this.tabsMode.appendChild(this.tabsArea),this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]="0px",this.tabsArea.childNodes[0].onclick=function(){c._moveTabs("left"==c.conf.align?1:-1)},this.tabsArea.childNodes[2].onclick=function(){c._moveTabs("left"==c.conf.align?-1:1)},this._onTabsAreaClick=function(a){return this._callMainEvent("onTabClose",[a])},this.tabsArea.onclick=function(a){a=a||event;for(var b=a.target||a.srcElement;null!=b;){if("undefined"!=typeof b._tabCloseId){if(c._onTabsAreaClick(b._tabCloseId)!==!0)return;c.t[b._tabCloseId].conf.remove=!0,c._hideTab(b._tabCloseId),b=null}else"undefined"!=typeof b._tabId&&(c._doOnClick(b._tabId),b=null);null!=b&&(b=b.parentNode,b==this&&(b=null))}},this.tabsArea.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},this._doOnClick=function(a){this.callEvent("onTabClick",[a,this.conf.lastActive]),this.t[a].conf.enabled&&this._setTabActive(a)},this.t={},this.addTab=function(a,b,c,d,e,f){"boolean"!=typeof f&&(f=1==this.conf.closeButton),e=window.dhx4.s2b(e);var g=document.createElement("DIV");g.className="dhxtabbar_tab",g.innerHTML="<div class='dhxtabbar_tab_text"+(f?" dhxtabbar_tab_text_close":"")+"'>"+b+"</div>"+(f?"<div class='dhxtabbar_tab_close'></div>":""),g._tabId=a,f&&(g.childNodes[1]._tabCloseId=a);var h=this.tabsArea.childNodes[1].firstChild;null!=d&&d+1>0&&d+1<h.childNodes.length?h.insertBefore(g,h.childNodes[d+1]):h.appendChild(g);var i=!1;"undefined"==typeof c||null==c||"*"==c?(c=this._getLabelWidth(b,f),i=!0):c=parseInt(c),g.style.width=c+"px";var j=new dhtmlXTabBarCell(a,this);this.tabsMode.appendChild(j.cell),this.t[a]={tab:g,cell:j,conf:{text:b,visible:!0,active:!1,enabled:!0,close:f,width:c,autowidth:i}},h=j=null,e?this._setTabActive(a):this._adjustCell(a),1!=this.conf.initSeq&&"auto"==this.conf.arwMode&&this.setSizes()},this.setSizes=function(){this.conf.fullScreen&&(this.base.style.left=this.conf.baseOfs.w+"px",this.base.style.top=this.conf.baseOfs.h+"px",this.base.style.width=document.body.offsetWidth-2*this.conf.baseOfs.w+"px",this.base.style.height=document.body.offsetHeight-2*this.conf.baseOfs.h+"px"),null==this.conf.tabsAreaOfs&&(this.tabsArea.style.width=this.base.offsetWidth+"px",this.conf.tabsAreaOfs=parseInt(this.tabsArea.style.width)-this.tabsArea.offsetWidth),this.tabsArea.style.width=this.base.offsetWidth+this.conf.tabsAreaOfs+"px",this._adjustCell(this.conf.lastActive),this._adjustTabs(!0)},this._adjustCell=function(a){if(this.conf.contZone&&null!=a){var b=("top"==this.conf.tabsMode?this.tabsArea.offsetHeight:0)+this.conf.tabsTop,c=this.base.offsetHeight-this.tabsArea.offsetHeight-this.conf.tabsTop,d=this.t[a].cell.dataType;"dhx_skyblue"!=this.conf.skin||"layout"!=d&&"tabbar"!=d&&"acc"!=d||("top"==this.conf.tabsMode&&(b-=1),c+=1),a!=this.conf.lastActive&&(b=-5e3,this.t[a].cell.cell.style.visibility="hidden",this.t[a].cell.cell.style.zIndex=0),this.t[a].cell._setSize(0,b,this.base.offsetWidth,c)}},this.setTabsMode=function(a){this.conf.tabsMode="bottom"==a?"bottom":"top",this.tabsMode.className="dhxtabbar_tabs_"+this.conf.tabsMode,this.setSizes()},this._tabCss=function(a){var b=this.t[a].conf.active,c=!this.t[a].conf.enabled,d=!this.t[a].conf.visible;return"dhxtabbar_tab"+(d?" dhxtabbar_tab_hidden":b||c?" dhxtabbar_tab"+(b?"_actv":"")+(c?"_dis":""):"")},this._getLabelWidth=function(a,b){null==this.tabsTextTest&&(this.tabsTextTest=document.createElement("SPAN"),this.tabsTextTest.className="dhxtabbar_tabs_text_test_"+this.conf.skin),document.body.appendChild(this.tabsTextTest),this.tabsTextTest.innerHTML=a;var c=this.tabsTextTest.offsetWidth;return window.dhx4.isIE&&0==c&&(c=this.tabsTextTest.offsetWidth),c+="dhx_terrace"==this.conf.skin?44:35,c+=b?"dhx_terrace"==this.conf.skin?14:9:0,document.body.removeChild(this.tabsTextTest),c},this._adjustTabs=function(a){(1==this._checkArrows()||1==a)&&(this.tabsArea.childNodes[1].style.left=this.tabsArea.childNodes[0].offsetWidth-1+"px",this.tabsArea.childNodes[1].style.width=Math.max(0,this.tabsArea.offsetWidth-this.tabsArea.childNodes[0].offsetWidth-this.tabsArea.childNodes[2].offsetWidth)+1+"px");var b=this.tabsArea.childNodes[1];if(b.offsetWidth<5)return void(b=null);for(var c=parseInt(b.childNodes[0].style[this.conf.align]),d=null,e=0;e<b.childNodes[0].childNodes.length;e++){var f=b.childNodes[0].childNodes[e]._tabId;if(null!=f&&this.t[f].conf.visible){var g=this.t[f].tab.offsetWidth-this.conf.tabsOfs;this.t[f].conf.active&&(0>c||b.offsetWidth<g?d={d:1,id:f}:c+g>b.offsetWidth&&(d={d:-1,id:f})),c+=g}}null!=d?this._moveTabs(d.d,d.id):b.offsetWidth>c+1&&(b.childNodes[0].style[this.conf.align]=Math.min(0,parseInt(b.childNodes[0].style[this.conf.align])+(b.offsetWidth-c))+"px"),b=d=null},this._moveTabs=function(a,b){for(var c=this.tabsArea.childNodes[1].childNodes[0],d=0,e=[],f=null,g=0;g<c.childNodes.length;g++){var h=c.childNodes[g]._tabId;null!=h&&this.t[h].conf.visible&&(e.push({id:h,w:this.t[h].tab.offsetWidth-this.conf.tabsOfs,ind:d}),h==b&&(f=d),d++)}for(var i=parseInt(this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]),j=this.tabsArea.offsetWidth-this.tabsArea.childNodes[0].offsetWidth-this.tabsArea.childNodes[2].offsetWidth,k=null,l=null,g=0;g<e.length;g++)e[g].x=i,null==k&&i>=0&&i+e[g].w>0&&(k=e[g]),j>i&&i+e[g].w<=j&&(l=e[g]),i+=e[g].w;if(null!=f)var m=e[f];else{var m=null;a>0?null==k?e.length>0&&(m=e[e.length-1]):k.ind>0&&e.length>=k.ind&&(m=e[k.ind-1]):null==l?e.length>0&&(m=e[0]):e.length>l.ind&&(m=e[l.ind+1])}null!=m&&(c.style[this.conf.align]=a>0?j>i?Math.min(0,parseInt(c.style[this.conf.align])+(j-i))+"px":parseInt(c.style[this.conf.align])-m.x+"px":parseInt(c.style[this.conf.align])-m.x+j-m.w+"px"),c=m=e=null},this._getNextVisible=function(a,b){return this._getNearVisible(a,b,"next")},this._getPrevVisible=function(a,b){return this._getNearVisible(a,b,"previous")},this._getFirstVisible=function(){return this._getNearVisible(null,!1,"first")},this._getNearVisible=function(a,b,c){if("first"==c){var d=this.tabsArea.childNodes[1].childNodes[0].childNodes[1];c="next"}else{if(null==a||null==this.t[a])return b?this._getFirstVisible():null;var d=this.t[a].tab[c+"Sibling"]}for(var e=null;null!=d&&null==e;){var f=d._tabId;null!=f&&null==e&&this.t[f].conf.visible?e=f:d=d[c+"Sibling"]}return d=null,e},this._showTab=function(a,b){!this.t[a]||this.t[a].conf.visible||this.t[a].conf.transActv||(this.conf.transProp!==!1?(this.t[a].conf.transActv=!0,this.t[a].conf.transMode="show",this.t[a].conf.transProp=this.conf.transProp,this.t[a].conf.transActvId=b?a:null,this.t[a].conf.transEv||(this.t[a].tab.addEventListener(this.conf.transEv,this._doOnTrEnd),this.t[a].conf.transEv=!0),this.t[a].conf.visible=!0,this.t[a].tab.className=this._tabCss(a),this.t[a].tab.style[this.conf.transProp]=this.conf.transValueWidth,this.t[a].tab.style.width=this.t[a].conf.width+"px"):(this.t[a].conf.visible=!0,this.t[a].tab.style.display="",b?this._setTabActive(a):this._adjustTabs()))},this._hideTab=function(a,b){if(this.t[a]&&this.t[a].conf.visible&&!this.t[a].conf.transActv){var d=!1;this.conf.lastActive==a&&(this.conf.lastActive=null,this.t[a].conf.active=!1,this.t[a].tab.className=this._tabCss(a),d=!0);var e=this._getPrevVisible(a),f=this._getNextVisible(a),g=d&&b!==!1?(1==b?null:b)||f||e:null;this.conf.transProp!==!1?(this.t[a].conf.transActv=!0,this.t[a].conf.transMode="hide",this.t[a].conf.transProp=this.conf.transProp,this.t[a].conf.transActvId=g,this.t[a].conf.visible=!1,this.t[a].conf.transEv||(this.t[a].tab.addEventListener(this.conf.transEv,this._doOnTrEnd),this.t[a].conf.transEv=!0),this.t[a].tab.style.visibility="hidden",this.t[a].tab.className=c._tabCss(a),this.t[a].tab.style[this.conf.transProp]=this.conf.transValueWidth,this.t[a].tab.style.width="0px"):(this.t[a].tab.style.display="none",this.t[a].conf.visible=!1,this.conf.contZone&&(this.t[a].cell.cell.style.visibility="hidden",this.t[a].cell.cell.style.top="-5000px"),null!=g&&this._setTabActive(g),this._adjustTabs(),this.t[a].conf.remove&&this._removeTab(a))}},this._isTabVisible=function(a){return 1==this.t[a].conf.visible},this._doOnTrEnd=function(){var a=this._tabId;if(null!=c.t[a]){var b=c.t[a],d=b.conf.transActvId;"hide"==b.conf.transMode?b.conf.remove?c._removeTab(a):(b.tab.style[b.conf.transProp]="",c.conf.contZone&&(b.cell.cell.style.visibility="hidden",b.cell.cell.style.top="-5000px"),b.conf.transActv=!1):"show"==b.conf.transMode&&(b.tab.style[b.conf.transProp]="",b.tab.style.visibility="visible",b.conf.transMode=null,b.conf.transActv=!1),null!=d?c._setTabActive(d):c._adjustTabs(),b=null}},this.enableTabCloseButton=function(a){this.conf.closeButton=window.dhx4.s2b(a)},this.unload=function(){this.clearAll(),this.t=null,this.conf.fullScreen&&(window.addEventListener?window.removeEventListener("resize",this._doOnResizeStart,!1):window.detachEvent("onresize",this._doOnResizeStart),this._doOnResizeStart=null,this._doOnResizeEnd=null),null!=this.tabsTextTest&&(this.tabsTextTest.parentNode&&this.tabsTextTest.parentNode.removeChild(this.tabsTextTest),this.tabsTextTest=null),window.dhx4._eventable(this,"clear"),window.dhx4._enableDataLoading(this,null,null,null,"clear"),this.tabsArea.childNodes[0].onclick=null,this.tabsArea.childNodes[2].onclick=null,this.tabsArea.onclick=null,this.tabsArea.onselectstart=null,this.tabsArea.parentNode.removeChild(this.tabsArea),this.tabsArea=null,this.tabsMode.parentNode.removeChild(this.tabsMode),this.tabsMode=null,this.conf.fullScreen?(this.base.parentNode.removeChild(this.base),document.documentElement.className=document.documentElement.className.replace("dhxtabbar_fullscreen",""),document.body.className=document.body.className.replace("dhxtabbar_fullscreen","")):this.base.className=this.base.className.replace("dhxtabbar_base_"+this.conf.skin,""),this.base=null;for(var a in this)this[a]=null;c=null},this.enableContentZone=function(a){this.conf.contZone=1==a},this.setSkin=function(a){this.base.className=this.base.className.replace(new RegExp("dhxtabbar_base_"+this.conf.skin),"dhxtabbar_base_"+a),this.conf.skin=a,null!=this.tabsTextTest&&(this.tabsTextTest.className="dhxtabbar_tabs_text_test_"+this.conf.skin);for(var b in this.t)this.t[b].cell._resetSizeState(),1==this.t[b].conf.autowidth&&(this.t[b].conf.width=this._getLabelWidth(this.t[b].conf.text,this.t[b].conf.close),this.t[b].conf.visible&&(this.t[b].tab.style.width=this.t[b].conf.width+"px"));this.conf.tabsAreaOfs=null,this._fixTabsOfs(),this.setSizes()},this.setAlign=function(a){return a="left"==a?"left":"right",a==this.conf.align?void(this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]="0px"):(this.conf.transProp!==!1&&(this.tabsArea.childNodes[1].childNodes[0].style[this.conf.transProp]=""),this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]="",this.conf.align=a,this.tabsArea.childNodes[1].childNodes[0].className="dhxtabbar_tabs_cont_"+this.conf.align,this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]="0px",void(this.conf.transProp!==!1&&(this.conf.transValuePos=this.conf.align+" "+this.conf.transSpeed,this.tabsArea.childNodes[1].childNodes[0].style[this.conf.transProp]=this.conf.transValuePos)))},this._initObj=function(a){this.conf.initSeq=!0,this.clearAll();var b=!1;if(null!=a.settings&&(null!=a.settings.skin&&this.setSkin(a.settings.skin),null!=a.settings.closeButton&&this.enableTabCloseButton(window.dhx4.s2b(a.settings.closeButton)),null!=a.settings.align&&this.setAlign(a.settings.align),("ajax"==a.settings.hrefmode||"ajax-html"==a.settings.hrefmode)&&(b=!0)),null!=a.tabs)for(var c=0;c<a.tabs.length;c++){var d=a.tabs[c];"undefined"==typeof d.id&&(d.id=window.dhx4.newId()),d.width=isNaN(parseInt(d.width))?null:parseInt(d.width),this.addTab(d.id,d.text||d.label||"",d.width,d.index,window.dhx4.s2b(d.selected)||window.dhx4.s2b(d.active),d.close),null!=d.content&&this.cells(d.id).attachHTMLString(d.content),null!=d.href&&this.cells(d.id).attachURL(d.href,b),"undefined"!=typeof d.enabled&&0==window.dhx4.s2b(d.enabled)?this.tabs(d.id).disable():"undefined"!=typeof d.disabled&&1==window.dhx4.s2b(d.disabled)&&this.tabs(d.id).disable()}this.conf.initSeq=!1,"auto"==this.conf.arwMode&&this.setSizes()},this._xmlToObj=function(a){var b={settings:{},tabs:[]},c=a.getElementsByTagName("tabbar")[0];if(null!=c){for(var d in{skin:1,align:1,closeButton:1,hrefmode:1})null!=c.getAttribute(d)&&(b.settings[d]=c.getAttribute(d));for(var e=c.getElementsByTagName("tab"),f=0;f<e.length;f++){var g={text:e[f].firstChild.nodeValue||""};for(var d in{id:1,width:1,close:1,selected:1,active:1,enabled:1,disabled:1,href:1})null!=e[f].getAttribute(d)&&(g[d]=e[f].getAttribute(d));var h=e[f].getElementsByTagName("content")[0];if(null!=h){g.content="";for(var i=0;i<h.childNodes.length;i++)g.content+=h.childNodes[i].nodeValue||""}b.tabs.push(g)}}return b},dhx4._enableDataLoading(this,"_initObj","_xmlToObj","tabbar",{struct:!0});var e=window.dhx4.transDetect();return this.conf.transProp=e.transProp,this.conf.transEv=e.transEv,this.conf.transValueWidth="width "+this.conf.transSpeed,e=null,this.conf.transProp!==!1&&(this.conf.transValuePos=this.conf.align+" "+this.conf.transSpeed,this.tabsArea.childNodes[1].childNodes[0].style[this.conf.transProp]=this.conf.transValuePos),this._initFullScreenResize=function(){this.conf.fullScreenResize||(this.conf.tmResize=null,this._doOnResizeStart=function(){window.clearTimeout(c.conf.tmResize),c.conf.tmResize=window.setTimeout(c._doOnResizeEnd,200)},this._doOnResizeEnd=function(){c.setSizes()},window.addEventListener?window.addEventListener("resize",this._doOnResizeStart,!1):window.attachEvent("onresize",this._doOnResizeStart),this.conf.fullScreenResize=!0)},this.conf.fullScreen&&this._initFullScreenResize(),this._callMainEvent=function(a,b){return this.callEvent(a,b)},window.dhx4._eventable(this),null!=this.conf.autoload.json?this.loadStruct(this.conf.autoload.json,this.conf.autoload.onload):null!=this.conf.autoload.xml?this.loadStruct(this.conf.autoload.xml,this.conf.autoload.onload):null!=this.conf.autoload.tabs&&this.loadStruct({tabs:this.conf.autoload.tabs}),null!=this.conf.autoload.arrows_mode&&this.setArrowsMode(this.conf.autoload.arrows_mode),this._fixTabsOfs(),this.setSizes(),this}function xmlPointer(a){this.d=a}function dhtmlXTreeObject(a,b,c,d){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}this.parentObject="object"!=typeof a?document.getElementById(a):a,this.parentObject.style.overflow="hidden",this._itim_dg=!0,this.dlmtr=",",this.dropLower=!1,this.enableIEImageFix(),this.xmlstate=0,this.mytype="tree",this.smcheck=!0,this.width=b,this.height=c,this.rootId=d,this.childCalc=null,this.def_img_x="18px",this.def_img_y="18px",this.def_line_img_x="18px",this.def_line_img_y="24px",this._dragged=new Array,this._selected=new Array,this.style_pointer="pointer",this._aimgs=!0,this.htmlcA=" [",this.htmlcB="]",this.lWin=window,this.cMenu=0,this.mlitems=0,this.iconURL="",this.dadmode=0,this.slowParse=!1,this.autoScroll=!0,this.hfMode=0,this.nodeCut=new Array,this.XMLsource=0,this.XMLloadingWarning=0,this._idpull={},this._pullSize=0,this.treeLinesOn=!0,this.tscheck=!1,this.timgen=!0,this.dpcpy=!1,this._ld_id=null,this._oie_onXLE=[],this.imPath=window.dhx_globalImgPath||"",this.checkArray=new Array("iconUncheckAll.gif","iconCheckAll.gif","iconCheckGray.gif","iconUncheckDis.gif","iconCheckDis.gif","iconCheckDis.gif"),this.radioArray=new Array("radio_off.gif","radio_on.gif","radio_on.gif","radio_off.gif","radio_on.gif","radio_on.gif"),this.lineArray=new Array("line2.gif","line3.gif","line4.gif","blank.gif","blank.gif","line1.gif"),this.minusArray=new Array("minus2.gif","minus3.gif","minus4.gif","minus.gif","minus5.gif"),this.plusArray=new Array("plus2.gif","plus3.gif","plus4.gif","plus.gif","plus5.gif"),this.imageArray=new Array("leaf.gif","folderOpen.gif","folderClosed.gif"),this.cutImg=new Array(0,0,0),this.cutImage="but_cut.gif",dhtmlxEventable(this),this.dragger=new dhtmlDragAndDropObject,this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this),this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none",this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow",this.allTree=this._createSelf(),this.allTree.appendChild(this.htmlNode.htmlNode),dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this),_isFF&&(this.allTree.childNodes[0].width="100%",this.allTree.childNodes[0].style.overflow="hidden");var f=this;return this.allTree.onselectstart=new Function("return false;"),_isMacOS&&(this.allTree.oncontextmenu=function(a){return f._doContClick(a||window.event,!0)}),this.allTree.onmousedown=function(a){return f._doContClick(a||window.event)},this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe),_isIE&&this.preventIECashing(!0),this.selectionBar=document.createElement("DIV"),this.selectionBar.className="selectionBar",this.selectionBar.innerHTML="&nbsp;",this.selectionBar.style.display="none",this.allTree.appendChild(this.selectionBar),window.addEventListener&&window.addEventListener("unload",function(){try{f.destructor()}catch(a){}},!1),window.attachEvent&&window.attachEvent("onunload",function(){try{f.destructor()}catch(a){}}),this.setImagesPath=this.setImagePath,this.setIconsPath=this.setIconPath,dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path),dhtmlx.skin&&this.setSkin(dhtmlx.skin),this}function cObject(){return this}function dhtmlXTreeItemObject(a,b,c,d,e,f){return this.htmlNode="",this.acolor="",this.scolor="",this.tr=0,this.childsCount=0,this.tempDOMM=0,this.tempDOMU=0,this.dragSpan=0,this.dragMove=0,this.span=0,this.closeble=1,this.childNodes=new Array,this.userData=new cObject,this.checkstate=0,this.treeNod=d,this.label=b,this.parentObject=c,this.actionHandler=e,this.images=new Array(d.imageArray[0],d.imageArray[1],d.imageArray[2]),this.id=d._globalIdStorageAdd(a,this),this.htmlNode=this.treeNod.checkBoxOff?this.treeNod._createItem(1,this,f):this.treeNod._createItem(0,this,f),this.htmlNode.objBelong=this,this}function jsonPointer(a,b){this.d=a,this.dp=b}function dhtmlXToolbarObject(a,b){var c=this;for(this.conf={skin:b||window.dhx4.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||window.dhx4.skinDetect("dhxtoolbar")||"dhx_skyblue",align:"left",align_autostart:"left",icons_path:"",iconSize:18,sel_ofs_x:0,sel_ofs_y:0,xml_autoload:null,items_autoload:null},"object"==typeof a&&null!=a&&"undefined"==typeof a.tagName&&((null!=a.icons_path||null!=a.icon_path)&&(this.conf.icons_path=a.icons_path||a.icon_path),null!=a.icons_size&&(this.conf.icons_size_autoload=a.icons_size),null!=a.json&&(this.conf.json_autoload=a.json),null!=a.xml&&(this.conf.xml_autoload=a.xml),null!=a.onload&&(this.conf.onload_autoload=a.onload),null!=a.items&&(this.conf.items_autoload=a.items),null!=a.skin&&(this.conf.skin=a.skin),null!=a.align&&(this.conf.align_autostart=a.align),a=a.parent),this.cont="object"!=typeof a?document.getElementById(a):a;this.cont.childNodes.length>0;)this.cont.removeChild(this.cont.childNodes[0]);return a=null,this.cont.dir="ltr",this.base=document.createElement("DIV"),this.base.className="dhxtoolbar_float_left",this.cont.appendChild(this.base),window.dhx4.isIPad&&(this.cont.ontouchstart=function(a){return a=a||event,"input"==String(a.target.tagName||"").toLowerCase()?!0:(a.preventDefault?a.preventDefault():a.returnValue=!1,a.cancelBubble=!0,!1)}),this.setSkin(this.conf.skin),this.objPull={},this.anyUsed="none",this._genStr=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",d=0;a>d;d++)b+=c.charAt(Math.round(Math.random()*(c.length-1)));return b},this.rootTypes=new Array("button","buttonSelect","buttonTwoState","separator","label","slider","text","buttonInput"),this.idPrefix=this._genStr(12),window.dhx4._enableDataLoading(this,"_initObj","_xmlToJson","toolbar",{struct:!0}),window.dhx4._eventable(this),this._getObj=function(a,b){for(var c=null,d=0;d<a.childNodes.length;d++)null!=a.childNodes[d].tagName&&String(a.childNodes[d].tagName).toLowerCase()==String(b).toLowerCase()&&(c=a.childNodes[d]);return c},this._addImgObj=function(a){var b=document.createElement("IMG");return a.childNodes.length>0?a.insertBefore(b,a.childNodes[0]):a.appendChild(b),b},this._setItemImage=function(a,b,c){if(1==c?a.imgEn=b:a.imgDis=b,!(!a.state&&1==c||a.state&&0==c)){var d=this._getObj(a.obj,"img");null==d&&(d=this._addImgObj(a.obj)),d.src=this.conf.icons_path+b}},this._clearItemImage=function(a,b){if(1==b?a.imgEn="":a.imgDis="",!(!a.state&&1==b||a.state&&0==b)){var c=this._getObj(a.obj,"img");null!=c&&c.parentNode.removeChild(c)}},this._setItemText=function(a,b){var c=this._getObj(a.obj,"div");return null==b||0==b.length?void(null!=c&&c.parentNode.removeChild(c)):(null==c&&(c=document.createElement("DIV"),c.className="dhxtoolbar_text",a.obj.appendChild(c)),void(c.innerHTML=b))},this._getItemText=function(a){var b=this._getObj(a.obj,"div");return null!=b?b.innerHTML:""},this._enableItem=function(a){if(!a.state){a.state=!0,"buttonTwoState"==this.objPull[a.id].type&&1==this.objPull[a.id].obj.pressed?(a.obj.className="dhx_toolbar_btn dhxtoolbar_btn_pres",a.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_over"):(a.obj.className="dhx_toolbar_btn dhxtoolbar_btn_def",a.obj.renderAs=a.obj.className),a.arw&&(a.arw.className=String(a.obj.className).replace("btn","arw"));var b=this._getObj(a.obj,"img");""!=a.imgEn?(null==b&&(b=this._addImgObj(a.obj)),b.src=this.conf.icons_path+a.imgEn):null!=b&&b.parentNode.removeChild(b)}},this._disableItem=function(a){if(a.state){a.state=!1,a.obj.className="dhx_toolbar_btn dhxtoolbar_btn_"+("buttonTwoState"==this.objPull[a.id].type&&a.obj.pressed?"pres_":"")+"dis",a.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_def",a.arw&&(a.arw.className=String(a.obj.className).replace("btn","arw"));var b=this._getObj(a.obj,"img");""!=a.imgDis?(null==b&&(b=this._addImgObj(a.obj)),b.src=this.conf.icons_path+a.imgDis):null!=b&&b.parentNode.removeChild(b),null!=a.polygon&&"none"!=a.polygon.style.display&&(window.dhx4.zim.clear(a.polygon._idd),a.polygon.style.display="none",a.polygon._ie6cover&&(a.polygon._ie6cover.style.display="none"),"dhx_terrace"==this.conf.skin&&this._improveTerraceButtonSelect(a.id,!0)),this.anyUsed="none"}},this.clearAll=function(){for(var a in this.objPull)this._removeItem(String(a).replace(this.idPrefix,""))},this._doOnClick=function(){c&&c.forEachItem&&c.forEachItem(function(a){if("buttonSelect"==c.objPull[c.idPrefix+a].type){var b=c.objPull[c.idPrefix+a];b.arw._skip===!0?b.arw._skip=!1:"none"!=b.polygon.style.display&&(b.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_def",b.obj.className=b.obj.renderAs,b.arw.className=String(b.obj.renderAs).replace("btn","arw"),c.anyUsed="none",window.dhx4.zim.clear(b.polygon._idd),b.polygon.style.display="none",b.polygon._ie6cover&&(b.polygon._ie6cover.style.display="none"),"dhx_terrace"==c.conf.skin&&c._improveTerraceButtonSelect(b.id,!0))}})},window.dhx4.isIPad?document.addEventListener("touchstart",this._doOnClick,!1):"undefined"!=typeof window.addEventListener?window.addEventListener("mousedown",this._doOnClick,!1):document.body.attachEvent("onmousedown",this._doOnClick),null!=this.conf.icons_size_autoload&&(this.setIconSize(this.conf.icons_size_autoload),this.conf.icons_size_autoload=null),null!=this.conf.items_autoload?(this.loadStruct(this.conf.items_autoload,this.conf.onload_autoload),this.conf.items_autoload=null):null!=this.conf.json_autoload?(this.loadStruct(this.conf.json_autoload,this.conf.onload_autoload),this.conf.json_autoload=null):null!=this.conf.xml_autoload&&(this.loadStruct(this.conf.xml_autoload,this.conf.onload_autoload),this.conf.xml_autoload=null),this.conf.align_autostart!=this.conf.align&&(this.setAlign(this.conf.align_autostart),this.conf.align_autostart=null),this}function dhtmlXMenuObject(a,b){var c=this;if(this.conf={skin:b||window.dhx4.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||window.dhx4.skinDetect("dhxmenu")||"dhx_skyblue",mode:"web",align:"left",is_touched:!1,selected:-1,last_click:-1,fixed_pos:!1,rtl:!1,icons_path:"",arrow_ff_fix:navigator.userAgent.indexOf("MSIE")>=0&&"BackCompat"==document.compatMode,live_id:window.dhx4.newId(),tags:{root:"menu",item:"item",text_ext:"itemtext",userdata:"userdata",tooltip:"tooltip",hotkey:"hotkey",href:"href"},autoload:{},hide_tm:{},top_mode:!0,top_tmtime:200,v_enabled:!1,v:{x1:null,x2:null,y1:null,y2:null},dir_toplv:"bottom",dir_sublv:"right",auto_overflow:!1,overflow_limit:0,of_utm:null,of_utime:20,of_ustep:3,of_dtm:null,of_dtime:20,of_dstep:3,tm_sec:400,tm_handler:null,dload:!1,dload_url:"",dload_icon:!1,dload_params:{action:"loadMenu"},dload_pid:"parentId",tl_botmarg:1,tl_rmarg:0,tl_ofsleft:1,context:!1,ctx_zoneid:!1,ctx_autoshow:!0,ctx_autohide:!0,ctx_hideall:!0,ctx_zones:{},ctx_baseid:null,selected_sub:[],opened_poly:[]},"object"==typeof a&&null!=a&&"undefined"==typeof a.tagName){(null!=a.icons_path||null!=a.icon_path)&&(this.conf.icons_path=a.icons_path||a.icon_path),null!=a.skin&&(this.conf.skin=a.skin),a.visible_area&&(this.conf.v_enabled=!0,this.conf.v={x1:a.visible_area.x1,x2:a.visible_area.x2,y1:a.visible_area.y1,y2:a.visible_area.y2});for(var d in{json:1,xml:1,items:1,top_text:1,align:1,open_mode:1,overflow:1,dynamic:1,dynamic_icon:1,context:1,onload:1,onclick:1,oncheckboxclick:1,onradioclick:1})null!=a[d]&&(this.conf.autoload[d]=a[d]);a=a.parent}if(null==a)this.base=document.body;else{var e="string"==typeof a?document.getElementById(a):a;null!=e?(this.base=e,this.base.id||(this.base.id=(new Date).valueOf()),this.base.className+=" dhtmlxMenu_"+this.conf.skin+"_Middle dir_left",this.base._autoSkinUpdate=!0,this.base.oncontextmenu&&(this.base._oldContextMenuHandler=this.base.oncontextmenu),this.conf.ctx_baseid=this.base.id,this.base.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1
},this.base.oncontextmenu=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1}):this.base=document.body}this.idPrefix="",this.topId="dhxWebMenuTopId",this.idPull={},this.itemPull={},this.userData={},this.radio={},this.setSkin=function(a){var b=this.conf.skin;switch(this.conf.skin=a,this.conf.skin){case"dhx_skyblue":case"dhx_web":this.conf.tl_botmarg=2,this.conf.tl_rmarg=1,this.conf.tl_ofsleft=1;break;case"dhx_terrace":this.conf.tl_botmarg=0,this.conf.tl_rmarg=0,this.conf.tl_ofsleft=0}this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+b+"_Middle","")+" dhtmlxMenu_"+this.conf.skin+"_Middle");for(var c in this.idPull)this.idPull[c].className=String(this.idPull[c].className).replace(b,this.conf.skin)},this.setSkin(this.conf.skin),this._addSubItemToSelected=function(a,b){for(var c=!0,d=0;d<this.conf.selected_sub.length;d++)this.conf.selected_sub[d][0]==a&&this.conf.selected_sub[d][1]==b&&(c=!1);return 1==c&&this.conf.selected_sub.push(new Array(a,b)),c},this._removeSubItemFromSelected=function(a,b){for(var c=new Array,d=!1,e=0;e<this.conf.selected_sub.length;e++)this.conf.selected_sub[e][0]==a&&this.conf.selected_sub[e][1]==b?d=!0:c[c.length]=this.conf.selected_sub[e];return 1==d&&(this.conf.selected_sub=c),d},this._getSubItemToDeselectByPolygon=function(a){for(var b=new Array,c=0;c<this.conf.selected_sub.length;c++)if(this.conf.selected_sub[c][1]==a){b[b.length]=this.conf.selected_sub[c][0],b=b.concat(this._getSubItemToDeselectByPolygon(this.conf.selected_sub[c][0]));for(var d=!0,e=0;e<this.conf.opened_poly.length;e++)this.conf.opened_poly[e]==this.conf.selected_sub[c][0]&&(d=!1);1==d&&(this.conf.opened_poly[this.conf.opened_poly.length]=this.conf.selected_sub[c][0]),this.conf.selected_sub[c][0]=-1,this.conf.selected_sub[c][1]=-1}return b},this._hidePolygon=function(a){if(null!=this.idPull["polygon_"+a]){if(null!=this.idPull["polygon_"+a]._zId&&window.dhx4.zim.clear(this.idPull["polygon_"+a]._zId),"undefined"!=typeof this._menuEffect&&this._menuEffect!==!1)this._hidePolygonEffect("polygon_"+a);else{if("none"==this.idPull["polygon_"+a].style.display)return;this.idPull["polygon_"+a].style.display="none",null!=this.idPull["arrowup_"+a]&&(this.idPull["arrowup_"+a].style.display="none"),null!=this.idPull["arrowdown_"+a]&&(this.idPull["arrowdown_"+a].style.display="none"),this._updateItemComplexState(a,!0,!1),window.dhx4.isIE6&&null!=this.idPull["polygon_"+a+"_ie6cover"]&&(this.idPull["polygon_"+a+"_ie6cover"].style.display="none")}a=String(a).replace(this.idPrefix,""),a==this.topId&&(a=null),this.callEvent("onHide",[a]),null!=a&&"dhx_terrace"==this.conf.skin&&this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+a,!0)}},this._showPolygon=function(a,b){var c=this._countVisiblePolygonItems(a);if(0!=c){var d="polygon_"+a;if(null!=this.idPull[d]&&null!=this.idPull[a]){if(this.conf.top_mode&&"web"==this.conf.mode&&!this.conf.context&&!this.idPull[a]._mouseOver&&b==this.conf.dir_toplv)return;this.conf.fixed_pos||this._autoDetectVisibleArea();var e=0,f=0,g=null,h=null;if(null==this.idPull[d]._zId&&(this.idPull[d]._zId=window.dhx4.newId()),this.idPull[d]._zInd=window.dhx4.zim.reserve(this.idPull[d]._zId),this.idPull[d].style.visibility="hidden",this.idPull[d].style.left="0px",this.idPull[d].style.top="0px",this.idPull[d].style.display="",this.idPull[d].style.zIndex=this.idPull[d]._zInd,this.conf.auto_overflow)if(this.idPull[d].firstChild.offsetHeight>this.conf.v.y1+this.conf.v.y2){var i=Math.floor((this.conf.v.y2-this.conf.v.y1-35)/24);this.conf.overflow_limit=i}else this.conf.overflow_limit=0,null!=this.idPull["arrowup_"+a]&&this._removeUpArrow(String(a).replace(this.idPrefix,"")),null!=this.idPull["arrowdown_"+a]&&this._removeDownArrow(String(a).replace(this.idPrefix,""));if(this.conf.overflow_limit>0&&this.conf.overflow_limit<c&&(null==this.idPull["arrowup_"+a]&&this._addUpArrow(String(a).replace(this.idPrefix,"")),null==this.idPull["arrowdown_"+a]&&this._addDownArrow(String(a).replace(this.idPrefix,"")),g=this.idPull["arrowup_"+a],g.style.display="none",h=this.idPull["arrowdown_"+a],h.style.display="none"),this.conf.overflow_limit>0&&(this.conf.overflow_limit<c?(this.idPull[d].childNodes[1].style.height=24*this.conf.overflow_limit+"px",g.style.width=h.style.width=this.idPull[d].childNodes[1].style.width=this.idPull[d].childNodes[1].childNodes[0].offsetWidth+"px",this.idPull[d].childNodes[1].scrollTop=0,g.style.display="",e=g.offsetHeight,h.style.display="",f=h.offsetHeight):(this.idPull[d].childNodes[1].style.height="",this.idPull[d].childNodes[1].style.width="")),null!=this.itemPull[a]){"polygon_"+this.itemPull[a].parent}else if(this.conf.context){this.idPull[this.idPrefix+this.topId]}var j=null!=this.idPull[a].tagName?window.dhx4.absLeft(this.idPull[a]):this.idPull[a][0],k=null!=this.idPull[a].tagName?window.dhx4.absTop(this.idPull[a]):this.idPull[a][1],l=null!=this.idPull[a].tagName?this.idPull[a].offsetWidth:0,m=null!=this.idPull[a].tagName?this.idPull[a].offsetHeight:0,n=0,o=0,p=this.idPull[d].offsetWidth,q=this.idPull[d].childNodes[1].offsetHeight+e+f;if("bottom"==b&&(n=this.conf.rtl?j+(null!=l?l:0)-p:"right"==this.conf.align?j+l-p:j-1+(b==this.conf.dir_toplv?this.conf.tl_rmarg:0),o=k-1+m+this.conf.tl_botmarg),"right"==b&&(n=j+l-1,o=k+2),"left"==b&&(n=j-this.idPull[d].offsetWidth+2,o=k+2),"top"==b&&(n=j-1,o=k-q+2),this.conf.fixed_pos)var r=65536,s=65536;else{var r=null!=this.conf.v.x2?this.conf.v.x2:0,s=null!=this.conf.v.y2?this.conf.v.y2:0;0==r&&(window.innerWidth?(r=window.innerWidth,s=window.innerHeight):(r=document.body.offsetWidth,s=document.body.scrollHeight))}if(n+p>r&&!this.conf.rtl&&(n=j-p+2),n<this.conf.v.x1&&this.conf.rtl&&(n=j+l-2),0>n&&(n=0),o+q>s&&null!=this.conf.v.y2&&(o=Math.max(k+m-q+2,this.conf.v_enabled?this.conf.v.y1+2:2),this.conf.context&&this.idPrefix+this.topId==a&&null!=h&&(o-=2),null==this.itemPull[a]||this.conf.context||this.itemPull[a].parent==this.idPrefix+this.topId&&(o-=this.base.offsetHeight)),this.idPull[d].style.left=n+"px",this.idPull[d].style.top=o+"px","undefined"!=typeof this._menuEffect&&this._menuEffect!==!1)this._showPolygonEffect(d);else if(this.idPull[d].style.visibility="",this.conf.overflow_limit>0&&this.conf.overflow_limit<c&&(this.idPull[d].childNodes[1].scrollTop=0,this._checkArrowsState(a)),window.dhx4.isIE6){var t=d+"_ie6cover";if(null==this.idPull[t]){var u=document.createElement("IFRAME");u.className="dhtmlxMenu_IE6CoverFix_"+this.conf.skin,u.frameBorder=0,u.setAttribute("src","javascript:false;"),document.body.insertBefore(u,document.body.firstChild),this.idPull[t]=u}this.idPull[t].style.left=n+"px",this.idPull[t].style.top=o+"px",this.idPull[t].style.width=this.idPull[d].offsetWidth+"px",this.idPull[t].style.height=this.idPull[d].offsetHeight+"px",this.idPull[t].style.zIndex=this.idPull[d].style.zIndex-1,this.idPull[t].style.display=""}a=String(a).replace(this.idPrefix,""),a==this.topId&&(a=null),this.callEvent("onShow",[a]),null!=a&&"dhx_terrace"==this.conf.skin&&this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+a,!1)}}},this._redistribSubLevelSelection=function(a,b){for(;this.conf.opened_poly.length>0;)this.conf.opened_poly.pop();var c=this._getSubItemToDeselectByPolygon(b);this._removeSubItemFromSelected(-1,-1);for(var d=0;d<c.length;d++)null!=this.idPull[c[d]]&&c[d]!=a&&"enabled"==this.itemPull[c[d]].state&&(this.idPull[c[d]].className="sub_item");for(var d=0;d<this.conf.opened_poly.length;d++)this.conf.opened_poly[d]!=b&&this._hidePolygon(this.conf.opened_poly[d]);if("enabled"==this.itemPull[a].state){if(this.idPull[a].className="sub_item_selected",this.itemPull[a].complex&&this.conf.dload&&"no"==this.itemPull[a].loaded){1==this.conf.dload_icon&&this._updateLoaderIcon(a,!0),this.itemPull[a].loaded="get";var e=a.replace(this.idPrefix,"");this._dhxdataload.onBeforeXLS=function(){var a={params:{}};a.params[this.conf.dload_pid]=e;for(var b in this.conf.dload_params)a.params[b]=this.conf.dload_params[b];return a},this.loadStruct(this.conf.dload_url)}(this.itemPull[a].complex||this.conf.dload&&"yes"==this.itemPull[a].loaded)&&this.itemPull[a].complex&&null!=this.idPull["polygon_"+a]&&(this._updateItemComplexState(a,!0,!0),this._showPolygon(a,this.conf.dir_sublv)),this._addSubItemToSelected(a,b),this.conf.selected=a}},this._doOnClick=function(a,b,c){if(this.conf.last_click=a,null!=this.itemPull[this.idPrefix+a].href_link&&"enabled"==this.itemPull[this.idPrefix+a].state){var d=document.createElement("FORM"),e=String(this.itemPull[this.idPrefix+a].href_link).split("?");if(d.action=e[0],null!=e[1])for(var f=String(e[1]).split("&"),g=0;g<f.length;g++){var h=String(f[g]).split("="),i=document.createElement("INPUT");i.type="hidden",i.name=h[0]||"",i.value=h[1]||"",d.appendChild(i)}return null!=this.itemPull[this.idPrefix+a].href_target&&(d.target=this.itemPull[this.idPrefix+a].href_target),d.style.display="none",document.body.appendChild(d),d.submit(),void(null!=d&&(document.body.removeChild(d),d=null))}if("c"!=b.charAt(0)&&"d"!=b.charAt(1)&&"s"!=b.charAt(2)){if(this.checkEvent("onClick"))this.callEvent("onClick",[a,this.conf.ctx_zoneid,c]);else if("d"==b.charAt(1)||"win"==this.conf.mode&&"t"==b.charAt(2))return;this.conf.context&&this._isContextMenuVisible()&&this.conf.ctx_autohide?this._hideContextMenu():this._clearAndHide&&this._clearAndHide()}},this._doOnTouchMenu=function(a){0==this.conf.is_touched&&(this.conf.is_touched=!0,this.checkEvent("onTouch")&&this.callEvent("onTouch",[a]))},this._searchMenuNode=function(a,b){for(var c=new Array,d=0;d<b.length;d++)if("object"==typeof b[d]){5==b[d].length&&"object"!=typeof b[d][0]&&b[d][0].replace(this.idPrefix,"")==a&&0==d&&(c=b);var e=this._searchMenuNode(a,b[d]);e.length>0&&(c=e)}return c},this._getMenuNodes=function(a){var b=new Array;for(var c in this.itemPull)this.itemPull[c].parent==a&&(b[b.length]=c);return b},this._genStr=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",d=0;a>d;d++)b+=c.charAt(Math.round(Math.random()*(c.length-1)));return b},this.getItemType=function(a){return a=this.idPrefix+a,null==this.itemPull[a]?null:this.itemPull[a].type},this.forEachItem=function(a){for(var b in this.itemPull)a(String(b).replace(this.idPrefix,""))},this._clearAndHide=function(){for(c.conf.selected=-1,c.conf.last_click=-1;c.conf.opened_poly.length>0;)c.conf.opened_poly.pop();for(var a=0;a<c.conf.selected_sub.length;a++){var b=c.conf.selected_sub[a][0];null!=c.idPull[b]&&"enabled"==c.itemPull[b].state&&("sub_item_selected"==c.idPull[b].className&&(c.idPull[b].className="sub_item"),c.idPull[b].className=="dhtmlxMenu_"+c.conf.skin+"_TopLevel_Item_Selected"&&(c.idPull[b].className=null!=c.itemPull[b].cssNormal?c.itemPull[b].cssNormal:"dhtmlxMenu_"+c.conf.skin+"_TopLevel_Item_Normal")),c._hidePolygon(b)}c.conf.is_touched=!1,c.conf.context&&c.conf.ctx_hideall&&c._hidePolygon(c.idPrefix+c.topId)},this._showSubLevelItem=function(a,b){null!=document.getElementById("arrow_"+this.idPrefix+a)&&(document.getElementById("arrow_"+this.idPrefix+a).style.display=b?"none":""),null!=document.getElementById("image_"+this.idPrefix+a)&&(document.getElementById("image_"+this.idPrefix+a).style.display=b?"none":""),null!=document.getElementById(this.idPrefix+a)&&(document.getElementById(this.idPrefix+a).style.display=b?"":"none")},this._hideSubLevelItem=function(a){this._showSubLevelItem(a,!0)},this.idPrefix=this._genStr(12)+"_",this._bodyClick=function(a){a=a||event,2==a.button||window.dhx4.isOpera&&1==a.ctrlKey||(c.conf.context?c.conf.ctx_autohide&&(!window.dhx4.isOpera||c._isContextMenuVisible()&&window.dhx4.isOpera)&&c._hideContextMenu():c._clearAndHide&&c._clearAndHide())},this._bodyContext=function(a){a=a||event;var b=String((a.srcElement||a.target).className);if(-1==b.search("dhtmlxMenu")||-1==b.search("SubLevelArea")){for(var d=!0,e=a.target||a.srcElement;null!=e;)null!=e.id&&c.isContextZone(e.id)&&(d=!1),e==document.body&&(d=!1),e=e.parentNode;d&&c.hideContextMenu()}},"undefined"!=typeof window.addEventListener?(window.addEventListener("click",this._bodyClick,!1),window.addEventListener("contextmenu",this._bodyContext,!1)):(document.body.attachEvent("onclick",this._bodyClick),document.body.attachEvent("oncontextmenu",this._bodyContext)),this.unload=function(){window.dhx4._eventable(this,"clear"),dhtmlXMenuObject.prototype.liveInst[this.conf.live_id]=null;try{delete dhtmlXMenuObject.prototype.liveInst[this.conf.live_id]}catch(a){}if(this.conf.live_id=null,"function"==typeof window.addEventListener?(window.removeEventListener("click",this._bodyClick,!1),window.removeEventListener("contextmenu",this._bodyContext,!1)):(document.body.detachEvent("onclick",this._bodyClick),document.body.detachEvent("oncontextmenu",this._bodyContext)),this._bodyClick=null,this._bodyContext=null,this.removeItem(this.idPrefix+this.topId,!0),this.itemPull=null,this.idPull=null,this.conf.context)for(var b in this.conf.ctx_zones)this.removeContextZone(b);null!=this.cont&&(this.cont.className="",this.cont.parentNode.removeChild(this.cont),this.cont=null),null!=this.base&&(this.base.className="",this.conf.context||(this.base.oncontextmenu=this.base._oldContextMenuHandler||null),this.base.onselectstart=null,this.base=null);for(var b in this)this[b]=null;c=null},dhtmlXMenuObject.prototype.liveInst[this.conf.live_id]=this,window.dhx4._enableDataLoading(this,"_initObj","_xmlToJson",this.conf.tags.root,{struct:!0}),window.dhx4._eventable(this),1==window.dhx4.s2b(this.conf.autoload.context)&&this.renderAsContextMenu(),null!=this.conf.autoload.dynamic?this.enableDynamicLoading(this.conf.autoload.dynamic,window.dhx4.s2b(this.conf.autoload.dynamic_icon)):null!=this.conf.autoload.items?this.loadStruct(this.conf.autoload.items,this.conf.autoload.onload):null!=this.conf.autoload.json?this.loadStruct(this.conf.autoload.json,this.conf.autoload.onload):null!=this.conf.autoload.xml&&this.loadStruct(this.conf.autoload.xml,this.conf.autoload.onload);for(var d in{onclick:1,oncheckboxclick:1,onradioclick:1})null!=this.conf.autoload[d]&&("function"==typeof this.conf.autoload[d]?this.attachEvent(d,this.conf.autoload[d]):"function"==typeof window[this.conf.autoload[d]]&&this.attachEvent(d,window[this.conf.autoload[d]]));null!=this.conf.autoload.top_text&&this.setTopText(this.conf.autoload.top_text),null!=this.conf.autoload.align&&this.setAlign(this.conf.autoload.align),null!=this.conf.autoload.open_mode&&this.setOpenMode(this.conf.autoload.open_mode),null!=this.conf.autoload.overflow&&this.setOverflowHeight(this.conf.autoload.overflow);for(var d in this.conf.autoload)this.conf.autoload[d]=null,delete this.conf.autoload[d];return this.conf.autoload=null,this}function dhtmlxArray(a){return dhtmlXHeir(a||new Array,dhtmlxArray._master)}function dhtmlXGridObject(id){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}id?"object"==typeof id?(this.entBox=id,this.entBox.id||(this.entBox.id="cgrid2_"+this.uid())):this.entBox=document.getElementById(id):(this.entBox=document.createElement("DIV"),this.entBox.id="cgrid2_"+this.uid()),this.entBox.innerHTML="",dhtmlxEventable(this);var self=this;this._wcorr=0,this.fontWidth=7,this.cell=null,this.row=null,this.iconURL="",this.editor=null,this._f2kE=!0,this._dclE=!0,this.combos=new Array(0),this.defVal=new Array(0),this.rowsAr={},this.rowsBuffer=dhtmlxArray(),this.rowsCol=dhtmlxArray(),this._data_cache={},this._ecache={},this._ud_enabled=!0,this.xmlLoader=new dtmlXMLLoaderObject(this.doLoadDetails,this,!0,this.no_cashe),this._maskArr=[],this.selectedRows=dhtmlxArray(),this.UserData={},this._sizeFix=this._borderFix=0,this.entBox.className+=" gridbox",this.entBox.style.width=this.entBox.getAttribute("width")||(window.getComputedStyle?this.entBox.style.width||window.getComputedStyle(this.entBox,null).width:this.entBox.currentStyle?this.entBox.currentStyle.width:this.entBox.style.width||0)||"100%",this.entBox.style.height=this.entBox.getAttribute("height")||(window.getComputedStyle?this.entBox.style.height||window.getComputedStyle(this.entBox,null).height:this.entBox.currentStyle?this.entBox.currentStyle.height:this.entBox.style.height||0)||"100%",this.entBox.style.cursor="default",this.entBox.onselectstart=function(){return!1};var t_creator=function(a){var b=document.createElement("TABLE");return b.cellSpacing=b.cellPadding=0,b.style.cssText="width:100%;table-layout:fixed;",b.className=a.substr(2),b};return this.obj=t_creator("c_obj"),this.hdr=t_creator("c_hdr"),this.hdr.style.marginRight="20px",this.hdr.style.paddingRight="20px",this.objBox=document.createElement("DIV"),this.objBox.style.width="100%",this.objBox.style.overflow="auto",this.objBox.appendChild(this.obj),this.objBox.className="objbox",dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this),this.hdrBox=document.createElement("DIV"),this.hdrBox.style.width="100%",this.hdrBox.style.height="25px",this.hdrBox.style.overflow="hidden",this.hdrBox.className="xhdr",this.preloadImagesAr=new Array(0),this.sortImg=document.createElement("DIV"),this.sortImg.style.display="none",this.hdrBox.appendChild(this.sortImg),this.hdrBox.appendChild(this.hdr),this.hdrBox.style.position="relative",this.entBox.appendChild(this.hdrBox),this.entBox.appendChild(this.objBox),this.entBox.grid=this,this.objBox.grid=this,this.hdrBox.grid=this,this.obj.grid=this,this.hdr.grid=this,this.cellWidthPX=[],this.cellWidthPC=[],this.cellWidthType=this.entBox.cellwidthtype||"px",this.delim=this.entBox.delimiter||",",this._csvDelim=",",this.hdrLabels=[],this.columnIds=[],this.columnColor=[],this._hrrar=[],this.cellType=dhtmlxArray(),this.cellAlign=[],this.initCellWidth=[],this.fldSort=[],this._srdh=_isIE&&"BackCompat"!=document.compatMode?22:20,this.imgURL=window.dhx_globalImgPath||"",this.isActive=!1,this.isEditable=!0,this.useImagesInHeader=!1,this.pagingOn=!1,this.rowsBufferOutSize=0,dhtmlxEvent(window,"unload",function(){try{self.destructor&&self.destructor()}catch(a){}}),this.setSkin=function(a){this.skin_name=a,this._imgURL&&this.setImagePath(this._imgURL);var b=this.entBox.className.split(" gridbox")[0];switch(this.entBox.className=b+" gridbox gridbox_"+a+(_isIE?" isIE":" isModern"),this.skin_h_correction=0,this.enableAlterCss("ev_"+a,"odd_"+a,this.isTreeGrid()),this._fixAlterCss(),a){case"clear":this._topMb=document.createElement("DIV"),this._topMb.className="topMumba",this._topMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinC_top_left.gif'><img style='right:20px' src='"+this.imgURL+"skinC_top_right.gif'>",this.entBox.appendChild(this._topMb),this._botMb=document.createElement("DIV"),this._botMb.className="bottomMumba",this._botMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinD_bottom_left.gif'><img style='right:20px' src='"+this.imgURL+"skinD_bottom_right.gif'>",this.entBox.appendChild(this._botMb),"absolute"!=this.entBox.style.position&&(this.entBox.style.position="relative"),this.skin_h_correction=20;break;case"dhx_terrace":this._srdh=33,this.forceDivInHeader=!0;break;case"dhx_skyblue":case"dhx_web":case"glassy_blue":case"dhx_black":case"dhx_blue":case"modern":case"light":this._srdh=29,this.forceDivInHeader=!0;break;case"xp":this.forceDivInHeader=!0,this._srdh=_isIE&&"BackCompat"!=document.compatMode?26:22;break;case"mt":this._srdh=_isIE&&"BackCompat"!=document.compatMode?26:22;break;case"gray":_isIE&&"BackCompat"!=document.compatMode&&(this._srdh=22);break;case"sbdark":}if(_isIE&&this.hdr){var c=this.hdr.parentNode;c.removeChild(this.hdr),c.appendChild(this.hdr)}this.setSizes()},_isIE&&this.preventIECaching(!0),window.dhtmlDragAndDropObject&&(this.dragger=new dhtmlDragAndDropObject),this._doOnScroll=function(a,b){this.callEvent("onScroll",[this.objBox.scrollLeft,this.objBox.scrollTop]),this.doOnScroll(a,b)},this.doOnScroll=function(a,b){this.hdrBox.scrollLeft=this.objBox.scrollLeft,this.ftr&&(this.ftr.parentNode.scrollLeft=this.objBox.scrollLeft),b||this._srnd&&(this._dLoadTimer&&window.clearTimeout(this._dLoadTimer),this._dLoadTimer=window.setTimeout(function(){self._update_srnd_view&&self._update_srnd_view()},100))},this.attachToObject=function(a){a.appendChild(this.globalBox?this.globalBox:this.entBox),this.setSizes()},this.init=function(a){if(this.isTreeGrid()&&!this._h2&&(this._h2=new dhtmlxHierarchy,this._fake&&!this._realfake&&(this._fake._h2=this._h2),this._tgc={imgURL:null}),this._hstyles){if(this.skin_name||this.setSkin("dhx_skyblue"),this.editStop(),this.lastClicked=null,this.resized=null,this.fldSorted=this.r_fldSorted=null,this.cellWidthPX=[],this.cellWidthPC=[],this.hdr.rows.length>0){var b=this.xmlFileUrl;this.clearAll(!0),this.xmlFileUrl=b}for(var c=this.hdr.insertRow(0),d=0;d<this.hdrLabels.length;d++)c.appendChild(document.createElement("TH")),c.childNodes[d]._cellIndex=d,c.childNodes[d].style.height="0px";_isIE&&_isIE<8&&document.body.style.msTouchAction==this.undefined?c.style.position="absolute":c.style.height="auto";var c=this.hdr.insertRow(_isKHTML?2:1);c._childIndexes=new Array;for(var e=0,d=0;d<this.hdrLabels.length;d++)c._childIndexes[d]=d-e,this.hdrLabels[d]!=this.splitSign||0==d?(c.insertCell(d-e),c.childNodes[d-e]._cellIndex=d,c.childNodes[d-e]._cellIndexS=d,this.setColumnLabel(d,this.hdrLabels[d])):(_isKHTML&&c.insertCell(d-e),c.cells[d-e-1].colSpan=(c.cells[d-e-1].colSpan||1)+1,c.childNodes[d-e-1]._cellIndex++,e++,c._childIndexes[d]=d-e);0==e&&(c._childIndexes=null),this._cCount=this.hdrLabels.length,_isIE&&window.setTimeout(function(){self.setSizes&&self.setSizes()},1),this.obj.firstChild||this.obj.appendChild(document.createElement("TBODY"));var f=this.obj.firstChild;if(!f.firstChild){f.appendChild(document.createElement("TR")),f=f.firstChild,_isIE&&_isIE<8&&document.body.style.msTouchAction==this.undefined?f.style.position="absolute":f.style.height="auto";for(var d=0;d<this.hdrLabels.length;d++)f.appendChild(document.createElement("TH")),f.childNodes[d].style.height="0px"}this._c_order=null,1!=this.multiLine&&(this.obj.className+=" row20px"),this.sortImg.style.position="absolute",this.sortImg.style.display="none",this.sortImg.className="dhxgrid_sort_desc",this.sortImg.defLeft=0,this.noHeader?this.hdrBox.style.display="none":this.noHeader=!1,this._ivizcol&&this.setColHidden(),this.attachHeader(),this.attachHeader(0,0,"_aFoot"),this.setSizes(),a&&this.parseXML(),this.obj.scrollTop=0,this.dragAndDropOff&&this.dragger.addDragLanding(this.entBox,this),this._initDrF&&this._initD(),this._init_point&&this._init_point()}},this.setColumnSizes=function(a){for(var b=0,c=[],d=0,e=0;e<this._cCount;e++)if("*"!=this.initCellWidth[e]||this._hrrar[e]){if("%"==this.cellWidthType){"undefined"==typeof this.cellWidthPC[e]&&(this.cellWidthPC[e]=this.initCellWidth[e]);var f=a*this.cellWidthPC[e]/100||0;d>.5&&(f++,d--);var g=this.cellWidthPX[e]=Math.floor(f),d=d+f-g}else"undefined"==typeof this.cellWidthPX[e]&&(this.cellWidthPX[e]=this.initCellWidth[e]);this._hrrar[e]||(b+=1*this.cellWidthPX[e])}else this._awdth=!1,c.push(e);if(c.length){var h=Math.floor((a-b)/c.length);0>h&&(h=1);for(var e=0;e<c.length;e++){var i=Math.max(this._drsclmW?this._drsclmW[c[e]]||0:0,h);this.cellWidthPX[c[e]]=i,b+=i}if(a>b){var j=c[c.length-1];this.cellWidthPX[j]=this.cellWidthPX[j]+(a-b),b=a}this._setAutoResize()}return this.obj.style.width=b+"px",this.hdr.style.width=b+"px",this.ftr&&(this.ftr.style.width=b+"px"),this.chngCellWidth(),b},this.setSizes=function(){if(this.hdr.rows[0]){var a=this.quirks=_isIE&&"BackCompat"==document.compatMode,b=(this.entBox.offsetWidth-this.entBox.clientWidth)/2;if(!this.dontSetSizes)if(this.globalBox){var c=(this.globalBox.offsetWidth-this.globalBox.clientWidth)/2;if(this._delta_x&&!this._realfake){var d=this.globalBox.clientWidth;this.globalBox.style.width=this._delta_x,this.entBox.style.width=Math.max(0,this.globalBox.clientWidth+(a?2*c:0)-this._fake.entBox.clientWidth)+"px",d!=this.globalBox.clientWidth&&this._fake._correctSplit(this._fake.entBox.clientWidth)}this._delta_y&&!this._realfake&&(this.globalBox.style.height=this._delta_y,this.entBox.style.overflow=this._fake.entBox.style.overflow="hidden",this.entBox.style.height=this._fake.entBox.style.height=this.globalBox.clientHeight+(a?2*c:0)+"px")}else this._delta_x&&(this.entBox.parentNode&&"TD"==this.entBox.parentNode.tagName?(this.entBox.style.width="1px",this.entBox.style.width=parseInt(this._delta_x)*this.entBox.parentNode.clientWidth/100-2*b+"px"):this.entBox.style.width=this._delta_x),this._delta_y&&(this.entBox.style.height=this._delta_y);if(window.clearTimeout(this._sizeTime),!(this.entBox.offsetWidth||this.globalBox&&this.globalBox.offsetWidth))return void(this._sizeTime=window.setTimeout(function(){self.setSizes&&self.setSizes()},250));var e=this._wthB||!this.entBox.cmp&&!this._delta_x||0!=(this.skin_name||"").indexOf("dhx")||a?0:2,f=this._wthB||!this.entBox.cmp&&!this._delta_y||0!=(this.skin_name||"").indexOf("dhx")||a?0:2;this._sizeFix&&(e-=this._sizeFix,f-=this._sizeFix);var g=this.parentGrid?!1:this.objBox.scrollHeight>this.objBox.offsetHeight,h=dhtmlx.$customScroll?0:18,i=this.entBox.clientWidth-(this.skin_h_correction||0)*(a?0:1)-e,j=this.entBox.clientWidth-(this.skin_h_correction||0)-e,k=this.entBox.clientHeight-f,l=this.setColumnSizes(j-(g?h:0)-(this._correction_x||0)),m=this.parentGrid?!1:this.objBox.scrollWidth>this.objBox.offsetWidth||"scroll"==this.objBox.style.overflowX,n=this.hdr.clientHeight,o=this.ftr?this.ftr.clientHeight:0,p=i,q=k-n-o;if(this._awdth&&this._awdth[0]&&99999==this._awdth[1]&&(m=0),this._ahgr&&(q=this._ahgrMA?this.entBox.parentNode.clientHeight-n-o:this.obj.offsetHeight+(m?h:0)+(this._correction_y||0),this._ahgrM&&(q=this._ahgrF?Math.min(this._ahgrM,q+n+o)-n-o:Math.min(this._ahgrM,q)),g&&q>=this.obj.scrollHeight+(m?h:0)&&(g=!1,this.setColumnSizes(j-(this._correction_x||0)))),this._awdth&&this._awdth[0]){"%"==this.cellWidthType&&(this.cellWidthType="px"),this._fake&&(l+=this._fake.entBox.clientWidth);var p=Math.min(Math.max(l+(g?h:0),this._awdth[2]),this._awdth[1])+(this._correction_x||0);this.objBox.style.overflowX=!g&&this.objBox.scrollWidth<=p?"hidden":"auto",this._fake&&(p-=this._fake.entBox.clientWidth)}q=Math.max(0,q),this._ff_size_delta=.1==this._ff_size_delta?.2:.1,_isFF||(this._ff_size_delta=0),this.dontSetSizes||(this.entBox.style.width=Math.max(0,p+(a?2:0)*b+this._ff_size_delta)+"px",this.entBox.style.height=q+(a?2:0)*b+n+o+"px"),this.objBox.style.height=q+(a&&!g?2:0)*b+"px",this.hdrBox.style.height=n+"px",q!=k&&this.doOnScroll(0,!this._srnd);var r=this["setSizes_"+this.skin_name];r&&r.call(this),this.setSortImgPos(),n!=this.hdr.clientHeight&&this._ahgr&&this.setSizes(),this.callEvent("onSetSizes",[])}},this.setSizes_clear=function(){var a=this.hdr.offsetHeight,b=this.entBox.offsetWidth,c=a+this.objBox.offsetHeight;this._topMb.style.top=(a||0)+"px",this._topMb.style.width=b+20+"px",this._botMb.style.top=c-3+"px",this._botMb.style.width=b+20+"px"},this.chngCellWidth=function(){_isOpera&&this.ftr&&(this.ftr.width=this.objBox.scrollWidth+"px");for(var a=this._cCount,b=0;a>b;b++)this.hdr.rows[0].cells[b].style.width=this.cellWidthPX[b]+"px",this.obj.rows[0].childNodes[b].style.width=this.cellWidthPX[b]+"px",this.ftr&&(this.ftr.rows[0].cells[b].style.width=this.cellWidthPX[b]+"px")},this.setDelimiter=function(a){this.delim=a},this.setInitWidthsP=function(a){this.cellWidthType="%",this.initCellWidth=a.split(this.delim.replace(/px/gi,"")),arguments[1]||this._setAutoResize()},this._setAutoResize=function(){if(!this._realfake){var a=(window,this);dhtmlxEvent(window,"resize",function(){window.clearTimeout(a._resize_timer),a._setAutoResize&&(a._resize_timer=window.setTimeout(function(){a.setSizes&&a.setSizes(),a._fake&&a._fake._correctSplit()},100))})}},this.setInitWidths=function(a){if(this.cellWidthType="px",this.initCellWidth=a.split(this.delim),_isFF)for(var b=0;b<this.initCellWidth.length;b++)"*"!=this.initCellWidth[b]&&(this.initCellWidth[b]=parseInt(this.initCellWidth[b]))},this.enableMultiline=function(a){this.multiLine=convertStringToBoolean(a)},this.enableMultiselect=function(a){this.selMultiRows=convertStringToBoolean(a)},this.setImagePath=function(a){this._imgURL=a,this.imgURL=a+"dhxgrid_"+(this.skin_name||"dhx_skyblue").replace("dhx_","")+"/",this.iconTree=this.imgURL+"tree/"},this.setImagesPath=this.setImagePath,this.setIconPath=function(a){this.iconURL=a},this.setIconsPath=this.setIconPath,this.changeCursorState=function(a){var b=a.target||a.srcElement;if("TD"!=b.tagName&&(b=this.getFirstParentOfType(b,"TD")),b){if("TD"==b.tagName&&this._drsclmn&&!this._drsclmn[b._cellIndex])return b.style.cursor="default";var c=(a.layerX||0)+(_isIE||"DIV"!=a.target.tagName?0:b.offsetLeft);b.style.cursor=b.offsetWidth-(a.offsetX||-1*(parseInt(this.getPosition(b,this.hdrBox))-c))<(_isOpera?20:10)?"E-resize":"default",_isOpera&&(this.hdrBox.scrollLeft=this.objBox.scrollLeft)}},this.startColResize=function(a){this.resized&&this.stopColResize(),this.resized=null;var b=a.target||a.srcElement;"TD"!=b.tagName&&(b=this.getFirstParentOfType(b,"TD"));var c=a.clientX,d=this.hdr.offsetWidth,e=parseInt(b.offsetWidth);if("TD"==b.tagName&&"default"!=b.style.cursor){if(this._drsclmn&&!this._drsclmn[b._cellIndex])return;self._old_d_mm=document.body.onmousemove,self._old_d_mu=document.body.onmouseup,document.body.onmousemove=function(a){self&&self.doColResize(a||window.event,b,e,c,d)},document.body.onmouseup=function(){self&&self.stopColResize()}}},this.stopColResize=function(){document.body.onmousemove=self._old_d_mm||"",document.body.onmouseup=self._old_d_mu||"",this.setSizes(),this.doOnScroll(0,1),this.callEvent("onResizeEnd",[this])},this.doColResize=function(a,b,c,d,e){b.style.cursor="E-resize",this.resized=b;{var f=c+(a.clientX-d);e+(a.clientX-d)}if(this.callEvent("onResize",[b._cellIndex,f,this])){if(_isIE&&(this.objBox.scrollLeft=this.hdrBox.scrollLeft),b.colSpan>1){for(var g=new Array,h=0;h<b.colSpan;h++)g[h]=Math.round(f*this.hdr.rows[0].childNodes[b._cellIndexS+h].offsetWidth/b.offsetWidth);for(var h=0;h<b.colSpan;h++)this._setColumnSizeR(b._cellIndexS+1*h,g[h])}else this._setColumnSizeR(b._cellIndex,f);this.doOnScroll(0,1),this.setSizes(),this._fake&&this._awdth&&this._fake._correctSplit()}},this._setColumnSizeR=function(a,b){if(b>(this._drsclmW&&!this._notresize?this._drsclmW[a]||10:10)){if(this.obj.rows[0].childNodes[a].style.width=b+"px",this.hdr.rows[0].childNodes[a].style.width=b+"px",this.ftr&&(this.ftr.rows[0].childNodes[a].style.width=b+"px"),"px"==this.cellWidthType)this.cellWidthPX[a]=b;else{var c=parseInt(this.entBox.offsetWidth);this.objBox.scrollHeight>this.objBox.offsetHeight&&(c-=17);var d=Math.round(b/c*100);this.cellWidthPC[a]=d}"none"!=this.sortImg.style.display&&this.setSortImgPos()}},this.setSortImgState=function(a,b,c,d){if(c=(c||"asc").toLowerCase(),!convertStringToBoolean(a))return this.sortImg.style.display="none",void(this.fldSorted=this.r_fldSorted=null);this.sortImg.className="asc"==c?"dhxgrid_sort_asc":"dhxgrid_sort_desc",this.sortImg.style.display="",this.fldSorted=this.hdr.rows[0].childNodes[b];var e=this.hdr.rows[d||1];if(e){for(var f=0;f<e.childNodes.length;f++)if(e.childNodes[f]._cellIndexS==b)return this.r_fldSorted=e.childNodes[f],this.setSortImgPos();return this.setSortImgState(a,b,c,(d||1)+1)}},this.setSortImgPos=function(a,b,c,d){if(!this._hrrar||!this._hrrar[this.r_fldSorted?this.r_fldSorted._cellIndex:a]){if(!d)if(a)var d=this.hdr.rows[c||0].cells[a];else var d=this.r_fldSorted;if(null!=d){var e=this.getPosition(d,this.hdrBox),f=d.offsetWidth;this.sortImg.style.left=Number(e[0]+f-13)+"px",this.sortImg.defLeft=parseInt(this.sortImg.style.left),this.sortImg.style.top=Number(e[1]+5)+"px",this.useImagesInHeader||b||(this.sortImg.style.display="inline"),this.sortImg.style.left=this.sortImg.defLeft+"px"}}},this.setActive=function(a){if(0==arguments.length)var a=!0;1==a?(globalActiveDHTMLGridObject&&globalActiveDHTMLGridObject!=this&&(globalActiveDHTMLGridObject.editStop(),globalActiveDHTMLGridObject.callEvent("onBlur",[globalActiveDHTMLGridObject])),globalActiveDHTMLGridObject=this,this.isActive=!0):(this.isActive=!1,this.callEvent("onBlur",[this]))
},this._doClick=function(a){var b=0,c=this.getFirstParentOfType(_isIE?a.srcElement:a.target,"TD");if(c&&c.parentNode&&c.parentNode.idd){var d=!0;if(this.markedCells){var e=0;return(a.shiftKey||a.metaKey)&&(e=1),a.ctrlKey&&(e=2),this.doMark(c,e),!0}0!=this.selMultiRows&&(a.shiftKey&&null!=this.row&&this.selectedRows.length&&(b=1),(a.ctrlKey||a.metaKey)&&(b=2)),this.doClick(c,d,b,!1)}},this._doContClick=function(a){var b=this.getFirstParentOfType(_isIE?a.srcElement:a.target,"TD");if(!b||"undefined"==typeof b.parentNode.idd)return this.callEvent("onEmptyClick",[a]),!0;if(2==a.button||_isMacOS&&a.ctrlKey){if(!this.callEvent("onRightClick",[b.parentNode.idd,b._cellIndex,a])){var c=function(a){return(a||event).cancelBubble=!0,!1};return(a.srcElement||a.target).oncontextmenu=c,c(a)}if(this._ctmndx){if(!this.callEvent("onBeforeContextMenu",[b.parentNode.idd,b._cellIndex,this]))return!0;if(_isIE&&(a.srcElement.oncontextmenu=function(){return event.cancelBubble=!0,!1}),this._ctmndx.showContextMenu){var d=window.document.documentElement,e=window.document.body,f=new Array(d.scrollLeft||e.scrollLeft,d.scrollTop||e.scrollTop);if(_isIE)var g=a.clientX+f[0],h=a.clientY+f[1];else var g=a.pageX,h=a.pageY;this._ctmndx.showContextMenu(g-1,h-1),this.contextID=this._ctmndx.contextMenuZoneId=b.parentNode.idd+"_"+b._cellIndex,this._ctmndx._skip_hide=!0}else b.contextMenuId=b.parentNode.idd+"_"+b._cellIndex,b.contextMenu=this._ctmndx,b.a=this._ctmndx._contextStart,b.a(b,a),b.a=null;return a.cancelBubble=!0,!1}}else this._ctmndx&&(this._ctmndx.hideContextMenu?this._ctmndx.hideContextMenu():this._ctmndx._contextEnd());return!0},this.doClick=function(a,b,c,d){this.selMultiRows||(c=0);var e=this.row?this.row.idd:0;if(this.setActive(!0),c||(c=0),null!=this.cell&&(this.cell.className=this.cell.className.replace(/cellselected/g,"")),"TD"==a.tagName){if(this.checkEvent("onSelectStateChanged"))var f=this.getSelectedId();var g=this.row;if(1==c){var h=this.rowsCol._dhx_find(a.parentNode),i=this.rowsCol._dhx_find(this.lastClicked);if(h>i)var j=i,k=h;else var j=h,k=i;for(var l=0;l<this.rowsCol.length;l++)if(l>=j&&k>=l){if(!this.rowsCol[l]||this.rowsCol[l]._sRow)return this.clearSelection(),this.doClick(a,b,0,d);-1==this.rowsCol[l].className.indexOf("rowselected")&&(this._realfake||this.callEvent("onBeforeSelect",[this.rowsCol[l].idd,e,a._cellIndex]))&&(this.rowsCol[l].className+=" rowselected",this.selectedRows[this.selectedRows.length]=this.rowsCol[l])}}else if(2==c&&-1!=a.parentNode.className.indexOf("rowselected")){a.parentNode.className=a.parentNode.className.replace(/rowselected/g,""),this.selectedRows._dhx_removeAt(this.selectedRows._dhx_find(a.parentNode));var m=!0;d=!1}if(this.editStop(),"undefined"==typeof a.parentNode.idd)return!0;if(m||a.parentNode._sRow||(this._realfake||this.callEvent("onBeforeSelect",[a.parentNode.idd,e,a._cellIndex])?this.getSelectedRowId()!=a.parentNode.idd?(0==c&&this.clearSelection(),this.cell=a,g==a.parentNode&&this._chRRS&&(b=!1),this.row=a.parentNode,this.row.className+=" rowselected",-1==this.selectedRows._dhx_find(this.row)&&(this.selectedRows[this.selectedRows.length]=this.row)):(this.cell=a,this.row=a.parentNode):b=!1),this.cell&&-1!=this.cell.parentNode.className.indexOf("rowselected")&&(this.cell.className=this.cell.className.replace(/cellselected/g,"")+" cellselected"),1!=c&&!this.row)return;this.lastClicked=a.parentNode;var n=this.row.idd,o=this.cell;if(b&&"undefined"!=typeof n&&o&&!m?self.onRowSelectTime=setTimeout(function(){self.callEvent&&self.callEvent("onRowSelect",[n,o._cellIndex])},100):this.callEvent("onRowSelectRSOnly",[n]),this.checkEvent("onSelectStateChanged")){var p=this.getSelectedId();f!=p&&this.callEvent("onSelectStateChanged",[p,f])}}this.isActive=!0,d!==!1&&this.cell&&this.cell.parentNode.idd&&this.moveToVisible(this.cell)},this.selectAll=function(){this.clearSelection();var a=this.rowsBuffer;this.pagingOn&&(a=this.rowsCol);for(var b=0;b<a.length;b++)this.render_row(b).className+=" rowselected";this.selectedRows=dhtmlxArray([].concat(a)),this.selectedRows.length&&(this.row=this.selectedRows[0],this.cell=this.row.cells[0]),this._fake&&!this._realfake&&this._fake.selectAll()},this.selectCell=function(a,b,c,d,e,f){if(c||(c=!1),"object"!=typeof a&&(a=this.render_row(a)),!a||-1==a)return null;if(a._childIndexes)var g=a.childNodes[a._childIndexes[b]];else var g=a.childNodes[b];g||(g=a.childNodes[0]),this.markedCells?this.doMark(g,d?2:0):d?this.doClick(g,c,3,f):this.doClick(g,c,0,f),e&&this.editCell()},this.moveToVisible=function(a,b){if(this.pagingOn){var c=Math.floor(this.getRowIndex(a.parentNode.idd)/this.rowsBufferOutSize)+1;c!=this.currentPage&&this.changePage(c)}try{if(a.offsetHeight){var d=a.offsetLeft+a.offsetWidth+20,e=0;d>this.objBox.offsetWidth+this.objBox.scrollLeft?a.offsetLeft>this.objBox.scrollLeft&&(e=a.offsetLeft-(this.objBox.offsetWidth-a.offsetWidth)+5):a.offsetLeft<this.objBox.scrollLeft&&(d-=2*a.offsetWidth/3,d<this.objBox.scrollLeft&&(e=a.offsetLeft-5)),e&&!b&&(this.objBox.scrollLeft=e)}if(a.offsetHeight)d=a.offsetTop;else{var f=this._realfake?this._fake.rowsAr[a.parentNode.idd]:a.parentNode;d=this.rowsBuffer._dhx_find(f)*this._srdh}var g=d+a.offsetHeight+38;if(g>this.objBox.offsetHeight+this.objBox.scrollTop)var h=d;else if(d<this.objBox.scrollTop)var h=d-5;h&&(this.objBox.scrollTop=h)}catch(i){}},this.editCell=function(){if(!this.editor||this.cell!=this.editor.cell){if(this.editStop(),1!=this.isEditable||!this.cell)return!1;var a=this.cell;if(a.parentNode._locked)return!1;if(this.editor=this.cells4(a),null!=this.editor){if(this.editor.isDisabled())return this.editor=null,!1;0!=this.callEvent("onEditCell",[0,this.row.idd,this.cell._cellIndex])&&this.editor.edit?(this._Opera_stop=(new Date).valueOf(),a.className+=" editable",this.editor.edit(),this.callEvent("onEditCell",[1,this.row.idd,this.cell._cellIndex])):this.editor=null}}},this.editStop=function(a){if(_isOpera&&this._Opera_stop){if(1*this._Opera_stop+50>(new Date).valueOf())return;this._Opera_stop=null}if(this.editor&&null!=this.editor){if(this.editor.cell.className=this.editor.cell.className.replace("editable",""),a){var b=this.editor.val;return this.editor.detach(),this.editor.setValue(b),this.editor=null,void this.callEvent("onEditCancel",[this.row.idd,this.cell._cellIndex,b])}this.editor.detach()&&(this.cell.wasChanged=!0);var c=this.editor;this.editor=null;var d=this.callEvent("onEditCell",[2,this.row.idd,this.cell._cellIndex,c.getValue(),c.val]);"string"==typeof d||"number"==typeof d?c[c.setImage?"setLabel":"setValue"](d):d||c[c.setImage?"setLabel":"setValue"](c.val),this._ahgr&&this.multiLine&&this.setSizes()}},this._nextRowCell=function(a,b,c){return a=this._nextRow((this._groups?this.rowsCol:this.rowsBuffer)._dhx_find(a),b),a?a.childNodes[a._childIndexes?a._childIndexes[c]:c]:null},this._getNextCell=function(a,b,c){a=a||this.cell;var d=a.parentNode;if(this._tabOrder)c=this._tabOrder[a._cellIndex],"undefined"!=typeof c&&(a=0>c?this._nextRowCell(d,b,Math.abs(c)-1):d.childNodes[c]);else{var c=a._cellIndex+b;c>=0&&c<this._cCount?(d._childIndexes&&(c=d._childIndexes[a._cellIndex]+b),a=d.childNodes[c]):a=this._nextRowCell(d,b,1==b?0:this._cCount-1)}return a?"none"==a.style.display||this.smartTabOrder&&this.cells(a.parentNode.idd,a._cellIndex).isDisabled()?this._getNextCell(a,b):a:(1==b&&this.tabEnd&&(this.tabEnd.focus(),this.tabEnd.focus(),this.setActive(!1)),-1==b&&this.tabStart&&(this.tabStart.focus(),this.tabStart.focus(),this.setActive(!1)),null)},this._nextRow=function(a,b){var c=this.render_row(a+b);return c&&-1!=c?c&&"none"==c.style.display?this._nextRow(a+b,b):c:null},this.scrollPage=function(a){if(this.rowsBuffer.length){var b=this._realfake?this._fake:this,c=Math.floor((b._r_select||this.getRowIndex(this.row.idd)||0)+a*this.objBox.offsetHeight/(this._srdh||20));0>c&&(c=0),c>=this.rowsBuffer.length&&(c=this.rowsBuffer.length-1),this._srnd&&!this.rowsBuffer[c]?(this.objBox.scrollTop+=Math.floor(a*this.objBox.offsetHeight/(this._srdh||20))*(this._srdh||20),this._fake&&(this._fake.objBox.scrollTop=this.objBox.scrollTop),b._r_select=c):(this.selectCell(c,this.cell._cellIndex,!0,!1,!1,this.multiLine||this._srnd),this.multiLine||this._srnd||this._realfake||(this.objBox.scrollTop=this.getRowById(this.getRowId(c)).offsetTop,this._fake&&(this._fake.objBox.scrollTop=this.objBox.scrollTop)),b._r_select=null)}},this.doKey=function(a){if(!a)return!0;if((a.target||a.srcElement).value!==window.undefined){var b=a.target||a.srcElement;if(!b.parentNode||-1==b.parentNode.className.indexOf("editable"))return!0}if(globalActiveDHTMLGridObject&&this!=globalActiveDHTMLGridObject)return globalActiveDHTMLGridObject.doKey(a);if(0==this.isActive)return!0;if(this._htkebl)return!0;if(!this.callEvent("onKeyPress",[a.keyCode,a.ctrlKey,a.shiftKey,a]))return!1;var c="k"+a.keyCode+"_"+(a.ctrlKey?1:0)+"_"+(a.shiftKey?1:0);if(this.cell){if(this._key_events[c])return!1===this._key_events[c].call(this)?!0:(a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1);this._key_events.k_other&&this._key_events.k_other.call(this,a)}return!0},this.selectRow=function(a,b,c,d){"object"!=typeof a&&(a=this.render_row(a)),this.selectCell(a,0,b,c,!1,d)},this.wasDblClicked=function(a){var b=this.getFirstParentOfType(_isIE?a.srcElement:a.target,"TD");if(b){var c=b.parentNode.idd;return this.callEvent("onRowDblClicked",[c,b._cellIndex,a])}},this._onHeaderClick=function(a,b){var c=this.grid;if(b=b||c.getFirstParentOfType(_isIE?event.srcElement:a.target,"TD"),null==this.grid.resized){if(!this.grid.callEvent("onHeaderClick",[b._cellIndexS,a||window.event]))return!1;c.sortField(b._cellIndexS,!1,b)}this.grid.resized=null},this.deleteSelectedRows=function(){var a=this.selectedRows.length;if(0!=a){var b=this.selectedRows;this.selectedRows=dhtmlxArray();for(var c=a-1;c>=0;c--){var d=b[c];if(this.deleteRow(d.idd,d)){if(d==this.row)var e=c}else this.selectedRows[this.selectedRows.length]=d}if(e)try{e+1>this.rowsCol.length&&e--,this.selectCell(e,0,!0)}catch(f){this.row=null,this.cell=null}}},this.getSelectedRowId=function(){for(var a=new Array(0),b={},c=0;c<this.selectedRows.length;c++){var d=this.selectedRows[c].idd;b[d]||(a[a.length]=d,b[d]=!0)}return 0==a.length?null:a.join(this.delim)},this.getSelectedCellIndex=function(){return null!=this.cell?this.cell._cellIndex:-1},this.getColWidth=function(a){return parseInt(this.cellWidthPX[a])},this.setColWidth=function(a,b){if("*"==b)this.initCellWidth[a]="*";else{if(this._hrrar[a])return;"px"==this.cellWidthType?this.cellWidthPX[a]=parseInt(b):this.cellWidthPC[a]=parseInt(b)}this.setSizes()},this.getRowIndex=function(a){for(var b=0;b<this.rowsBuffer.length;b++)if(this.rowsBuffer[b]&&this.rowsBuffer[b].idd==a)return b;return-1},this.getRowId=function(a){return this.rowsBuffer[a]?this.rowsBuffer[a].idd:this.undefined},this.setRowId=function(a,b){this.changeRowId(this.getRowId(a),b)},this.changeRowId=function(a,b){if(a!=b){var c=this.rowsAr[a];c.idd=b,this.UserData[a]&&(this.UserData[b]=this.UserData[a],this.UserData[a]=null),this._h2&&this._h2.get[a]&&(this._h2.get[b]=this._h2.get[a],this._h2.get[b].id=b,delete this._h2.get[a]),this.rowsAr[a]=null,this.rowsAr[b]=c;for(var d=0;d<c.childNodes.length;d++)c.childNodes[d]._code&&(c.childNodes[d]._code=this._compileSCL(c.childNodes[d]._val,c.childNodes[d]));if(this._mat_links&&this._mat_links[a]){var e=this._mat_links[a];delete this._mat_links[a];for(var f in e)for(var d=0;d<e[f].length;d++)this._compileSCL(e[f][d].original,e[f][d])}this.callEvent("onRowIdChange",[a,b])}},this.setColumnIds=function(a){this.columnIds=a.split(this.delim)},this.setColumnId=function(a,b){this.columnIds[a]=b},this.getColIndexById=function(a){for(var b=0;b<this.columnIds.length;b++)if(this.columnIds[b]==a)return b},this.getColumnId=function(a){return this.columnIds[a]},this.getColumnLabel=function(a,b,c){for(var d=(c||this.hdr).rows[(b||0)+1],e=0;e<d.cells.length;e++)if(d.cells[e]._cellIndexS==a)return _isIE?d.cells[e].innerText:d.cells[e].textContent;return""},this.getColLabel=this.getColumnLabel,this.getFooterLabel=function(a,b){return this.getColumnLabel(a,b,this.ftr)},this.setRowTextBold=function(a){var b=this.getRowById(a);b&&(b.style.fontWeight="bold")},this.setRowTextStyle=function(a,b){var c=this.getRowById(a);if(c)for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d]._attrs.style||"";this._hrrar&&this._hrrar[d]&&(e="display:none;"),c.childNodes[d].style.cssText=_isIE?e+"width:"+c.childNodes[d].style.width+";"+b:e+"width:"+c.childNodes[d].style.width+";"+b}},this.setRowColor=function(a,b){for(var c=this.getRowById(a),d=0;d<c.childNodes.length;d++)c.childNodes[d].bgColor=b},this.setCellTextStyle=function(a,b,c){var d=this.getRowById(a);if(d){var e=d.childNodes[d._childIndexes?d._childIndexes[b]:b];if(e){var f="";this._hrrar&&this._hrrar[b]&&(f="display:none;"),e.style.cssText=_isIE?f+"width:"+e.style.width+";"+c:f+"width:"+e.style.width+";"+c}}},this.setRowTextNormal=function(a){var b=this.getRowById(a);b&&(b.style.fontWeight="normal")},this.doesRowExist=function(a){return null!=this.getRowById(a)?!0:!1},this.getColumnsNum=function(){return this._cCount},this.moveRowUp=function(a){var b=this.getRowById(a);if(this.isTreeGrid())return this.moveRowUDTG(a,-1);var c=this.rowsCol._dhx_find(b);if(b.previousSibling&&0!=c){b.parentNode.insertBefore(b,b.previousSibling),this.rowsCol._dhx_swapItems(c,c-1),this.setSizes();var d=this.rowsBuffer._dhx_find(b);this.rowsBuffer._dhx_swapItems(d,d-1),this._cssEven&&this._fixAlterCss(c-1)}},this.moveRowDown=function(a){var b=this.getRowById(a);if(this.isTreeGrid())return this.moveRowUDTG(a,1);var c=this.rowsCol._dhx_find(b);if(b.nextSibling){this.rowsCol._dhx_swapItems(c,c+1),b.nextSibling.nextSibling?b.parentNode.insertBefore(b,b.nextSibling.nextSibling):b.parentNode.appendChild(b),this.setSizes();var d=this.rowsBuffer._dhx_find(b);this.rowsBuffer._dhx_swapItems(d,d+1),this._cssEven&&this._fixAlterCss(c)}},this.getCombo=function(a){return this.combos[a]||(this.combos[a]=new dhtmlXGridComboObject),this.combos[a]},this.setUserData=function(a,b,c){a||(a="gridglobaluserdata"),this.UserData[a]||(this.UserData[a]=new Hashtable),this.UserData[a].put(b,c)},this.getUserData=function(a,b){a||(a="gridglobaluserdata"),this.getRowById(a);var c=this.UserData[a];return c?c.get(b):""},this.setEditable=function(a){this.isEditable=convertStringToBoolean(a)},this.selectRowById=function(a,b,c,d){d||(d=!1),this.selectCell(this.getRowById(a),0,d,b,!1,c)},this.clearSelection=function(){this.editStop();for(var a=0;a<this.selectedRows.length;a++){var b=this.rowsAr[this.selectedRows[a].idd];b&&(b.className=b.className.replace(/rowselected/g,""))}this.selectedRows=dhtmlxArray(),this.row=null,null!=this.cell&&(this.cell.className=this.cell.className.replace(/cellselected/g,""),this.cell=null),this.callEvent("onSelectionCleared",[])},this.copyRowContent=function(a,b){var c=this.getRowById(a);if(this.isTreeGrid())this._copyTreeGridRowContent(c,a,b);else for(var d=0;d<c.cells.length;d++)this.cells(b,d).setValue(this.cells(a,d).getValue());_isIE||(this.getRowById(a).cells[0].height=c.cells[0].offsetHeight)},this.setFooterLabel=function(a,b,c){return this.setColumnLabel(a,b,c,this.ftr)},this.setColumnLabel=function(a,b,c,d){var e=(d||this.hdr).rows[c||1],f=e._childIndexes?e._childIndexes[a]:a;if(e.cells[f]){if(this.useImagesInHeader){e.cells[f].style.textAlign="left",e.cells[f].innerHTML="<img src='"+b+"'>";var g=new Image;g.src=""+b.replace(/(\.[a-z]+)/,".des$1"),this.preloadImagesAr[this.preloadImagesAr.length]=g;var h=new Image;h.src=""+b.replace(/(\.[a-z]+)/,".asc$1"),this.preloadImagesAr[this.preloadImagesAr.length]=h}else{var i="<div class='hdrcell'>";if(-1!=b.indexOf("img:[")){var j=b.replace(/.*\[([^>]+)\].*/,"$1");b=b.substr(b.indexOf("]")+1,b.length),i+="<img width='18px' height='18px' align='absmiddle' src='"+j+"' hspace='2'>"}i+=b,i+="</div>",e.cells[f].innerHTML=i,this._hstyles[f]&&(e.cells[f].style.cssText=this._hstyles[f])}if(-1!=(b||"").indexOf("#")){var k=b.match(/(^|{)#([^}]+)(}|$)/);if(k){var l="_in_header_"+k[2];this[l]&&this[l](this.forceDivInHeader?e.cells[f].firstChild:e.cells[f],f,b.split(k[0]))}}}},this.setColLabel=function(a,b,c,d){return this.setColumnLabel(a,b,(c||0)+1,d)},this.clearAll=function(a){if(this.obj.rows[0]){this._h2&&(this._h2=new dhtmlxHierarchy,this._fake&&(this._realfake?this._h2=this._fake._h2:this._fake._h2=this._h2)),this.limit=this._limitC=0,this.editStop(!0),this._dLoadTimer&&window.clearTimeout(this._dLoadTimer),this._dload&&(this.objBox.scrollTop=0,this.limit=this._limitC||0,this._initDrF=!0);var b=this.rowsCol.length;b=this.obj.rows.length;for(var c=b-1;c>0;c--){var d=this.obj.rows[c];d.parentNode.removeChild(d)}if(a){this._master_row=null,this.obj.rows[0].parentNode.removeChild(this.obj.rows[0]);for(var c=this.hdr.rows.length-1;c>=0;c--){var d=this.hdr.rows[c];d.parentNode.removeChild(d)}this.ftr&&(this.ftr.parentNode.removeChild(this.ftr),this.ftr=null),this._aHead=this.ftr=this.cellWidth=this._aFoot=null,this.cellType=dhtmlxArray(),this._hrrar=[],this.columnIds=[],this.combos=[],this._strangeParams=[],this.defVal=[],this._ivizcol=null}this.row=null,this.cell=null,this.rowsCol=dhtmlxArray(),this.rowsAr={},this._RaSeCol=[],this.rowsBuffer=dhtmlxArray(),this.UserData=[],this.selectedRows=dhtmlxArray(),(this.pagingOn||this._srnd)&&(this.xmlFileUrl=""),this.pagingOn&&this.changePage(1),this._contextCallTimer&&window.clearTimeout(this._contextCallTimer),this._sst&&this.enableStableSorting(!0),this._fillers=this.undefined,this.setSortImgState(!1),this.setSizes(),this.callEvent("onClearAll",[])}},this.sortField=function(a,b,c){if(0==this.getRowsNum())return!1;var d=this.hdr.rows[0].cells[a];if(d&&"TH"==d.tagName&&this.fldSort.length-1>=d._cellIndex&&"na"!=this.fldSort[d._cellIndex]){var e=this.getSortingState(),f=e[0]==a&&"asc"==e[1]?"des":"asc";if(!this.callEvent("onBeforeSorting",[a,this.fldSort[a],f]))return;if(this.sortImg.className="dhxgrid_sort_"+("asc"==f?"asc":"desc"),this.useImagesInHeader){var g=this.hdr.rows[1].cells[d._cellIndex].firstChild;if(null!=this.fldSorted){var h=this.hdr.rows[1].cells[this.fldSorted._cellIndex].firstChild;h.src=h.src.replace(/(\.asc\.)|(\.des\.)/,".")}g.src=g.src.replace(/(\.[a-z]+)$/,"."+f+"$1")}this.sortRows(d._cellIndex,this.fldSort[d._cellIndex],f),this.fldSorted=d,this.r_fldSorted=c;{var i=this.hdr.rows[1],i=c.parentNode;i._childIndexes?i._childIndexes[d._cellIndex]:d._cellIndex}this.setSortImgPos(!1,!1,!1,c)}},this.setCustomSorting=function(func,col){this._customSorts||(this._customSorts=new Array),this._customSorts[col]="string"==typeof func?eval(func):func,this.fldSort[col]="cus"},this.enableHeaderImages=function(a){this.useImagesInHeader=a},this.setHeader=function(a,b,c){if("object"!=typeof a)var d=this._eSplit(a);else d=[].concat(a);for(var e=new Array(0),f=new dhtmlxArray(0),g=new Array(0),h=new Array(0),i=new Array(0),j=0;j<d.length;j++)e[e.length]=Math.round(100/d.length),f[f.length]="ed",g[g.length]="left",h[h.length]="middle",i[i.length]="na";this.splitSign=b||"#cspan",this.hdrLabels=d,this.cellWidth=e,this.initCellWidth.length||this.setInitWidthsP(e.join(this.delim),!0),this.cellType=f,this.cellAlign=g,this.cellVAlign=h,this.fldSort=i,this._hstyles=c||[]},this._eSplit=function(a){if(![].push)return a.split(this.delim);var b="r"+(new Date).valueOf(),c=this.delim.replace(/([\|\+\*\^])/g,"\\$1");return(a||"").replace(RegExp(c,"g"),b).replace(RegExp("\\\\"+b,"g"),this.delim).split(b)},this.getColType=function(a){return this.cellType[a]},this.getColTypeById=function(a){return this.cellType[this.getColIndexById(a)]},this.setColTypes=function(a){this.cellType=dhtmlxArray(a.split(this.delim)),this._strangeParams=new Array;for(var b=0;b<this.cellType.length;b++){if(-1!=this.cellType[b].indexOf("[")){var c=this.cellType[b].split(/[\[\]]+/g);this.cellType[b]=c[0],this.defVal[b]=c[1],0==c[1].indexOf("=")&&(this.cellType[b]="math",this._strangeParams[b]=c[0])}window["eXcell_"+this.cellType[b]]||dhtmlxError.throwError("Configuration","Incorrect cell type: "+this.cellType[b],[this,this.cellType[b]])}},this.setColSorting=function(a){this.fldSort=a.split(this.delim);for(var b={str:1,"int":1,date:1},c=0;c<this.fldSort.length;c++)b[this.fldSort[c]]||"function"!=typeof window[this.fldSort[c]]||(this._customSorts||(this._customSorts=new Array),this._customSorts[c]=window[this.fldSort[c]],this.fldSort[c]="cus")},this.setColAlign=function(a){this.cellAlign=a.split(this.delim);for(var b=0;b<this.cellAlign.length;b++)this.cellAlign[b]=this.cellAlign[b]._dhx_trim()},this.setColVAlign=function(a){this.cellVAlign=a.split(this.delim)},this.setNoHeader=function(a){this.noHeader=convertStringToBoolean(a)},this.showRow=function(a){this.getRowById(a),this._h2&&this.openItem(this._h2.get[a].parent.id);for(var b=this.getRowById(a).childNodes[0];b&&"none"==b.style.display;)b=b.nextSibling;b&&this.moveToVisible(b,!0)},this.setStyle=function(a,b,c,d){this.ssModifier=[a,b,c,c,d];for(var e=["#"+this.entBox.id+" table.hdr td","#"+this.entBox.id+" table.obj td","#"+this.entBox.id+" table.obj tr.rowselected td.cellselected","#"+this.entBox.id+" table.obj td.cellselected","#"+this.entBox.id+" table.obj tr.rowselected td"],f=0;!_isIE;){try{{document.styleSheets[f].cssRules.length}}catch(g){f++;continue}break}for(var h=0;h<e.length;h++)this.ssModifier[h]&&(_isIE?document.styleSheets[0].addRule(e[h],this.ssModifier[h]):document.styleSheets[f].insertRule(e[h]+(" { "+this.ssModifier[h]+" }"),document.styleSheets[f].cssRules.length))},this.setColumnColor=function(a){this.columnColor=a.split(this.delim)},this.enableAlterCss=function(a,b,c,d){(a||b)&&this.attachEvent("onGridReconstructed",function(){this._fixAlterCss(),this._fake&&this._fake._fixAlterCss()}),this._cssSP=c,this._cssSU=d,this._cssEven=a,this._cssUnEven=b},this._fixAlterCss=function(a){if(this._h2&&(this._cssSP||this._cssSU))return this._fixAlterCssTGR(a);if(this._cssEven||this._cssUnEven){a=a||0;for(var b=a,c=a;c<this.rowsCol.length;c++)if(this.rowsCol[c]&&"none"!=this.rowsCol[c].style.display){if(this.rowsCol[c]._cntr){b=1;continue}this.rowsCol[c].className=-1!=this.rowsCol[c].className.indexOf("rowselected")?b%2==1?this._cssUnEven+" rowselected "+(this.rowsCol[c]._css||""):this._cssEven+" rowselected "+(this.rowsCol[c]._css||""):b%2==1?this._cssUnEven+" "+(this.rowsCol[c]._css||""):this._cssEven+" "+(this.rowsCol[c]._css||""),b++}}},this.clearChangedState=function(){for(var a=0;a<this.rowsCol.length;a++){var b=this.rowsCol[a];if(b&&b.childNodes)for(var c=b.childNodes.length,d=0;c>d;d++)b.childNodes[d].wasChanged=!1}},this.getChangedRows=function(a){var b=new Array;return this.forEachRow(function(c){var d=this.rowsAr[c];if("TR"==d.tagName){var e=d.childNodes.length;if(a&&d._added)b[b.length]=d.idd;else for(var f=0;e>f;f++)if(d.childNodes[f].wasChanged){b[b.length]=d.idd;break}}}),b.join(this.delim)},this._sUDa=!1,this._sAll=!1,this.setSerializationLevel=function(a,b,c,d,e,f){this._sUDa=a,this._sAll=b,this._sConfig=c,this._chAttr=d,this._onlChAttr=e,this._asCDATA=f},this.setSerializableColumns=function(a){if(!a)return void(this._srClmn=null);this._srClmn=(a||"").split(",");for(var b=0;b<this._srClmn.length;b++)this._srClmn[b]=convertStringToBoolean(this._srClmn[b])},this._serialise=function(){this.editStop();var a=[],b="</"+this.xml.s_row+">";if(this.isTreeGrid())this._h2.forEachChildF(0,function(b){var c=this._serializeRow(this.render_row_tree(-1,b.id));return a.push(c),c?!0:!1},this,function(){a.push(b)});else for(var c=0;c<this.rowsBuffer.length;c++)if(this.rowsBuffer[c]){if(this._chAttr&&this.rowsBuffer[c]._locator)continue;var d=this._serializeRow(this.render_row(c));a.push(d),d&&a.push(b)}return[a.join("")]},this._serializeRow=function(a,b){var c=[],d=this.xml.row_attrs,e=this.xml.cell_attrs;if(c.push("<"+this.xml.s_row),c.push(" id='"+a.idd+"'"),this._sAll&&-1!=this.selectedRows._dhx_find(a)&&c.push(" selected='1'"),this._h2&&"minus"==this._h2.get[a.idd].state&&c.push(" open='1'"),d.length)for(var b=0;b<d.length;b++)c.push(" "+d[b]+"='"+a._attrs[d[b]]+"'");if(c.push(">"),this._sUDa&&this.UserData[a.idd]){keysAr=this.UserData[a.idd].getKeys();for(var f=0;f<keysAr.length;f++)c.push("<userdata name='"+keysAr[f]+"'>"+(this._asCDATA?"<![CDATA[":"")+this.UserData[a.idd].get(keysAr[f])+(this._asCDATA?"]]>":"")+"</userdata>")}for(var g=!1,h=0;h<this._cCount;h++)if(!this._srClmn||this._srClmn[h]){var i=this.cells3(a,h);if(c.push("<cell"),e.length)for(var b=0;b<e.length;b++)c.push(" "+e[b]+"='"+i.cell._attrs[e[b]]+"'");if(zxVal=i[this._agetm](),this._asCDATA&&(zxVal="<![CDATA["+zxVal+"]]>"),this._ecspn&&i.cell.colSpan&&i.cell.colSpan>1&&c.push(' colspan="'+i.cell.colSpan+'" '),this._chAttr?i.wasChanged()&&(c.push(' changed="1"'),g=!0):this._onlChAttr&&i.wasChanged()&&(g=!0),c.push(this._sAll&&"tree"==this.cellType[h]?(this._h2?" image='"+this._h2.get[a.idd].image+"'":"")+">"+zxVal+"</cell>":">"+zxVal+"</cell>"),this._ecspn&&i.cell.colSpan)for(var j=0;j<i.cell.colSpan-1;j++)c.push("<cell/>"),h++}return!this._onlChAttr||g||a._added?c.join(""):""},this._serialiseConfig=function(){for(var a="<head>",b=0;b<this.hdr.rows[0].cells.length;b++)if(!this._srClmn||this._srClmn[b]){var c=this.fldSort[b];"cus"==c&&(c=this._customSorts[b].toString(),c=c.replace(/function[\ ]*/,"").replace(/\([^\f]*/,"")),a+="<column width='"+this.getColWidth(b)+"' align='"+this.cellAlign[b]+"' type='"+this.cellType[b]+"' sort='"+(c||"na")+"' color='"+this.columnColor[b]+"'"+(this.columnIds[b]?" id='"+this.columnIds[b]+"'":"")+">",a+=this._asCDATA?"<![CDATA["+this.getHeaderCol(b)+"]]>":this.getHeaderCol(b);var d=this.getCombo(b);if(d)for(var e=0;e<d.keys.length;e++)a+="<option value='"+d.keys[e]+"'>"+d.values[e]+"</option>";a+="</column>"}return a+="</head>"},this.serialize=function(){var a='<?xml version="1.0"?><rows>';if(this._agetm=this._mathSerialization?"getMathValue":"getValue",this._sUDa&&this.UserData.gridglobaluserdata)for(var b=this.UserData.gridglobaluserdata.getKeys(),c=0;c<b.length;c++)a+="<userdata name='"+b[c]+"'>"+this.UserData.gridglobaluserdata.get(b[c])+"</userdata>";return this._sConfig&&(a+=this._serialiseConfig()),a+=this._serialise(),a+="</rows>"},this.getPosition=function(a,b){if(!b){var c=getOffset(a);return[c.left,c.top]}b=b||document.body;for(var d=a,e=0,f=0;d&&d!=b;)e+=d.offsetLeft-d.scrollLeft,f+=d.offsetTop-d.scrollTop,d=d.offsetParent;return b==document.body&&(_isIE?(f+=document.body.offsetTop||document.documentElement.offsetTop,e+=document.body.offsetLeft||document.documentElement.offsetLeft):_isFF||(e+=document.body.offsetLeft,f+=document.body.offsetTop)),[e,f]},this.getFirstParentOfType=function(a,b){for(;a&&a.tagName!=b&&"BODY"!=a.tagName;)a=a.parentNode;return a},this.objBox.onscroll=function(){this.grid._doOnScroll()},this.objBox.ontouchend=function(){this.hdrBox.scrollLeft=this.objBox.scrollLeft},this.hdrBox.onscroll=function(){this._try_header_sync||(this._try_header_sync=!0,Math.abs(this.grid.objBox.scrollLeft-this.scrollLeft)>1&&(this.grid.objBox.scrollLeft=this.scrollLeft),this._try_header_sync=!1)},(!_isOpera||_OperaRv>8.5)&&(this.hdr.onmousemove=function(a){this.grid.changeCursorState(a||window.event)},this.hdr.onmousedown=function(a){return this.grid.startColResize(a||window.event)}),this.obj.onmousemove=this._drawTooltip,this.objBox.onclick=function(a){(a||event).cancelBubble=!0},this.obj.onclick=function(a){this.grid._doClick(a||window.event),this.grid._sclE?this.grid.editCell(a||window.event):this.grid.editStop(),(a||event).cancelBubble=!0},_isMacOS?this.entBox.oncontextmenu=function(a){a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=this.grid;return b._realfake&&(b=b._fake),b._doContClick(a||window.event)}:(this.entBox.onmousedown=function(a){return this.grid._doContClick(a||window.event)},this.entBox.oncontextmenu=function(a){return this.grid._ctmndx&&((a||event).cancelBubble=!0),!this.grid._ctmndx}),this.obj.ondblclick=function(a){if(!this.grid.wasDblClicked(a||window.event))return!1;if(this.grid._dclE){var b=this.grid.getFirstParentOfType(_isIE?event.srcElement:a.target,"TR");b==this.grid.row&&this.grid.editCell(a||window.event)}return(a||event).cancelBubble=!0,_isOpera?!1:void 0},this.hdr.onclick=this._onHeaderClick,this.sortImg.onclick=function(){self._onHeaderClick.apply({grid:self},[null,self.r_fldSorted])},this.hdr.ondblclick=this._onHeaderDblClick,document.body._dhtmlxgrid_onkeydown||(dhtmlxEvent(document,"keydown",function(a){return globalActiveDHTMLGridObject?globalActiveDHTMLGridObject.doKey(a||window.event):void 0}),document.body._dhtmlxgrid_onkeydown=!0),dhtmlxEvent(document.body,"click",function(){self.editStop&&self.editStop(),self.isActive&&self.setActive(!1)}),-1!=this.entBox.style.height.toString().indexOf("%")&&(this._delta_y=this.entBox.style.height),-1!=this.entBox.style.width.toString().indexOf("%")&&(this._delta_x=this.entBox.style.width),(this._delta_x||this._delta_y)&&this._setAutoResize(),this.setColHidden=this.setColumnsVisibility,this.enableCollSpan=this.enableColSpan,this.setMultiselect=this.enableMultiselect,this.setMultiLine=this.enableMultiline,this.deleteSelectedItem=this.deleteSelectedRows,this.getSelectedId=this.getSelectedRowId,this.getHeaderCol=this.getColumnLabel,this.isItemExists=this.doesRowExist,this.getColumnCount=this.getColumnsNum,this.setSelectedRow=this.selectRowById,this.setHeaderCol=this.setColumnLabel,this.preventIECashing=this.preventIECaching,this.enableAutoHeigth=this.enableAutoHeight,this.getUID=this.uid,dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path),dhtmlx.skin&&this.setSkin(dhtmlx.skin),this}function dhtmlXGridCellObject(a){this.destructor=function(){return this.cell.obj=null,this.cell=null,this.grid=null,this.base=null,null},this.cell=a,this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell.innerHTML._dhx_trim()},this.getMathValue=function(){return this.cell.original?this.cell.original:this.getValue()},this.getFont=function(){return arOut=new Array(3),this.cell.style.fontFamily&&(arOut[0]=this.cell.style.fontFamily),("bold"==this.cell.style.fontWeight||"bold"==this.cell.parentNode.style.fontWeight)&&(arOut[1]="bold"),("italic"==this.cell.style.fontStyle||"italic"==this.cell.parentNode.style.fontWeight)&&(arOut[1]+="italic"),arOut[2]=this.cell.style.fontSize?this.cell.style.fontSize:"",arOut.join("-")},this.getTextColor=function(){return this.cell.style.color?this.cell.style.color:"#000000"},this.getBgColor=function(){return this.cell.bgColor?this.cell.bgColor:"#FFFFFF"},this.getHorAlign=function(){return this.cell.style.textAlign?this.cell.style.textAlign:this.cell.style.textAlign?this.cell.style.textAlign:"left"},this.getWidth=function(){return this.cell.scrollWidth},this.setFont=function(a){fntAr=a.split("-"),this.cell.style.fontFamily=fntAr[0],this.cell.style.fontSize=fntAr[fntAr.length-1],3==fntAr.length&&(/bold/.test(fntAr[1])&&(this.cell.style.fontWeight="bold"),/italic/.test(fntAr[1])&&(this.cell.style.fontStyle="italic"),/underline/.test(fntAr[1])&&(this.cell.style.textDecoration="underline"))},this.setTextColor=function(a){this.cell.style.color=a},this.setBgColor=function(a){""==a&&(a=null),this.cell.bgColor=a},this.setHorAlign=function(a){this.cell.style.textAlign=1==a.length?"c"==a?"center":"l"==a?"left":"right":a},this.wasChanged=function(){return this.cell.wasChanged?!0:!1},this.isCheckbox=function(){var a=this.cell.firstChild;return a&&"INPUT"==a.tagName?(type=a.type,"radio"==type||"checkbox"==type?!0:!1):!1},this.isChecked=function(){return this.isCheckbox()?this.cell.firstChild.checked:void 0},this.isDisabled=function(){return this.cell._disabled},this.setChecked=function(a){this.isCheckbox()&&("true"!=a&&1!=a&&(a=!1),this.cell.firstChild.checked=a)},this.setDisabled=function(a){"true"!=a&&1!=a&&(a=!1),this.isCheckbox()&&(this.cell.firstChild.disabled=a,this.disabledF&&this.disabledF(a)),this.cell._disabled=a}}function eXcell(){this.obj=null,this.val=null,this.changeState=function(){return!1
},this.edit=function(){this.val=this.getValue()},this.detach=function(){return!1},this.getPosition=function(a){for(var b=a,c=0,d=0;"BODY"!=b.tagName;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;return new Array(c,d)}}function eXcell_ed(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.edit=function(){this.cell.atag=!this.grid.multiLine&&(_isKHTML||_isMacOS||_isFF)?"INPUT":"TEXTAREA",this.val=this.getValue(),this.obj=document.createElement(this.cell.atag),this.obj.setAttribute("autocomplete","off"),this.obj.style.height=this.cell.offsetHeight-(_isIE,4)+"px",this.obj.className="dhx_combo_edit",this.obj.wrap="soft",this.obj.style.textAlign=this.cell.style.textAlign,this.obj.onclick=function(a){(a||event).cancelBubble=!0},this.obj.onmousedown=function(a){(a||event).cancelBubble=!0},this.obj.value=this.val,this.cell.innerHTML="",this.cell.appendChild(this.obj),this.obj.onselectstart=function(a){return a||(a=event),a.cancelBubble=!0,!0},_isIE&&(this.obj.focus(),this.obj.blur()),this.obj.focus()},this.getValue=function(){return this.cell.firstChild&&this.cell.atag&&this.cell.firstChild.tagName==this.cell.atag?this.cell.firstChild.value:this.cell._clearCell?"":this.cell.innerHTML.toString()._dhx_trim()},this.detach=function(){return this.setValue(this.obj.value),this.val!=this.getValue()}}function eXcell_edtxt(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.cell.firstChild&&this.cell.atag&&this.cell.firstChild.tagName==this.cell.atag?this.cell.firstChild.value:this.cell._clearCell?"":_isIE?this.cell.innerText:this.cell.textContent},this.setValue=function(a){a&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a=" ",this.cell._clearCell=!0),this.setCTxtValue(a)}}function eXcell_edn(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell._clearCell?"":this.cell._orig_value||this.grid._aplNFb(this.cell.innerHTML.toString()._dhx_trim(),this.cell._cellIndex)},this.detach=function(){var a=this.obj.value;return this.setValue(a),this.val!=this.getValue()}}function eXcell_ch(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.disabledF=function(a){this.cell.innerHTML=1==a||1==a?this.cell.innerHTML.replace("item_chk0.","item_chk0_dis.").replace("item_chk1.","item_chk1_dis."):this.cell.innerHTML.replace("item_chk0_dis.","item_chk0.").replace("item_chk1_dis.","item_chk1.")},this.changeState=function(a){a!==!0||this.grid.isActive||(null!=window.globalActiveDHTMLGridObject&&window.globalActiveDHTMLGridObject!=this.grid&&window.globalActiveDHTMLGridObject.isActive&&window.globalActiveDHTMLGridObject.setActive(!1),this.grid.setActive(!0)),!this.grid.isEditable||this.cell.parentNode._locked||this.isDisabled()||(this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),this.setValue("1"==this.val?"0":"1"),this.cell.wasChanged=!0,this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val]),this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val])):this.editor=null)},this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"},this.isCheckbox=function(){return!0},this.isChecked=function(){return"1"==this.getValue()?!0:!1},this.setChecked=function(a){this.setValue(a.toString())},this.detach=function(){return this.val!=this.getValue()},this.edit=null}function eXcell_ra(a){this.base=eXcell_ch,this.base(a),this.grid=a.parentNode.grid,this.disabledF=function(a){this.cell.innerHTML=1==a||1==a?this.cell.innerHTML.replace("radio_chk0.","radio_chk0_dis.").replace("radio_chk1.","radio_chk1_dis."):this.cell.innerHTML.replace("radio_chk0_dis.","radio_chk0.").replace("radio_chk1_dis.","radio_chk1.")},this.changeState=function(a){(a!==!1||1!=this.getValue())&&(!this.grid.isEditable||this.cell.parentNode._locked||this.isDisabled()||(0!=this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),this.setValue("1"==this.val?"0":"1"),this.cell.wasChanged=!0,this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val]),this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val])):this.editor=null))},this.edit=null}function eXcell_txt(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.edit=function(){this.val=this.getValue(),this.obj=document.createElement("TEXTAREA"),this.obj.className="dhx_textarea",this.obj.onclick=function(a){(a||event).cancelBubble=!0};var a=this.grid.getPosition(this.cell);if(this.obj.value=this.val,this.obj.style.display="",this.obj.style.textAlign=this.cell.style.textAlign,_isFF){var b=document.createElement("DIV");b.appendChild(this.obj),b.style.overflow="auto",b.className="dhx_textarea",this.obj.style.margin="0px 0px 0px 0px",this.obj.style.border="0px",this.obj=b}if(document.body.appendChild(this.obj),_isOpera&&(this.obj.onkeypress=function(a){return 9==a.keyCode?!1:void 0}),this.obj.onkeydown=function(a){var b=a||event;return 9==b.keyCode?(globalActiveDHTMLGridObject.entBox.focus(),globalActiveDHTMLGridObject.doKey({keyCode:b.keyCode,shiftKey:b.shiftKey,srcElement:"0"}),!1):void 0},this.obj.style.left=a[0]+"px",this.obj.style.top=a[1]+this.cell.offsetHeight+"px",this.cell.offsetWidth<200)var c=200;else var c=this.cell.offsetWidth;this.obj.style.width=c+(_isFF?18:16)+"px",_isFF&&(this.obj.firstChild.style.width=parseInt(this.obj.style.width)+"px",this.obj.firstChild.style.height=this.obj.offsetHeight-3+"px"),_isIE&&(this.obj.select(),this.obj.value=this.obj.value),_isFF?this.obj.firstChild.focus():this.obj.focus()},this.detach=function(){var a="";return a=_isFF?this.obj.firstChild.value:this.obj.value,this.cell._clearCell=""==a?!0:!1,this.setValue(a),document.body.removeChild(this.obj),this.obj=null,this.val!=this.getValue()},this.getValue=function(){return this.obj?_isFF?this.obj.firstChild.value:this.obj.value:this.cell._clearCell?"":"undefined"!=typeof this.cell._brval?this.cell._brval:this.grid.multiLine?this.cell._brval||this.cell.innerHTML.replace(/<br[^>]*>/gi,"\n")._dhx_trim():this.cell._brval||this.cell.innerHTML}}function eXcell_txttxt(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell._clearCell?"":!this.grid.multiLine&&this.cell._brval?this.cell._brval:_isIE?this.cell.innerText:this.cell.textContent},this.setValue=function(a){this.cell._brval=a,a&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a=" ",this.cell._clearCell=!0),this.setCTxtValue(a)}}function eXcell_co(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid,this.combo=this.cell._combo||this.grid.getCombo(this.cell._cellIndex),this.editable=!0),this.shiftNext=function(){var a=this.list.options[this.list.selectedIndex+1];return a&&(a.selected=!0),this.obj.value=this.list.options[this.list.selectedIndex].text,!0},this.shiftPrev=function(){if(0!=this.list.selectedIndex){var a=this.list.options[this.list.selectedIndex-1];a&&(a.selected=!0),this.obj.value=this.list.options[this.list.selectedIndex].text}return!0},this.edit=function(){this.val=this.getValue(),this.text=this.getText()._dhx_trim();var a=this.grid.getPosition(this.cell);this.obj=document.createElement("TEXTAREA"),this.obj.className="dhx_combo_edit",this.obj.style.height=this.cell.offsetHeight-4+"px",this.obj.wrap="soft",this.obj.style.textAlign=this.cell.style.textAlign,this.obj.onclick=function(a){(a||event).cancelBubble=!0},this.obj.onmousedown=function(a){(a||event).cancelBubble=!0},this.obj.value=this.text,this.obj.onselectstart=function(a){return a||(a=event),a.cancelBubble=!0,!0};var b=this;this.obj.onkeyup=function(a){var c=(a||event).keyCode;if(38!=c&&40!=c&&9!=c)for(var d=this.readonly?String.fromCharCode(c):this.value,e=b.list.options,f=0;f<e.length;f++)if(0==e[f].text.indexOf(d))return e[f].selected=!0},this.list=document.createElement("SELECT"),this.list.className="dhx_combo_select",this.list.style.width=this.cell.offsetWidth+"px",this.list.style.left=a[0]+"px",this.list.style.top=a[1]+this.cell.offsetHeight+"px",this.list.onclick=function(a){var c=a||window.event,d=c.target||c.srcElement;"OPTION"==d.tagName&&(d=d.parentNode),b.editable=!1,b.grid.editStop(),c.cancelBubble=!0};for(var c=this.combo.getKeys(),d=!1,e=0,f=0;f<c.length;f++){var g=this.combo.get(c[f]);this.list.options[this.list.options.length]=new Option(g,c[f]),c[f]==this.val&&(e=this.list.options.length-1,d=!0)}0==d&&(this.list.options[this.list.options.length]=new Option(this.text,null===this.val?"":this.val),e=this.list.options.length-1),document.body.appendChild(this.list),this.list.size="6",this.cstate=1,this.editable?this.cell.innerHTML="":(this.obj.style.width="1px",this.obj.style.height="1px"),this.cell.appendChild(this.obj),this.list.options[e].selected=!0,(!_isFF||this.editable)&&(this.obj.focus(),this.obj.focus()),this.editable||(this.obj.style.visibility="hidden",this.list.focus(),this.list.onkeydown=function(a){return a=a||window.event,b.grid.setActive(!0),a.keyCode<30?b.grid.doKey({target:b.cell,keyCode:a.keyCode,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey}):void 0})},this.getValue=function(){return this.cell.combo_value==window.undefined?"":this.cell.combo_value},this.detach=function(){if(this.val!=this.getValue()&&(this.cell.wasChanged=!0),null!=this.list.parentNode)if(this.editable){var a=this.list.options[this.list.selectedIndex];if(a&&a.text==this.obj.value)this.setValue(this.list.value);else{var b=this.cell._combo||this.grid.getCombo(this.cell._cellIndex),c=b.values._dhx_find(this.obj.value);this.setValue(-1!=c?b.keys[c]:this.cell.combo_value=this.obj.value)}}else this.setValue(this.list.value);return this.list.parentNode&&this.list.parentNode.removeChild(this.list),this.obj.parentNode&&this.obj.parentNode.removeChild(this.obj),this.val!=this.getValue()}}function eXcell_coro(a){this.base=eXcell_co,this.base(a),this.editable=!1}function eXcell_cotxt(a){this.base=eXcell_co,this.base(a)}function eXcell_corotxt(a){this.base=eXcell_co,this.base(a),this.editable=!1}function eXcell_cp(a){try{this.cell=a,this.grid=this.cell.parentNode.grid}catch(b){}this.edit=function(){this.val=this.getValue(),this.obj=document.createElement("SPAN"),this.obj.style.border="1px solid black",this.obj.style.position="absolute";var a=this.grid.getPosition(this.cell);this.colorPanel(4,this.obj),document.body.appendChild(this.obj),this.obj.style.left=a[0]+"px",this.obj.style.zIndex=1e3,this.obj.style.top=a[1]+this.cell.offsetHeight+"px"},this.toolDNum=function(a){return 1==a.length&&(a="0"+a),a},this.colorPanel=function(a,b){var c=document.createElement("TABLE");b.appendChild(c),c.cellSpacing=0,c.editor_obj=this,c.style.cursor="default",c.onclick=function(a){var b=a||window.event,c=b.target||b.srcElement,d=c.parentNode.parentNode.parentNode.editor_obj;d.setValue(c._bg),d.grid.editStop()};for(var d=256/a,e=0;256/d>=e;e++)for(var f=c.insertRow(e),g=0;256/d>=g;g++)for(var h=0;256/d>=h;h++){R=new Number(d*e)-(0==e?0:1),G=new Number(d*g)-(0==g?0:1),B=new Number(d*h)-(0==h?0:1);var i=this.toolDNum(R.toString(16))+""+this.toolDNum(G.toString(16))+this.toolDNum(B.toString(16)),j=f.insertCell(g);j.width="10px",j.innerHTML="&nbsp;",j.title=i.toUpperCase(),j.style.backgroundColor="#"+i,j._bg="#"+i,null!=this.val&&"#"+i.toUpperCase()==this.val.toUpperCase()&&(j.style.border="2px solid white")}},this.getValue=function(){return this.cell.firstChild._bg||""},this.getRed=function(){return Number(parseInt(this.getValue().substr(1,2),16))},this.getGreen=function(){return Number(parseInt(this.getValue().substr(3,2),16))},this.getBlue=function(){return Number(parseInt(this.getValue().substr(5,2),16))},this.detach=function(){return null!=this.obj.offsetParent&&document.body.removeChild(this.obj),this.val!=this.getValue()}}function eXcell_img(a){try{this.cell=a,this.grid=this.cell.parentNode.grid}catch(b){}this.getValue=function(){if("IMG"==this.cell.firstChild.tagName)return this.cell.firstChild.src+(null!=this.cell.titFl?"^"+this.cell._brval:"");if("A"==this.cell.firstChild.tagName){var a=this.cell.firstChild.firstChild.src+(null!=this.cell.titFl?"^"+this.cell._brval:"");return a+="^"+this.cell.lnk,this.cell.trg&&(a+="^"+this.cell.trg),a}},this.isDisabled=function(){return!0}}function eXcell_price(a){this.base=eXcell_ed,this.base(a),this.getValue=function(){return this.cell.childNodes.length>1?this.cell.childNodes[1].innerHTML.toString()._dhx_trim():"0"}}function eXcell_dyn(a){this.base=eXcell_ed,this.base(a),this.getValue=function(){return this.cell.firstChild.childNodes[1].innerHTML.toString()._dhx_trim()}}function eXcell_ro(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.edit=function(){},this.isDisabled=function(){return!0},this.getValue=function(){return this.cell._clearCell?"":this.cell.innerHTML.toString()._dhx_trim()}}function eXcell_ron(a){this.cell=a,this.grid=this.cell.parentNode.grid,this.edit=function(){},this.isDisabled=function(){return!0},this.getValue=function(){return this.cell._clearCell?"":this.grid._aplNFb(this.cell.innerHTML.toString()._dhx_trim(),this.cell._cellIndex).toString()}}function eXcell_rotxt(a){this.cell=a,this.grid=this.cell.parentNode.grid,this.edit=function(){},this.isDisabled=function(){return!0},this.setValue=function(a){a?this.cell._clearCell=!1:(a=" ",this.cell._clearCell=!0),this.setCTxtValue(a)},this.getValue=function(){return this.cell._clearCell?"":_isIE?this.cell.innerText:this.cell.textContent}}function dhtmlXGridComboObject(){return this.keys=new dhtmlxArray,this.values=new dhtmlxArray,this.put=function(a,b){for(var c=0;c<this.keys.length;c++)if(this.keys[c]==a)return this.values[c]=b,!0;this.values[this.values.length]=b,this.keys[this.keys.length]=a},this.get=function(a){for(var b=0;b<this.keys.length;b++)if(this.keys[b]==a)return this.values[b];return null},this.clear=function(){this.keys=new dhtmlxArray,this.values=new dhtmlxArray},this.remove=function(a){for(var b=0;b<this.keys.length;b++)if(this.keys[b]==a)return this.keys._dhx_removeAt(b),this.values._dhx_removeAt(b),!0},this.size=function(){for(var a=0,b=0;b<this.keys.length;b++)null!=this.keys[b]&&a++;return a},this.getKeys=function(){for(var a=new Array(0),b=0;b<this.keys.length;b++)null!=this.keys[b]&&(a[a.length]=this.keys[b]);return a},this.save=function(){this._save=new Array;for(var a=0;a<this.keys.length;a++)this._save[a]=[this.keys[a],this.values[a]]},this.restore=function(){if(this._save){this.keys[a]=new Array,this.values[a]=new Array;for(var a=0;a<this._save.length;a++)this.keys[a]=this._save[a][0],this.values[a]=this._save[a][1]}},this}function Hashtable(){return this.keys=new dhtmlxArray,this.values=new dhtmlxArray,this}function dragContext(a,b,c,d,e,f,g,h,i,j){return this.source=a||"grid",this.target=b||"grid",this.mode=c||"move",this.dropmode=d||"child",this.sid=e||0,this.tid=f,this.sobj=g||null,this.tobj=h||null,this.sExtra=i||null,this.tExtra=j||null,this}function eXcell_stree(a){if(a){if(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._sub_trees)return;if(this._sub=this.grid._sub_trees[a._cellIndex],!this._sub)return;this._sub=this._sub[0]}this.getValue=function(){return this.cell._val},this.setValue=function(a){this.cell._val=a,a=this._sub.getItemText(this.cell._val),this.setCValue(a||"&nbsp;",a)},this.edit=function(){this._sub.parentObject.style.display="block";var a=this.grid.getPosition(this.cell);this._sub.parentObject.style.top=a[1]+"px",this._sub.parentObject.style.left=a[0]+"px",this._sub.parentObject.style.position="absolute";var b=this.grid.editStop;this.grid.editStop=function(){},this.grid.editStop=b},this.detach=function(){if(this._sub.parentObject.style.display="none",null!=this.grid._sub_id){var a=this.cell._val;return this.setValue(this._sub.getSelectedItemId()),this.grid._sub_id=null,this.cell._val!=a}}}function eXcell_link(a){this.cell=a,this.grid=this.cell.parentNode.grid,this.isDisabled=function(){return!0},this.edit=function(){},this.getValue=function(){if(this.cell.firstChild.getAttribute){var a=this.cell.firstChild.getAttribute("target");return this.cell.firstChild.innerHTML+"^"+this.cell.firstChild.getAttribute("href")+(a?"^"+a:"")}return""},this.setValue=function(a){if("number"!=typeof a&&(!a||""==a.toString()._dhx_trim()))return this.setCValue("&nbsp;",b),this.cell._clearCell=!0;var b=a.split("^");1==b.length?b[1]="":b.length>1&&(b[1]="href='"+b[1]+"'",b[1]+=3==b.length?" target='"+b[2]+"'":" target='_blank'"),this.setCValue("<a "+b[1]+" onclick='(_isIE?event:arguments[0]).cancelBubble = true;'>"+b[0]+"</a>",b)}}function eXcell_grid(a){if(a){if(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._sub_grids)return;if(this._sub=this.grid._sub_grids[a._cellIndex],!this._sub)return;this._sindex=this._sub[1],this._sub=this._sub[0]}this.getValue=function(){return this.cell.val},this.setValue=function(a){this.cell.val=a,this._sub.getRowById(a)&&(a=this._sub.cells(a,this._sindex),a=a?a.getValue():""),this.setCValue(a||"&nbsp;",a)},this.edit=function(){this.val=this.cell.val,this._sub.entBox.style.display="block";var a=this.grid.getPosition(this.cell);this._sub.entBox.style.top=a[1]+"px",this._sub.entBox.style.left=a[0]+"px",this._sub.entBox.style.position="absolute",this._sub.setSizes();var b=this.grid.editStop;this.grid.editStop=function(){},this._sub.getRowById(this.cell.val)&&this._sub.setSelectedRow(this.cell.val),this._sub.setActive(!0),this.grid.editStop=b},this.detach=function(){var a=this.cell.val;return this._sub.entBox.style.display="none",null===this._sub.getSelectedId()?!1:(this.setValue(this._sub.getSelectedId()),this.grid.setActive(!0),this.cell.val!=a)}}function eXcell_dhxCalendar(a){if(a&&(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._grid_calendarA)){var b=this.grid._grid_calendarA=new dhtmlxCalendarObject;this.grid.callEvent("onDhxCalendarCreated",[b]);var c=this.grid;b.attachEvent("onClick",function(){return this._last_operation_calendar=!0,window.setTimeout(function(){c.editStop()},1),!0});var d=function(a){(a||event).cancelBubble=!0};dhtmlxEvent(b.base,"click",d),b=null}}function eXcell_dhxCalendarA(a){if(a&&(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._grid_calendarA)){var b=this.grid._grid_calendarA=new dhtmlxCalendarObject;this.grid.callEvent("onDhxCalendarCreated",[b]);var c=this.grid;b.attachEvent("onClick",function(){return this._last_operation_calendar=!0,window.setTimeout(function(){c.editStop()},1),!0});var d=function(a){(a||event).cancelBubble=!0};dhtmlxEvent(b.base,"click",d)}}function eXcell_cntr(a){if(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._ex_cntr_ready&&!this._realfake){this.grid._ex_cntr_ready=!0,this.grid._h2&&this.grid.attachEvent("onOpenEn",function(){this.resetCounter(a._cellIndex)});var b=function(){var b=this;return window.setTimeout(function(){b.resetCounter&&(b._fake&&!b._realfake&&a._cellIndex<b._fake._cCount?b._fake.resetCounter(a._cellIndex):b.resetCounter(a._cellIndex))},1),!0};this.grid.attachEvent("onBeforeSorting",b),this.grid.attachEvent("onFilterEnd",b)}this.edit=function(){},this.getValue=function(){return this.cell.innerHTML},this.setValue=function(){this.cell.style.paddingRight="2px";var a=this.cell;window.setTimeout(function(){if(a.parentNode){var b=a.parentNode.rowIndex;(a.parentNode.grid.currentPage||0>b||a.parentNode.grid._srnd)&&(b=a.parentNode.grid.rowsBuffer._dhx_find(a.parentNode)+1),0>=b||(a.innerHTML=b,a.parentNode.grid._fake&&a._cellIndex<a.parentNode.grid._fake._cCount&&a.parentNode.grid._fake.rowsAr[a.parentNode.idd]&&a.parentNode.grid._fake.cells(a.parentNode.idd,a._cellIndex).setCValue(b),a=null)}},100)}}function eXcell_acheck(a){try{this.cell=a,this.grid=this.cell.parentNode.grid,this.cell.obj=this}catch(b){}this.changeState=function(){!this.grid.isEditable||this.cell.parentNode._locked||this.isDisabled()||(0!=this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),this.setValue("1"==this.val?"<checkbox state='false'>":"<checkbox state='true'>"),this.cell.wasChanged=!0,this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val]),this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val])):this.editor=null)},this.getValue=function(){try{return this.cell.chstate.toString()}catch(a){return null}},this.isCheckbox=function(){return!0},this.isChecked=function(){return"1"==this.getValue()?!0:!1},this.setChecked=function(a){this.setValue(a.toString())},this.detach=function(){return this.val!=this.getValue()},this.drawCurrentState=function(){return 1==this.cell.chstate?"<div  onclick='(new eXcell_acheck(this.parentNode)).changeState(); (arguments[0]||event).cancelBubble=true;'  style='cursor:pointer; font-weight:bold; text-align:center; '><span style='height:8px; width:8px; background:green; display:inline-block;'></span>&nbsp;Yes</div>":"<div  onclick='(new eXcell_acheck(this.parentNode)).changeState(); (arguments[0]||event).cancelBubble=true;' style='cursor:pointer;  text-align:center; '><span style='height:8px; width:8px; background:red; display:inline-block;'></span>&nbsp;No</div>"}}function eXcell_context(a){if(a){if(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._sub_context)return;if(this._sub=this.grid._sub_context[a._cellIndex],!this._sub)return;this._sindex=this._sub[1],this._sub=this._sub[0]}this.getValue=function(){return _isIE?this.cell.innerText:this.cell.textContent},this.setValue=function(a){this.cell._val=a;var b=this._sub.itemPull[this._sub.idPrefix+this.cell._val];a=b?b.title:a,this.setCValue(a||"&nbsp;",a)},this.edit=function(){var a=this.grid.getPosition(this.cell);this._sub.showContextMenu(a[0]+this.cell.offsetWidth,a[1]);var b=this.grid.editStop;this.grid.editStop=function(){},this.grid.editStop=b},this.detach=function(){if(null!=this.grid._sub_id){var a=this.cell._val;return this.setValue(this.grid._sub_id),this.grid._sub_id=null,this.cell._val!=a}this._sub.hideContextMenu()}}function dhtmlXGridFromTable(obj,init){"object"!=typeof obj&&(obj=document.getElementById(obj));var w=document.createElement("DIV");w.setAttribute("width",obj.getAttribute("gridWidth")||(obj.offsetWidth?obj.offsetWidth+"px":0)||(window.getComputedStyle?window.getComputedStyle(obj,null).width:obj.currentStyle?obj.currentStyle.width:0)),w.setAttribute("height",obj.getAttribute("gridHeight")||(obj.offsetHeight?obj.offsetHeight+"px":0)||(window.getComputedStyle?window.getComputedStyle(obj,null).height:obj.currentStyle?obj.currentStyle.height:0)),w.className=obj.className,obj.className="",obj.id&&(w.id=obj.id);var mr=obj,drag=obj.getAttribute("dragAndDrop");mr.parentNode.insertBefore(w,mr);var f=mr.getAttribute("name")||"name_"+(new Date).valueOf(),windowf=new dhtmlXGridObject(w);window[f]=windowf;var acs=mr.getAttribute("onbeforeinit"),acs2=mr.getAttribute("oninit");acs&&eval(acs),windowf.setImagePath(windowf.imgURL||mr.getAttribute("imgpath")||mr.getAttribute("image_path")||"");var skin=mr.getAttribute("skin");skin&&windowf.setSkin(skin),init&&init(windowf);for(var hrow=mr.rows[0],za="",zb="",zc="",zd="",ze="",i=0;i<hrow.cells.length;i++){za+=(za?",":"")+hrow.cells[i].innerHTML;var width=hrow.cells[i].getAttribute("width")||hrow.cells[i].offsetWidth||(window.getComputedStyle?window.getComputedStyle(hrow.cells[i],null).width:hrow.cells[i].currentStyle?hrow.cells[i].currentStyle.width:0);zb+=(zb?",":"")+("*"==width?width:parseInt(width)),zc+=(zc?",":"")+(hrow.cells[i].getAttribute("align")||"left"),zd+=(zd?",":"")+(hrow.cells[i].getAttribute("type")||"ed"),ze+=(ze?",":"")+(hrow.cells[i].getAttribute("sort")||"str");var f_a=hrow.cells[i].getAttribute("format");f_a&&(-1!=hrow.cells[i].getAttribute("type").toLowerCase().indexOf("calendar")?windowf._dtmask=f_a:windowf.setNumberFormat(f_a,i))}windowf.setHeader(za),windowf.setInitWidths(zb),windowf.setColAlign(zc),windowf.setColTypes(zd),windowf.setColSorting(ze),"auto"==obj.getAttribute("gridHeight")&&windowf.enableAutoHeigth(!0),obj.getAttribute("multiline")&&windowf.enableMultiline(!0);var lmn=mr.getAttribute("lightnavigation");lmn&&windowf.enableLightMouseNavigation(lmn);var evr=mr.getAttribute("evenrow"),uevr=mr.getAttribute("unevenrow");return(evr||uevr)&&windowf.enableAlterCss(evr,uevr),drag&&windowf.enableDragAndDrop(!0),windowf.init(),obj.getAttribute("split")&&windowf.splitAt(obj.getAttribute("split")),windowf._process_inner_html(mr,1),acs2&&eval(acs2),obj.parentNode&&obj.parentNode.removeChild&&obj.parentNode.removeChild(obj),windowf}function eXcell_math(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.edit=function(){this.grid.editor=new eXcell_ed(this.cell),this.grid.editor.fix_self=!0,this.grid.editor.getValue=this.cell.original?function(){return this.cell.original}:this.getValue,this.grid.editor.setValue=this.setValue,this.grid.editor.edit()},this.isDisabled=function(){return!this.grid._mathEdit},this.setValue=function(a){a=this.grid._compileSCL(a,this.cell,this.fix_self),this.grid._strangeParams[this.cell._cellIndex]?this.grid.cells5(this.cell,this.grid._strangeParams[this.cell._cellIndex]).setValue(a):(this.setCValue(a),this.cell._clearCell=!1)},this.getValue=function(){return this.grid._strangeParams[this.cell._cellIndex]?this.grid.cells5(this.cell,this.grid._strangeParams[this.cell._cellIndex]).getValue():this.cell.innerHTML}}function eXcell_roch(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"}}if(!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=eb.type(a);return"function"===c||eb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(eb.isFunction(b))return eb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return eb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(mb.test(b))return eb.filter(b,a,c);b=eb.filter(b,a)}return eb.grep(a,function(a){return eb.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=ub[a]={};return eb.each(a.match(tb)||[],function(a,c){b[c]=!0}),b}function g(){ob.addEventListener?(ob.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(ob.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(ob.addEventListener||"load"===event.type||"complete"===ob.readyState)&&(g(),eb.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(zb,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:yb.test(c)?eb.parseJSON(c):c}catch(e){}eb.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!eb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(eb.acceptData(a)){var e,f,g=eb.expando,h=a.nodeType,i=h?eb.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||eb.guid++:g),i[j]||(i[j]=h?{}:{toJSON:eb.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=eb.extend(i[j],b):i[j].data=eb.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[eb.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[eb.camelCase(b)])):e=f,e}}function l(a,b,c){if(eb.acceptData(a)){var d,e,f=a.nodeType,g=f?eb.cache:a,h=f?a[eb.expando]:eb.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){eb.isArray(b)?b=b.concat(eb.map(b,eb.camelCase)):b in d?b=[b]:(b=eb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!eb.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?eb.cleanData([a],!0):cb.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return ob.activeElement}catch(a){}}function p(a){var b=Kb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==xb?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==xb?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||eb.nodeName(d,b)?f.push(d):eb.merge(f,q(d,b));return void 0===b||b&&eb.nodeName(a,b)?eb.merge([a],f):f}function r(a){Eb.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return eb.nodeName(a,"table")&&eb.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==eb.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Vb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)eb._data(c,"globalEval",!b||eb._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&eb.hasData(a)){var c,d,e,f=eb._data(a),g=eb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)eb.event.add(b,c,h[c][d])}g.data&&(g.data=eb.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!cb.noCloneEvent&&b[eb.expando]){e=eb._data(b);for(d in e.events)eb.removeEvent(b,d,e.handle);b.removeAttribute(eb.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),cb.html5Clone&&a.innerHTML&&!eb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Eb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d,e=eb(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:eb.css(e[0],"display");return e.detach(),f}function z(a){var b=ob,c=_b[a];return c||(c=y(a,b),"none"!==c&&c||($b=($b||eb("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=($b[0].contentWindow||$b[0].contentDocument).document,b.write(),b.close(),c=y(a,b),$b.detach()),_b[a]=c),c}function A(a,b){return{get:function(){var c=a();return null!=c?c?void delete this.get:(this.get=b).apply(this,arguments):void 0}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=mc.length;e--;)if(b=mc[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=eb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Cb(d)&&(f[g]=eb._data(d,"olddisplay",z(d.nodeName)))):(e=Cb(d),(c&&"none"!==c||!e)&&eb._data(d,"olddisplay",e?c:eb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=ic.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=eb.css(a,c+Bb[f],!0,e)),d?("content"===c&&(g-=eb.css(a,"padding"+Bb[f],!0,e)),"margin"!==c&&(g-=eb.css(a,"border"+Bb[f]+"Width",!0,e))):(g+=eb.css(a,"padding"+Bb[f],!0,e),"padding"!==c&&(g+=eb.css(a,"border"+Bb[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=ac(a),g=cb.boxSizing&&"border-box"===eb.css(a,"boxSizing",!1,f);
if(0>=e||null==e){if(e=bc(a,b,f),(0>e||null==e)&&(e=a.style[b]),dc.test(e))return e;d=g&&(cb.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){nc=void 0}),nc=eb.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Bb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(tc[b]||[]).concat(tc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Cb(a),p=eb._data(a,"fxshow");c.queue||(h=eb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,eb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=eb.css(a,"display"),k="none"===j?eb._data(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===eb.css(a,"float")&&(cb.inlineBlockNeedsLayout&&"inline"!==z(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",cb.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],pc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||eb.style(a,d)}else j=void 0;if(eb.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=eb._data(a,"fxshow",{}),f&&(p.hidden=!o),o?eb(a).show():l.done(function(){eb(a).hide()}),l.done(function(){var b;eb._removeData(a,"fxshow");for(b in m)eb.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=eb.camelCase(c),e=b[d],f=a[c],eb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=eb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=sc.length,h=eb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=nc||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:eb.extend({},b),opts:eb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:nc||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=eb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);g>f;f++)if(d=sc[f].call(j,a,k,j.opts))return d;return eb.map(k,J,j),eb.isFunction(j.opts.start)&&j.opts.start.call(a,j),eb.fx.timer(eb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(tb)||[];if(eb.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,eb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=eb.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&eb.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(eb.isArray(b))eb.each(b,function(b,e){c||Vc.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==eb.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return eb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},ab=_.toString,bb=_.hasOwnProperty,cb={},db="1.11.2",eb=function(a,b){return new eb.fn.init(a,b)},fb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gb=/^-ms-/,hb=/-([\da-z])/gi,ib=function(a,b){return b.toUpperCase()};eb.fn=eb.prototype={jquery:db,constructor:eb,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=eb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return eb.each(this,a,b)},map:function(a){return this.pushStack(eb.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},eb.extend=eb.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||eb.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(eb.isPlainObject(c)||(b=eb.isArray(c)))?(b?(b=!1,f=a&&eb.isArray(a)?a:[]):f=a&&eb.isPlainObject(a)?a:{},g[d]=eb.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},eb.extend({expando:"jQuery"+(db+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===eb.type(a)},isArray:Array.isArray||function(a){return"array"===eb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!eb.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==eb.type(a)||a.nodeType||eb.isWindow(a))return!1;try{if(a.constructor&&!bb.call(a,"constructor")&&!bb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(cb.ownLast)for(b in a)return bb.call(a,b);for(b in a);return void 0===b||bb.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[ab.call(a)]||"object":typeof a},globalEval:function(b){b&&eb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(gb,"ms-").replace(hb,ib)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(fb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?eb.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),eb.isFunction(a)?(c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||eb.guid++,d):void 0},now:function(){return+new Date},support:cb}),eb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var jb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sb.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ub,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=tb.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?ab(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return ab(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,ab=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},bb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cb="[\\x20\\t\\r\\n\\f]",db="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",eb=db.replace("w","w#"),fb="\\["+cb+"*("+db+")(?:"+cb+"*([*^$|!~]?=)"+cb+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+eb+"))|)"+cb+"*\\]",gb=":("+db+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fb+")*)|.*)\\)|)",hb=new RegExp(cb+"+","g"),ib=new RegExp("^"+cb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cb+"+$","g"),jb=new RegExp("^"+cb+"*,"+cb+"*"),kb=new RegExp("^"+cb+"*([>+~]|"+cb+")"+cb+"*"),lb=new RegExp("="+cb+"*([^\\]'\"]*?)"+cb+"*\\]","g"),mb=new RegExp(gb),nb=new RegExp("^"+eb+"$"),ob={ID:new RegExp("^#("+db+")"),CLASS:new RegExp("^\\.("+db+")"),TAG:new RegExp("^("+db.replace("w","w*")+")"),ATTR:new RegExp("^"+fb),PSEUDO:new RegExp("^"+gb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cb+"*(even|odd|(([+-]|)(\\d*)n|)"+cb+"*(?:([+-]|)"+cb+"*(\\d+)|))"+cb+"*\\)|)","i"),bool:new RegExp("^(?:"+bb+")$","i"),needsContext:new RegExp("^"+cb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cb+"*((?:-\\d)?\\d*)"+cb+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+cb+"?|("+cb+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xb=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(yb){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xb,!1):c.attachEvent&&c.attachEvent("onunload",xb)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=rb.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=rb.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+cb+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+cb+"*(?:value|"+bb+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+cb+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=rb.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",gb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?ab(D,a)-ab(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?ab(D,a)-ab(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[3]||a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&mb.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+cb+")"+a+"("+cb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(hb," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=ab(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(vb,wb),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in w.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(bb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);eb.find=jb,eb.expr=jb.selectors,eb.expr[":"]=eb.expr.pseudos,eb.unique=jb.uniqueSort,eb.text=jb.getText,eb.isXMLDoc=jb.isXML,eb.contains=jb.contains;var kb=eb.expr.match.needsContext,lb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mb=/^.[^:#\[\.,]*$/;eb.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?eb.find.matchesSelector(d,a)?[d]:[]:eb.find.matches(a,eb.grep(b,function(a){return 1===a.nodeType}))},eb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(eb(a).filter(function(){for(b=0;e>b;b++)if(eb.contains(d[b],this))return!0}));for(b=0;e>b;b++)eb.find(a,d[b],c);return c=this.pushStack(e>1?eb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&kb.test(a)?eb(a):a||[],!1).length}});var nb,ob=a.document,pb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qb=eb.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||nb).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof eb?b[0]:b,eb.merge(this,eb.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:ob,!0)),lb.test(c[1])&&eb.isPlainObject(b))for(c in b)eb.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=ob.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return nb.find(a);this.length=1,this[0]=d}return this.context=ob,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):eb.isFunction(a)?"undefined"!=typeof nb.ready?nb.ready(a):a(eb):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),eb.makeArray(a,this))};qb.prototype=eb.fn,nb=eb(ob);var rb=/^(?:parents|prev(?:Until|All))/,sb={children:!0,contents:!0,next:!0,prev:!0};eb.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!eb(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),eb.fn.extend({has:function(a){var b,c=eb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(eb.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=kb.test(a)||"string"!=typeof a?eb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&eb.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?eb.unique(f):f)},index:function(a){return a?"string"==typeof a?eb.inArray(this[0],eb(a)):eb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(eb.unique(eb.merge(this.get(),eb(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),eb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return eb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return eb.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return eb.dir(a,"nextSibling")},prevAll:function(a){return eb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return eb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return eb.dir(a,"previousSibling",c)},siblings:function(a){return eb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return eb.sibling(a.firstChild)},contents:function(a){return eb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:eb.merge([],a.childNodes)}},function(a,b){eb.fn[a]=function(c,d){var e=eb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=eb.filter(d,e)),this.length>1&&(sb[a]||(e=eb.unique(e)),rb.test(a)&&(e=e.reverse())),this.pushStack(e)}});var tb=/\S+/g,ub={};eb.Callbacks=function(a){a="string"==typeof a?ub[a]||f(a):eb.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){eb.each(b,function(b,c){var d=eb.type(c);
"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&eb.each(arguments,function(a,c){for(var d;(d=eb.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,g>=d&&g--)}),this},has:function(a){return a?eb.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},eb.extend({Deferred:function(a){var b=[["resolve","done",eb.Callbacks("once memory"),"resolved"],["reject","fail",eb.Callbacks("once memory"),"rejected"],["notify","progress",eb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return eb.Deferred(function(c){eb.each(b,function(b,f){var g=eb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&eb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?eb.extend(a,d):d}},e={};return d.pipe=d.then,eb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&eb.isFunction(a.promise)?g:0,i=1===h?a:eb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&eb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var vb;eb.fn.ready=function(a){return eb.ready.promise().done(a),this},eb.extend({isReady:!1,readyWait:1,holdReady:function(a){a?eb.readyWait++:eb.ready(!0)},ready:function(a){if(a===!0?!--eb.readyWait:!eb.isReady){if(!ob.body)return setTimeout(eb.ready);eb.isReady=!0,a!==!0&&--eb.readyWait>0||(vb.resolveWith(ob,[eb]),eb.fn.triggerHandler&&(eb(ob).triggerHandler("ready"),eb(ob).off("ready")))}}}),eb.ready.promise=function(b){if(!vb)if(vb=eb.Deferred(),"complete"===ob.readyState)setTimeout(eb.ready);else if(ob.addEventListener)ob.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{ob.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&ob.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!eb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g(),eb.ready()}}()}return vb.promise(b)};var wb,xb="undefined";for(wb in eb(cb))break;cb.ownLast="0"!==wb,cb.inlineBlockNeedsLayout=!1,eb(function(){var a,b,c,d;c=ob.getElementsByTagName("body")[0],c&&c.style&&(b=ob.createElement("div"),d=ob.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xb&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",cb.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=ob.createElement("div");if(null==cb.deleteExpando){cb.deleteExpando=!0;try{delete a.test}catch(b){cb.deleteExpando=!1}}a=null}(),eb.acceptData=function(a){var b=eb.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var yb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zb=/([A-Z])/g;eb.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?eb.cache[a[eb.expando]]:a[eb.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),eb.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=eb.data(f),1===f.nodeType&&!eb._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=eb.camelCase(d.slice(5)),i(f,d,e[d])));eb._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){eb.data(this,a)}):arguments.length>1?this.each(function(){eb.data(this,a,b)}):f?i(f,a,eb.data(f,a)):void 0},removeData:function(a){return this.each(function(){eb.removeData(this,a)})}}),eb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=eb._data(a,b),c&&(!d||eb.isArray(c)?d=eb._data(a,b,eb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=eb.queue(a,b),d=c.length,e=c.shift(),f=eb._queueHooks(a,b),g=function(){eb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return eb._data(a,c)||eb._data(a,c,{empty:eb.Callbacks("once memory").add(function(){eb._removeData(a,b+"queue"),eb._removeData(a,c)})})}}),eb.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?eb.queue(this[0],a):void 0===b?this:this.each(function(){var c=eb.queue(this,a,b);eb._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&eb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){eb.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=eb.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=eb._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ab=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bb=["Top","Right","Bottom","Left"],Cb=function(a,b){return a=b||a,"none"===eb.css(a,"display")||!eb.contains(a.ownerDocument,a)},Db=eb.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===eb.type(c)){e=!0;for(h in c)eb.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,eb.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(eb(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Eb=/^(?:checkbox|radio)$/i;!function(){var a=ob.createElement("input"),b=ob.createElement("div"),c=ob.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",cb.leadingWhitespace=3===b.firstChild.nodeType,cb.tbody=!b.getElementsByTagName("tbody").length,cb.htmlSerialize=!!b.getElementsByTagName("link").length,cb.html5Clone="<:nav></:nav>"!==ob.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),cb.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",cb.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",cb.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,cb.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){cb.noCloneEvent=!1}),b.cloneNode(!0).click()),null==cb.deleteExpando){cb.deleteExpando=!0;try{delete b.test}catch(d){cb.deleteExpando=!1}}}(),function(){var b,c,d=ob.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(cb[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),cb[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Fb=/^(?:input|select|textarea)$/i,Gb=/^key/,Hb=/^(?:mouse|pointer|contextmenu)|click/,Ib=/^(?:focusinfocus|focusoutblur)$/,Jb=/^([^.]*)(?:\.(.+)|)$/;eb.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=eb._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=eb.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof eb===xb||a&&eb.event.triggered===a.type?void 0:eb.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(tb)||[""],h=b.length;h--;)f=Jb.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=eb.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=eb.event.special[n]||{},l=eb.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&eb.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),eb.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=eb.hasData(a)&&eb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(tb)||[""],j=b.length;j--;)if(h=Jb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=eb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||eb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)eb.event.remove(a,n+b[j],c,d,!0);eb.isEmptyObject(k)&&(delete q.handle,eb._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||ob],n=bb.call(b,"type")?b.type:b,o=bb.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||ob,3!==d.nodeType&&8!==d.nodeType&&!Ib.test(n+eb.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[eb.expando]?b:new eb.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:eb.makeArray(c,[b]),j=eb.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!eb.isWindow(d)){for(i=j.delegateType||n,Ib.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||ob)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(eb._data(h,"events")||{})[b.type]&&eb._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&eb.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&eb.acceptData(d)&&g&&d[n]&&!eb.isWindow(d)){k=d[g],k&&(d[g]=null),eb.event.triggered=n;try{d[n]()}catch(p){}eb.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=eb.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(eb._data(this,"events")||{})[a.type]||[],j=eb.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=eb.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((eb.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?eb(c,this).index(i)>=0:eb.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[eb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Hb.test(e)?this.mouseHooks:Gb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new eb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||ob),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||ob,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===o()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return eb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return eb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=eb.extend(new eb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?eb.event.trigger(e,null,b):eb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},eb.removeEvent=ob.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===xb&&(a[d]=null),a.detachEvent(d,c))},eb.Event=function(a,b){return this instanceof eb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?m:n):this.type=a,b&&eb.extend(this,b),this.timeStamp=a&&a.timeStamp||eb.now(),void(this[eb.expando]=!0)):new eb.Event(a,b)},eb.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},eb.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){eb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!eb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),cb.submitBubbles||(eb.event.special.submit={setup:function(){return eb.nodeName(this,"form")?!1:void eb.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=eb.nodeName(b,"input")||eb.nodeName(b,"button")?b.form:void 0;c&&!eb._data(c,"submitBubbles")&&(eb.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),eb._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&eb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return eb.nodeName(this,"form")?!1:void eb.event.remove(this,"._submit")}}),cb.changeBubbles||(eb.event.special.change={setup:function(){return Fb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(eb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),eb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),eb.event.simulate("change",this,a,!0)})),!1):void eb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Fb.test(b.nodeName)&&!eb._data(b,"changeBubbles")&&(eb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||eb.event.simulate("change",this.parentNode,a,!0)}),eb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return eb.event.remove(this,"._change"),!Fb.test(this.nodeName)}}),cb.focusinBubbles||eb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){eb.event.simulate(b,a.target,eb.event.fix(a),!0)};eb.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=eb._data(d,b);e||d.addEventListener(a,c,!0),eb._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=eb._data(d,b)-1;e?eb._data(d,b,e):(d.removeEventListener(a,c,!0),eb._removeData(d,b))}}}),eb.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return eb().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=eb.guid++)),this.each(function(){eb.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,eb(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=n),this.each(function(){eb.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){eb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?eb.event.trigger(a,b,c,!0):void 0}});var Kb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Lb=/ jQuery\d+="(?:null|\d+)"/g,Mb=new RegExp("<(?:"+Kb+")[\\s/>]","i"),Nb=/^\s+/,Ob=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pb=/<([\w:]+)/,Qb=/<tbody/i,Rb=/<|&#?\w+;/,Sb=/<(?:script|style|link)/i,Tb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ub=/^$|\/(?:java|ecma)script/i,Vb=/^true\/(.*)/,Wb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:cb.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Yb=p(ob),Zb=Yb.appendChild(ob.createElement("div"));Xb.optgroup=Xb.option,Xb.tbody=Xb.tfoot=Xb.colgroup=Xb.caption=Xb.thead,Xb.th=Xb.td,eb.extend({clone:function(a,b,c){var d,e,f,g,h,i=eb.contains(a.ownerDocument,a);if(cb.html5Clone||eb.isXMLDoc(a)||!Mb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Zb.innerHTML=a.outerHTML,Zb.removeChild(f=Zb.firstChild)),!(cb.noCloneEvent&&cb.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||eb.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===eb.type(f))eb.merge(n,f.nodeType?[f]:f);else if(Rb.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Pb.exec(f)||["",""])[1].toLowerCase(),k=Xb[i]||Xb._default,h.innerHTML=k[1]+f.replace(Ob,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!cb.leadingWhitespace&&Nb.test(f)&&n.push(b.createTextNode(Nb.exec(f)[0])),!cb.tbody)for(f="table"!==i||Qb.test(f)?"<table>"!==k[1]||Qb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)eb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(eb.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),cb.appendChecked||eb.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===eb.inArray(f,d))&&(g=eb.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Ub.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=eb.expando,i=eb.cache,j=cb.deleteExpando,k=eb.event.special;null!=(c=a[g]);g++)if((b||eb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?eb.event.remove(c,d):eb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==xb?c.removeAttribute(h):c[h]=null,W.push(e))}}}),eb.fn.extend({text:function(a){return Db(this,function(a){return void 0===a?eb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ob).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?eb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||eb.cleanData(q(c)),c.parentNode&&(b&&eb.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&eb.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&eb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return eb.clone(this,a,b)})},html:function(a){return Db(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Lb,""):void 0;if(!("string"!=typeof a||Sb.test(a)||!cb.htmlSerialize&&Mb.test(a)||!cb.leadingWhitespace&&Nb.test(a)||Xb[(Pb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ob,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(eb.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,eb.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=eb.isFunction(m);if(n||j>1&&"string"==typeof m&&!cb.checkClone&&Tb.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=eb.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=eb.map(q(h,"script"),t),e=f.length;j>i;i++)d=h,i!==l&&(d=eb.clone(d,!0,!0),e&&eb.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,eb.map(f,u),i=0;e>i;i++)d=f[i],Ub.test(d.type||"")&&!eb._data(d,"globalEval")&&eb.contains(g,d)&&(d.src?eb._evalUrl&&eb._evalUrl(d.src):eb.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Wb,"")));h=c=null}return this}}),eb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){eb.fn[a]=function(a){for(var c,d=0,e=[],f=eb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),eb(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var $b,_b={};!function(){var a;cb.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=ob.getElementsByTagName("body")[0],c&&c.style?(b=ob.createElement("div"),d=ob.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xb&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(ob.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var ac,bc,cc=/^margin/,dc=new RegExp("^("+Ab+")(?!px)[a-z%]+$","i"),ec=/^(top|right|bottom|left)$/;a.getComputedStyle?(ac=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},bc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ac(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||eb.contains(a.ownerDocument,a)||(g=eb.style(a,b)),dc.test(g)&&cc.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):ob.documentElement.currentStyle&&(ac=function(a){return a.currentStyle},bc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ac(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),dc.test(g)&&!ec.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),!function(){function b(){var b,c,d,e;c=ob.getElementsByTagName("body")[0],c&&c.style&&(b=ob.createElement("div"),d=ob.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f=g=!1,i=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(b,null)||{}).top,g="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,e=b.appendChild(ob.createElement("div")),e.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",b.style.width="1px",i=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(e)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=b.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",h=0===e[0].offsetHeight,h&&(e[0].style.display="",e[1].style.display="none",h=0===e[0].offsetHeight),c.removeChild(d))}var c,d,e,f,g,h,i;c=ob.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=c.getElementsByTagName("a")[0],(d=e&&e.style)&&(d.cssText="float:left;opacity:.5",cb.opacity="0.5"===d.opacity,cb.cssFloat=!!d.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",cb.clearCloneStyle="content-box"===c.style.backgroundClip,cb.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing,eb.extend(cb,{reliableHiddenOffsets:function(){return null==h&&b(),h},boxSizingReliable:function(){return null==g&&b(),g},pixelPosition:function(){return null==f&&b(),f},reliableMarginRight:function(){return null==i&&b(),i}}))}(),eb.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var fc=/alpha\([^)]*\)/i,gc=/opacity\s*=\s*([^)]*)/,hc=/^(none|table(?!-c[ea]).+)/,ic=new RegExp("^("+Ab+")(.*)$","i"),jc=new RegExp("^([+-])=("+Ab+")","i"),kc={position:"absolute",visibility:"hidden",display:"block"},lc={letterSpacing:"0",fontWeight:"400"},mc=["Webkit","O","Moz","ms"];eb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":cb.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=eb.camelCase(b),i=a.style;if(b=eb.cssProps[h]||(eb.cssProps[h]=B(i,h)),g=eb.cssHooks[b]||eb.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=jc.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(eb.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||eb.cssNumber[h]||(c+="px"),cb.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=eb.camelCase(b);return b=eb.cssProps[h]||(eb.cssProps[h]=B(a.style,h)),g=eb.cssHooks[b]||eb.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=bc(a,b,d)),"normal"===f&&b in lc&&(f=lc[b]),""===c||c?(e=parseFloat(f),c===!0||eb.isNumeric(e)?e||0:f):f}}),eb.each(["height","width"],function(a,b){eb.cssHooks[b]={get:function(a,c,d){return c?hc.test(eb.css(a,"display"))&&0===a.offsetWidth?eb.swap(a,kc,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&ac(a);return D(a,c,d?E(a,b,d,cb.boxSizing&&"border-box"===eb.css(a,"boxSizing",!1,e),e):0)}}}),cb.opacity||(eb.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=eb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===eb.trim(f.replace(fc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=fc.test(f)?f.replace(fc,e):f+" "+e)}}),eb.cssHooks.marginRight=A(cb.reliableMarginRight,function(a,b){return b?eb.swap(a,{display:"inline-block"},bc,[a,"marginRight"]):void 0}),eb.each({margin:"",padding:"",border:"Width"},function(a,b){eb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Bb[d]+b]=f[d]||f[d-2]||f[0];return e}},cc.test(a)||(eb.cssHooks[a+b].set=D)}),eb.fn.extend({css:function(a,b){return Db(this,function(a,b,c){var d,e,f={},g=0;if(eb.isArray(b)){for(d=ac(a),e=b.length;e>g;g++)f[b[g]]=eb.css(a,b[g],!1,d);return f}return void 0!==c?eb.style(a,b,c):eb.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Cb(this)?eb(this).show():eb(this).hide()})}}),eb.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(eb.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.pos=b=this.options.duration?eb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this
}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=eb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){eb.fx.step[a.prop]?eb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[eb.cssProps[a.prop]]||eb.cssHooks[a.prop])?eb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},eb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},eb.fx=G.prototype.init,eb.fx.step={};var nc,oc,pc=/^(?:toggle|show|hide)$/,qc=new RegExp("^(?:([+-])=|)("+Ab+")([a-z%]*)$","i"),rc=/queueHooks$/,sc=[K],tc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=qc.exec(b),f=e&&e[3]||(eb.cssNumber[a]?"":"px"),g=(eb.cssNumber[a]||"px"!==f&&+d)&&qc.exec(eb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,eb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};eb.Animation=eb.extend(M,{tweener:function(a,b){eb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],tc[c]=tc[c]||[],tc[c].unshift(b)},prefilter:function(a,b){b?sc.unshift(a):sc.push(a)}}),eb.speed=function(a,b,c){var d=a&&"object"==typeof a?eb.extend({},a):{complete:c||!c&&b||eb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!eb.isFunction(b)&&b};return d.duration=eb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in eb.fx.speeds?eb.fx.speeds[d.duration]:eb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){eb.isFunction(d.old)&&d.old.call(this),d.queue&&eb.dequeue(this,d.queue)},d},eb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Cb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=eb.isEmptyObject(a),f=eb.speed(b,c,d),g=function(){var b=M(this,eb.extend({},a),f);(e||eb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=eb.timers,g=eb._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&rc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&eb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=eb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=eb.timers,g=d?d.length:0;for(c.finish=!0,eb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),eb.each(["toggle","show","hide"],function(a,b){var c=eb.fn[b];eb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),eb.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){eb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),eb.timers=[],eb.fx.tick=function(){var a,b=eb.timers,c=0;for(nc=eb.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||eb.fx.stop(),nc=void 0},eb.fx.timer=function(a){eb.timers.push(a),a()?eb.fx.start():eb.timers.pop()},eb.fx.interval=13,eb.fx.start=function(){oc||(oc=setInterval(eb.fx.tick,eb.fx.interval))},eb.fx.stop=function(){clearInterval(oc),oc=null},eb.fx.speeds={slow:600,fast:200,_default:400},eb.fn.delay=function(a,b){return a=eb.fx?eb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=ob.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=ob.createElement("select"),e=c.appendChild(ob.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",cb.getSetAttribute="t"!==b.className,cb.style=/top/.test(d.getAttribute("style")),cb.hrefNormalized="/a"===d.getAttribute("href"),cb.checkOn=!!a.value,cb.optSelected=e.selected,cb.enctype=!!ob.createElement("form").enctype,c.disabled=!0,cb.optDisabled=!e.disabled,a=ob.createElement("input"),a.setAttribute("value",""),cb.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),cb.radioValue="t"===a.value}();var uc=/\r/g;eb.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=eb.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,eb(this).val()):a,null==e?e="":"number"==typeof e?e+="":eb.isArray(e)&&(e=eb.map(e,function(a){return null==a?"":a+""})),b=eb.valHooks[this.type]||eb.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=eb.valHooks[e.type]||eb.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(uc,""):null==c?"":c)):void 0}}),eb.extend({valHooks:{option:{get:function(a){var b=eb.find.attr(a,"value");return null!=b?b:eb.trim(eb.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(cb.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&eb.nodeName(c.parentNode,"optgroup"))){if(b=eb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=eb.makeArray(b),g=e.length;g--;)if(d=e[g],eb.inArray(eb.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),eb.each(["radio","checkbox"],function(){eb.valHooks[this]={set:function(a,b){return eb.isArray(b)?a.checked=eb.inArray(eb(a).val(),b)>=0:void 0}},cb.checkOn||(eb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var vc,wc,xc=eb.expr.attrHandle,yc=/^(?:checked|selected)$/i,zc=cb.getSetAttribute,Ac=cb.input;eb.fn.extend({attr:function(a,b){return Db(this,eb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){eb.removeAttr(this,a)})}}),eb.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===xb?eb.prop(a,b,c):(1===f&&eb.isXMLDoc(a)||(b=b.toLowerCase(),d=eb.attrHooks[b]||(eb.expr.match.bool.test(b)?wc:vc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=eb.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void eb.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(tb);if(f&&1===a.nodeType)for(;c=f[e++];)d=eb.propFix[c]||c,eb.expr.match.bool.test(c)?Ac&&zc||!yc.test(c)?a[d]=!1:a[eb.camelCase("default-"+c)]=a[d]=!1:eb.attr(a,c,""),a.removeAttribute(zc?c:d)},attrHooks:{type:{set:function(a,b){if(!cb.radioValue&&"radio"===b&&eb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),wc={set:function(a,b,c){return b===!1?eb.removeAttr(a,c):Ac&&zc||!yc.test(c)?a.setAttribute(!zc&&eb.propFix[c]||c,c):a[eb.camelCase("default-"+c)]=a[c]=!0,c}},eb.each(eb.expr.match.bool.source.match(/\w+/g),function(a,b){var c=xc[b]||eb.find.attr;xc[b]=Ac&&zc||!yc.test(b)?function(a,b,d){var e,f;return d||(f=xc[b],xc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,xc[b]=f),e}:function(a,b,c){return c?void 0:a[eb.camelCase("default-"+b)]?b.toLowerCase():null}}),Ac&&zc||(eb.attrHooks.value={set:function(a,b,c){return eb.nodeName(a,"input")?void(a.defaultValue=b):vc&&vc.set(a,b,c)}}),zc||(vc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},xc.id=xc.name=xc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},eb.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:vc.set},eb.attrHooks.contenteditable={set:function(a,b,c){vc.set(a,""===b?!1:b,c)}},eb.each(["width","height"],function(a,b){eb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),cb.style||(eb.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Bc=/^(?:input|select|textarea|button|object)$/i,Cc=/^(?:a|area)$/i;eb.fn.extend({prop:function(a,b){return Db(this,eb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=eb.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),eb.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!eb.isXMLDoc(a),f&&(b=eb.propFix[b]||b,e=eb.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){var b=eb.find.attr(a,"tabindex");return b?parseInt(b,10):Bc.test(a.nodeName)||Cc.test(a.nodeName)&&a.href?0:-1}}}}),cb.hrefNormalized||eb.each(["href","src"],function(a,b){eb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),cb.optSelected||(eb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),eb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){eb.propFix[this.toLowerCase()]=this}),cb.enctype||(eb.propFix.enctype="encoding");var Dc=/[\t\r\n\f]/g;eb.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(eb.isFunction(a))return this.each(function(b){eb(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(tb)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Dc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=eb.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(eb.isFunction(a))return this.each(function(b){eb(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(tb)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Dc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?eb.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(eb.isFunction(a)?function(c){eb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=eb(this),f=a.match(tb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===xb||"boolean"===c)&&(this.className&&eb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":eb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Dc," ").indexOf(b)>=0)return!0;return!1}}),eb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){eb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),eb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ec=eb.now(),Fc=/\?/,Gc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;eb.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=eb.trim(b+"");return e&&!eb.trim(e.replace(Gc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():eb.error("Invalid JSON: "+b)},eb.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||eb.error("Invalid XML: "+b),c};var Hc,Ic,Jc=/#.*$/,Kc=/([?&])_=[^&]*/,Lc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nc=/^(?:GET|HEAD)$/,Oc=/^\/\//,Pc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qc={},Rc={},Sc="*/".concat("*");try{Ic=location.href}catch(Tc){Ic=ob.createElement("a"),Ic.href="",Ic=Ic.href}Hc=Pc.exec(Ic.toLowerCase())||[],eb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ic,type:"GET",isLocal:Mc.test(Hc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":eb.parseJSON,"text xml":eb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,eb.ajaxSettings),b):P(eb.ajaxSettings,a)},ajaxPrefilter:N(Qc),ajaxTransport:N(Rc),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(eb.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(eb.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--eb.active||eb.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=eb.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?eb(m):eb.event,o=eb.Deferred(),p=eb.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Lc.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Ic)+"").replace(Jc,"").replace(Oc,Hc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=eb.trim(l.dataType||"*").toLowerCase().match(tb)||[""],null==l.crossDomain&&(d=Pc.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Hc[1]&&d[2]===Hc[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Hc[3]||("http:"===Hc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=eb.param(l.data,l.traditional)),O(Qc,l,b,v),2===t)return v;i=eb.event&&l.global,i&&0===eb.active++&&eb.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Nc.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fc.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Kc.test(f)?f.replace(Kc,"$1_="+Ec++):f+(Fc.test(f)?"&":"?")+"_="+Ec++)),l.ifModified&&(eb.lastModified[f]&&v.setRequestHeader("If-Modified-Since",eb.lastModified[f]),eb.etag[f]&&v.setRequestHeader("If-None-Match",eb.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Sc+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Rc,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return eb.get(a,b,c,"json")},getScript:function(a,b){return eb.get(a,void 0,b,"script")}}),eb.each(["get","post"],function(a,b){eb[b]=function(a,c,d,e){return eb.isFunction(c)&&(e=e||d,d=c,c=void 0),eb.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),eb._evalUrl=function(a){return eb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},eb.fn.extend({wrapAll:function(a){if(eb.isFunction(a))return this.each(function(b){eb(this).wrapAll(a.call(this,b))});if(this[0]){var b=eb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(eb.isFunction(a)?function(b){eb(this).wrapInner(a.call(this,b))}:function(){var b=eb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=eb.isFunction(a);return this.each(function(c){eb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){eb.nodeName(this,"body")||eb(this).replaceWith(this.childNodes)}).end()}}),eb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!cb.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||eb.css(a,"display"))},eb.expr.filters.visible=function(a){return!eb.expr.filters.hidden(a)};var Uc=/%20/g,Vc=/\[\]$/,Wc=/\r?\n/g,Xc=/^(?:submit|button|image|reset|file)$/i,Yc=/^(?:input|select|textarea|keygen)/i;eb.param=function(a,b){var c,d=[],e=function(a,b){b=eb.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=eb.ajaxSettings&&eb.ajaxSettings.traditional),eb.isArray(a)||a.jquery&&!eb.isPlainObject(a))eb.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Uc,"+")},eb.fn.extend({serialize:function(){return eb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=eb.prop(this,"elements");return a?eb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!eb(this).is(":disabled")&&Yc.test(this.nodeName)&&!Xc.test(a)&&(this.checked||!Eb.test(a))}).map(function(a,b){var c=eb(this).val();return null==c?null:eb.isArray(c)?eb.map(c,function(a){return{name:b.name,value:a.replace(Wc,"\r\n")}}):{name:b.name,value:c.replace(Wc,"\r\n")}}).get()}}),eb.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var Zc=0,$c={},_c=eb.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in $c)$c[a](void 0,!0)}),cb.cors=!!_c&&"withCredentials"in _c,_c=cb.ajax=!!_c,_c&&eb.ajaxTransport(function(a){if(!a.crossDomain||cb.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Zc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete $c[g],b=void 0,f.onreadystatechange=eb.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=$c[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),eb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return eb.globalEval(a),a}}}),eb.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),eb.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=ob.head||eb("head")[0]||ob.documentElement;return{send:function(d,e){b=ob.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;eb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||eb.expando+"_"+Ec++;return this[a]=!0,a}}),eb.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=eb.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(Fc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||eb.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&eb.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),eb.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||ob;var d=lb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=eb.buildFragment([a],b,e),e&&e.length&&eb(e).remove(),eb.merge([],d.childNodes))};var cd=eb.fn.load;eb.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=eb.trim(a.slice(h,a.length)),a=a.slice(0,h)),eb.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&eb.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?eb("<div>").append(eb.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},eb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){eb.fn[b]=function(a){return this.on(b,a)}}),eb.expr.filters.animated=function(a){return eb.grep(eb.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;eb.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=eb.css(a,"position"),l=eb(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=eb.css(a,"top"),i=eb.css(a,"left"),j=("absolute"===k||"fixed"===k)&&eb.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),eb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},eb.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){eb.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;return f?(b=f.documentElement,eb.contains(b,e)?(typeof e.getBoundingClientRect!==xb&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d):void 0},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===eb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),eb.nodeName(a[0],"html")||(c=a.offset()),c.top+=eb.css(a[0],"borderTopWidth",!0),c.left+=eb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-eb.css(d,"marginTop",!0),left:b.left-c.left-eb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dd;a&&!eb.nodeName(a,"html")&&"static"===eb.css(a,"position");)a=a.offsetParent;return a||dd})}}),eb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);eb.fn[a]=function(d){return Db(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?eb(f).scrollLeft():e,c?e:eb(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),eb.each(["top","left"],function(a,b){eb.cssHooks[b]=A(cb.pixelPosition,function(a,c){return c?(c=bc(a,b),dc.test(c)?eb(a).position()[b]+"px":c):void 0})}),eb.each({Height:"height",Width:"width"},function(a,b){eb.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){eb.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Db(this,function(b,c,d){var e;return eb.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?eb.css(b,c,g):eb.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),eb.fn.size=function(){return this.length},eb.fn.andSelf=eb.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return eb});var ed=a.jQuery,fd=a.$;return eb.noConflict=function(b){return a.$===eb&&(a.$=fd),b&&a.jQuery===eb&&(a.jQuery=ed),eb},typeof b===xb&&(a.jQuery=a.$=eb),eb}),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);
return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&h(c+d)<n&&(i.horizontal="center"),m>p&&h(e+f)<p&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){var b=0,c={},d={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),b.active<0&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void("disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var c,d=this.options,e=d.heightStyle,f=this.element.parent(),g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(b){var c=a(this),d=c.attr("id"),e=c.next(),f=e.attr("id");d||(d=g+"-header-"+b,c.attr("id",d)),f||(f=g+"-panel-"+b,e.attr("id",f)),c.attr("aria-controls",f),e.attr("aria-labelledby",d)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(d.event),"fill"===e?(c=f.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===e&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).css("height","").height())}).height(c))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault(),f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1||(c.active=g?!1:this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-hidden":"true"}),d.prev().attr("aria-selected","false"),c.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),c.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,b,e){var f,g,h,i=this,j=0,k=a.length&&(!b.length||a.index()<b.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(e)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,b.length?a.length?(f=a.show().outerHeight(),b.animate(c,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(d,{duration:h,easing:g,complete:n,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?j+=c.now:"content"!==i.options.heightStyle&&(c.now=Math.round(f-b.outerHeight()-j),j=0)}})):b.animate(c,h,g,n):a.animate(d,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}})}(jQuery),function(a){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a){var b,c="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",e=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},f=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,e),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var d=this,g=this.options,h="checkbox"===this.type||"radio"===this.type,i=h?"":"ui-state-active";null===g.label&&(g.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){g.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){g.disabled||a(this).removeClass(i)}).bind("click"+this.eventNamespace,function(a){g.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){d.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return g.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(g.disabled)return!1;a(this).addClass("ui-state-active"),d.buttonElement.attr("aria-pressed","true");var b=d.element[0];f(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return g.disabled?!1:(a(this).addClass("ui-state-active"),b=this,void d.document.one("mouseup",function(){b=null
}))}).bind("mouseup"+this.eventNamespace,function(){return g.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return g.disabled?!1:void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",g.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.element.prop("disabled",!!b),void(b&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?f(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(d),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),e=this.options.icons,f=e.primary&&e.secondary,g=[];e.primary||e.secondary?(this.options.text&&g.push("ui-button-text-icon"+(f?"s":e.primary?"-primary":"-secondary")),e.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+e.primary+"'></span>"),e.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+e.secondary+"'></span>"),this.options.text||(g.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):g.push("ui-button-text-only"),b.addClass(g.join(" "))}}),a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),void(k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);return a.datepicker._get(e,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!c||c.indexOf(d)>-1):void 0},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=c.substring(i).match(e);if(!f)throw"Missing number at position "+i;return i+=f[0].length,parseInt(f[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];return c.substr(i,d.length).toLowerCase()===d.toLowerCase()?(f=b[0],i+=d.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===p?p=(new Date).getFullYear():100>p&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(k>=p?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),f>=r)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,ab=a.drawYear;if(0>_&&(_+=12,ab--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(ab,_,1))>b;)_--,0>_&&(_=11,ab--);for(a.drawMonth=_,a.drawYear=ab,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(ab,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,ab,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(ab,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,ab,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(ab,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");
break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,ab,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(ab,_),ab===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(ab,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(ab,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,ab++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.4"}(jQuery),function(a){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},c={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&this._trigger("beforeClose",b)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{c=this.document[0].activeElement,c&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return c&&!b&&this._trigger("focus",a),c},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(e.focus(1),b.preventDefault()):(d.focus(1),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){d.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){d.height=a(this).height(),d.width=a(this).width(),a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(d){var e=this,f=!1,g={};a.each(d,function(a,d){e._setOption(a,d),a in b&&(f=!0),a in c&&(g[a]=d)}),f&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(d){b._allowInteraction(d)||(d.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),a.ui.dialog.overlayInstances=0,a.uiBackCompat!==!1&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b,c=this.options.position,d=[],e=[0,0];c?(("string"==typeof c||"object"==typeof c&&"0"in c)&&(d=c.split?c.split(" "):[c[0],c[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),c={my:d[0]+(e[0]<0?e[0]:"+"+e[0])+" "+d[1]+(e[1]<0?e[1]:"+"+e[1]),at:d.join(" ")}),c=a.extend({},a.ui.dialog.prototype.options.position,c)):c=a.ui.dialog.prototype.options.position,b=this.uiDialog.is(":visible"),b||this.uiDialog.show(),this.uiDialog.position(c),b||this.uiDialog.hide()}})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())
},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>t||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=Math.abs(j-t)<=p,e=Math.abs(k-s)<=p,f=Math.abs(h-r)<=p,g=Math.abs(i-q)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=Math.abs(j-s)<=p,e=Math.abs(k-t)<=p,f=Math.abs(h-q)<=p,g=Math.abs(i-r)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];b<c.length;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=(a.positionAbs||a.position.absolute).top,i=g+a.helperProportions.width,j=h+a.helperProportions.height,k=c.offset.left,l=c.offset.top,m=k+c.proportions().width,n=l+c.proportions().height;switch(d){case"fit":return g>=k&&m>=i&&h>=l&&n>=j;case"intersect":return k<g+a.helperProportions.width/2&&i-a.helperProportions.width/2<m&&l<h+a.helperProportions.height/2&&j-a.helperProportions.height/2<n;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,b(f,l,c.proportions().height)&&b(e,k,c.proportions().width);case"touch":return(h>=l&&n>=h||j>=l&&n>=j||l>h&&j>n)&&(g>=k&&m>=g||i>=k&&m>=i||k>g&&i>m);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){var c="ui-effects-";a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var b=a(this);return{el:b,start:c(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(d,e,f,g,h){return"boolean"==typeof e||e===b?f?a.effects.animateClass.call(this,e?{add:d}:{remove:d},f,g,h):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},e,f,g)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function d(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function e(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.10.4",save:function(a,b){for(var d=0;d<b.length;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(a,d){var e,f;for(f=0;f<d.length;f++)null!==d[f]&&(e=a.data(c+d[f]),e===b&&(e=""),a.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function d(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=c.complete,h=c.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),d()):g.call(e[0],c,d)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=a.effects.effect[c.effect];return a.fx.off||!g?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(a.fn.show),hide:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(a.fn.hide),toggle:function(a){return function(b){if(e(b)||"boolean"==typeof b)return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),function(a){var b=/up|down|vertical/,c=/up|left|vertical|horizontal/;a.effects.effect.blind=function(d,e){var f,g,h,i=a(this),j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(i,d.mode||"hide"),l=d.direction||"up",m=b.test(l),n=m?"height":"width",o=m?"top":"left",p=c.test(l),q={},r="show"===k;i.parent().is(".ui-effects-wrapper")?a.effects.save(i.parent(),j):a.effects.save(i,j),i.show(),f=a.effects.createWrapper(i).css({overflow:"hidden"}),g=f[n](),h=parseFloat(f.css(o))||0,q[n]=r?g:0,p||(i.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?h:g+h),r&&(f.css(n,0),p||f.css(o,h+g)),f.animate(q,{duration:d.duration,easing:d.easing,queue:!1,complete:function(){"hide"===k&&i.hide(),a.effects.restore(i,j),a.effects.removeWrapper(i),e()}})}}(jQuery),function(a){a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;n>d;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()}}(jQuery),function(a){a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}}(jQuery),function(a){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a){a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})}}(jQuery),function(a){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a){a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for((g||!e.is(":visible"))&&(e.css("opacity",0).show(),l=1),d=1;j>d;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0,outerHeight:0,outerWidth:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},("box"===p||"both"===p)&&(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),("content"===p||"both"===p)&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x,outerHeight:d.outerHeight*f.from.y,outerWidth:d.outerWidth*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x,outerHeight:d.height*f.to.y,outerWidth:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)
})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;j>d;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),function(a){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return a===b&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}})}(jQuery),function(a){function b(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;c<b.length;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(c){var d,e,f,g=this.options,h=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),d=b(this.helper.css("left")),e=b(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,e+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===f?this.axis+"-resize":f),i.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(b){var c,d=this.helper,e={},f=this.originalMousePosition,g=this.axis,h=this.position.top,i=this.position.left,j=this.size.width,k=this.size.height,l=b.pageX-f.left||0,m=b.pageY-f.top||0,n=this._change[g];return n?(c=n.apply(this,[b,l,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==h&&(e.top=this.position.top+"px"),this.position.left!==i&&(e.left=this.position.left+"px"),this.size.width!==j&&(e.width=this.size.width+"px"),this.size.height!==k&&(e.height=this.size.height+"px"),d.css(e),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),d<g.maxWidth&&(g.maxWidth=d),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(d),l=/nw|ne|n/.test(d);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&l&&(a.top=j-b.minHeight),f&&l&&(a.top=j-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],d=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;b<c.length;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c,d,e,f,g,h,i,j=a(this).data("ui-resizable"),k=j.options,l=j.element,m=k.containment,n=m instanceof a?m.get(0):/parent/.test(m)?l.parent().get(0):m;n&&(j.containerElement=a(n),/document/.test(m)||m===document?(j.containerOffset={left:0,top:0},j.containerPosition={left:0,top:0},j.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(n),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=b(c.css("padding"+e))}),j.containerOffset=c.offset(),j.containerPosition=c.position(),j.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]},e=j.containerOffset,f=j.containerSize.height,g=j.containerSize.width,h=a.ui.hasScroll(n,"left")?n.scrollWidth:g,i=a.ui.hasScroll(n)?n.scrollHeight:f,j.parentData={element:n,left:e.left,top:e.top,width:h,height:i}))},resize:function(b){var c,d,e,f,g=a(this).data("ui-resizable"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?i.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,c=Math.abs((g._helper?g.offset.left-l.left:g.offset.left-l.left)+g.sizeDiff.width),d=Math.abs((g._helper?g.offset.top-l.top:g.offset.top-i.top)+g.sizeDiff.height),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f&&(c-=Math.abs(g.parentData.left)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("ui-resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&c.maxWidth<m,p=c.maxHeight&&c.maxHeight<n,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):(n-j>0?(b.size.height=n,b.position.top=f.top-l):(b.size.height=j,b.position.top=f.top+e.height-j),m-i>0?(b.size.width=m,b.position.left=f.left-k):(b.size.width=i,b.position.left=f.left+e.width-i))}})}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass("ui-selectee"),b.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()
},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");return e?(d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1;c&&c.element!==d.element[0]&&("touch"===e.tolerance?j=!(c.left>h||c.right<f||c.top>i||c.bottom<g):"fit"===e.tolerance&&(j=c.left>f&&c.right<h&&c.top>g&&c.bottom<i),j?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(c){var d,e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||c(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d&&(!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e))?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1):!1},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",d,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||c(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!n||b(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),Math.abs(l-k)<g&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(d,h,null,!0):this._rearrange(d,null,this.containers[p].element,!0),this._trigger("change",d,this._uiHash()),this.containers[p]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);
return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void b(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){function c(){return++e}function d(a){return a=a.cloneNode(!1),a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d===this.options.active?!1:d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(jQuery),function(a){function b(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function c(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),void(this.options[b]=c)):(this._super(b,c),void("content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b)})))},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("ui-tooltip-open")&&e._delay(function(){b&&(b.type=f),this._open(b,a,c)})}),void(c&&this._open(b,a,c)))},_open:function(c,d,e){function f(a){j.of=a,g.is(":hidden")||g.position(j)}var g,h,i,j=a.extend({},this.options.position);if(e){if(g=this._find(d),g.length)return void g.find(".ui-tooltip-content").html(e);d.is("[title]")&&(c&&"mouseover"===c.type?d.attr("title",""):d.removeAttr("title")),g=this._tooltip(d),b(d,g.attr("id")),g.find(".ui-tooltip-content").html(e),this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:f}),f(c)):g.position(a.extend({of:d},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(i=this.delayedShow=setInterval(function(){g.is(":visible")&&(f(j.of),clearInterval(i))},a.fx.interval)),this._trigger("open",c,{tooltip:g}),h={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var c=a.Event(b);c.currentTarget=d[0],this.close(c,!0)}},remove:function(){this._removeTooltip(g)}},c&&"mouseover"!==c.type||(h.mouseleave="close"),c&&"focusin"!==c.type||(h.focusout="close"),this._on(!0,d,h)}},close:function(b){var d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);this.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),f.stop(!0),this._hide(f,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:f}),this.closing=!1)},_tooltip:function(b){var c="ui-tooltip-"+d++,e=a("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[c]=b,e},_find:function(b){var c=b.data("ui-tooltip-id");return c?a("#"+c):a()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0),a("#"+c).remove(),d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(arguments.length>1&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){var b={init:function(b){var c={color:a(this).css("background-color"),reach:20,speed:1e3,pause:0,glow:!0,repeat:!0,onHover:!1,border:!0};return 0==c.border&&(c.color=rgba(0,0,0,0)),a(this).css({"-moz-outline-radius":a(this).css("border-top-left-radius"),"-webkit-outline-radius":a(this).css("border-top-left-radius"),"outline-radius":a(this).css("border-top-left-radius")}),b&&a.extend(c,b),c.color=a("<div style='background:"+c.color+"'></div>").css("background-color"),c.repeat!==!0&&!isNaN(c.repeat)&&c.repeat>0&&(c.repeat-=1),this.each(function(){c.onHover?a(this).bind("mouseover",function(){d(c,this,0)}).bind("mouseout",function(){a(this).pulsate("destroy")}):d(c,this,0)})},destroy:function(){return this.each(function(){clearTimeout(this.timer),a(this).css("outline",0)})}},c=function(){var a=this.toLowerCase(),b=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(a&&b.test(a)){if(4===a.length){for(var c="#",d=1;4>d;d+=1)c+=a.slice(d,d+1).concat(a.slice(d,d+1));a=c}for(var e=[],d=1;7>d;d+=2)e.push(parseInt("0x"+a.slice(d,d+2)));return"RGB("+e.join(",")+")"}return a},d=function(b,f,g){b.color&&b.color.indexOf("#")>-1&&(b.color=c.call(b.color));var h=b.reach,g=g>h?0:g,i=(h-g)/h,j=b.color.split(","),k="rgba("+j[0].split("(")[1]+","+j[1]+","+j[2].split(")")[0]+","+i+")",l={outline:"2px solid "+k};0==b.border&&(l.outline="2px solid rgba(0, 0, 0, 0)"),b.glow?(l["box-shadow"]="0px 0px "+parseInt(g/1.5)+"px "+k,0==b.border&&(l["box-shadow"]="0px 0px "+parseInt(2*g)+"px "+k),userAgent=(navigator||{}).userAgent||"",/(chrome)[ \/]([\w.]+)/.test(userAgent.toLowerCase())&&(l["outline-offset"]=g+"px",l["outline-radius"]="100 px")):l["outline-offset"]=g+"px",a(f).css(l);var m=function(){if(g>=h&&!b.repeat)return a(f).pulsate("destroy"),!1;if(g>=h&&b.repeat!==!0&&!isNaN(b.repeat)&&b.repeat>0)b.repeat=b.repeat-1;else if(b.pause&&g>=h)return e(b,f,g+1),!1;d(b,f,g+1)};f.timer&&clearTimeout(f.timer),f.timer=setTimeout(m,b.speed/h)},e=function(a,b,c){innerfunc=function(){d(a,b,c)},b.timer=setTimeout(innerfunc,a.pause)};a.fn.pulsate=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.pulsate"):b.init.apply(this,arguments)}}(jQuery),function(a){a.fn.extend({slimScroll:function(b){var c=a.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},b);return this.each(function(){function d(b){if(j){b=b||window.event;var d=0;b.wheelDelta&&(d=-b.wheelDelta/120),b.detail&&(d=b.detail/3),a(b.target||b.srcTarget||b.srcElement).closest("."+c.wrapperClass).is(s.parent())&&e(d,!0),b.preventDefault&&!r&&b.preventDefault(),r||(b.returnValue=!1)}}function e(a,b,d){r=!1;var e=a,f=s.outerHeight()-v.outerHeight();b&&(e=parseInt(v.css("top"))+a*parseInt(c.wheelStep)/100*v.outerHeight(),e=Math.min(Math.max(e,0),f),e=a>0?Math.ceil(e):Math.floor(e),v.css({top:e+"px"})),p=parseInt(v.css("top"))/(s.outerHeight()-v.outerHeight()),e=p*(s[0].scrollHeight-s.outerHeight()),d&&(e=a,a=e/s[0].scrollHeight*s.outerHeight(),a=Math.min(Math.max(a,0),f),v.css({top:a+"px"})),s.scrollTop(e),s.trigger("slimscrolling",~~e),h(),i()
}function f(){"Microsoft Internet Explorer"==navigator.appName&&"8."==navigator.appVersion.match(/8./i)&&window.addEventListener?document.attachEvent("onmousewheel",d):(this.addEventListener("DOMMouseScroll",d,!1),this.addEventListener("mousewheel",d,!1))}function g(){o=Math.max(s.outerHeight()/s[0].scrollHeight*s.outerHeight(),30),v.css({height:o+"px"});var a=o==s.outerHeight()?"none":"block";v.css({display:a})}function h(){g(),clearTimeout(m),p==~~p?(r=c.allowPageScroll,q!=p&&s.trigger("slimscroll",0==~~p?"top":"bottom")):r=!1,q=p,o>=s.outerHeight()?r=!0:(v.stop(!0,!0).fadeIn("fast"),c.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function i(){c.alwaysVisible||(m=setTimeout(function(){c.disableFadeOut&&j||k||l||(v.fadeOut("slow"),w.fadeOut("slow"))},1e3))}var j,k,l,m,n,o,p,q,r=!1,s=a(this);if(s.parent().hasClass(c.wrapperClass)){var u=s.scrollTop(),v=s.parent().find("."+c.barClass),w=s.parent().find("."+c.railClass);if(g(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){s.parent().css("height","auto"),s.css("height","auto");var x=s.parent().parent().height();s.parent().css("height",x),s.css("height",x)}if("scrollTo"in b)u=parseInt(c.scrollTo);else if("scrollBy"in b)u+=parseInt(c.scrollBy);else if("destroy"in b)return v.remove(),w.remove(),void s.unwrap();e(u,!1,!0)}}else if(!(a.isPlainObject(b)&&"destroy"in b)){c.height="auto"==c.height?s.parent().height():c.height,u=a("<div></div>").addClass(c.wrapperClass).css({position:"relative",overflow:"hidden",width:c.width,height:c.height}),s.css({overflow:"hidden",width:c.width,height:c.height});var w=a("<div></div>").addClass(c.railClass).css({width:c.size,height:"100%",position:"absolute",top:0,display:c.alwaysVisible&&c.railVisible?"block":"none","border-radius":c.railBorderRadius,background:c.railColor,opacity:c.railOpacity,zIndex:90}),v=a("<div></div>").addClass(c.barClass).css({background:c.color,width:c.size,position:"absolute",top:0,opacity:c.opacity,display:c.alwaysVisible?"block":"none","border-radius":c.borderRadius,BorderRadius:c.borderRadius,MozBorderRadius:c.borderRadius,WebkitBorderRadius:c.borderRadius,zIndex:99}),x="right"==c.position?{right:c.distance}:{left:c.distance};w.css(x),v.css(x),s.wrap(u),s.parent().append(v),s.parent().append(w),c.railDraggable&&v.bind("mousedown",function(b){var c=a(document);return l=!0,t=parseFloat(v.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,v.css("top",currTop),e(0,v.position().top,!1)}),c.bind("mouseup.slimscroll",function(){l=!1,i(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),w.hover(function(){h()},function(){i()}),v.hover(function(){k=!0},function(){k=!1}),s.hover(function(){j=!0,h(),i()},function(){j=!1,i()}),s.bind("touchstart",function(a){a.originalEvent.touches.length&&(n=a.originalEvent.touches[0].pageY)}),s.bind("touchmove",function(a){r||a.originalEvent.preventDefault(),a.originalEvent.touches.length&&(e((n-a.originalEvent.touches[0].pageY)/c.touchScrollStep,!0),n=a.originalEvent.touches[0].pageY)}),g(),"bottom"===c.start?(v.css({top:s.outerHeight()-v.outerHeight()}),e(0,!0)):"top"!==c.start&&(e(a(c.start).position().top,null,!0),c.alwaysVisible||v.hide()),f()}}),this}}),a.fn.extend({slimscroll:a.fn.slimScroll})}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.2",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.2",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.2",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.2",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.2",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";
function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.2",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.2",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a,b,c){"use strict";function d(b,c){this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.$element=a(b),this.init()}var e="menuButton",f={propertyName:"value"};d.prototype={constructor:d,init:function(){this.toggle()},toggle:function(){"show"===this.$element.data("dropdown")?this.hideMenu():this.showMenu()},showMenu:function(){this.$element.data("dropdown","show"),this.$element.find("ul").show(),this.$element.find(".button:first").addClass("is-active")},hideMenu:function(){this.$element.data("dropdown","hide"),this.$element.find("ul").hide(),this.$element.find(".button:first").removeClass("is-active")}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)?a.data(this,"plugin_"+e).toggle():a.data(this,"plugin_"+e,new d(this,b))})},a(c).on("click",function(b){a.each(a("[data-buttons=dropdown]"),function(){a(b.target.offsetParent)[0]!=a(this)[0]&&a.data(this,"plugin_"+e)&&(a.data(this,"plugin_"+e).hideMenu(),a(this).find("ul").hide())})}),a(c).on("click","[data-buttons=dropdown]",function(b){var c=a(b.currentTarget);c.menuButton()}),a(c).on("click","[data-buttons=dropdown] > a",function(a){a.preventDefault()})}(jQuery,window,document),function(){"use strict";if(!window.addEventListener){var a=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){this.onreadystatechange||(this.onreadystatechange=function(){4===this.readyState&&this.onload&&this.onload()}),a.apply(this,arguments)},Object.create=function(){var a=function(){};return function(b){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=typeof b)throw TypeError("Argument must be an object");a.prototype=b;var c=new a;return a.prototype=null,c}}(),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="".__proto__===String.prototype?function(a){return a.__proto__}:function(a){return a.constructor.prototype}),!window.addEventListener&&function(a,b,c,d,e,f,g){a[d]=b[d]=c[d]=function(a,b){var c=this;if(g.unshift([c,a,b,function(a){a.currentTarget=c,a.preventDefault=function(){a.returnValue=!1},a.stopPropagation=function(){a.cancelBubble=!0},a.target=a.srcElement||c,b.call(c,a)}]),"load"===a&&this.tagName&&"SCRIPT"===this.tagName){var d=g[0][3];this.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||d.call(this,{type:"load"})}}else this.attachEvent("on"+a,g[0][3])},a[e]=b[e]=c[e]=function(a,b){for(var c,d=0;c=g[d];++d)if(c[0]==this&&c[1]==a&&c[2]==b)return"load"===a&&this.tagName&&"SCRIPT"===this.tagName&&(this.onreadystatechange=null),this.detachEvent("on"+a,g.splice(d,1)[0][3])},a[f]=b[f]=c[f]=function(a){return this.fireEvent("on"+a.type,a)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}}(),function(a,b,c){function d(a){return function(){var b,c=arguments[0];for(b="["+(a?a+":":"")+c+"] http://errors.angularjs.org/1.3.10-local+sha.9cce263/"+(a?a+"/":"")+c,c=1;c<arguments.length;c++){b=b+(1==c?"?":"&")+"p"+(c-1)+"=";var d,e=encodeURIComponent;d=arguments[c],d="function"==typeof d?d.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof d?"undefined":"string"!=typeof d?JSON.stringify(d):d,b+=e(d)}return Error(b)}}function e(a){if(null==a||x(a))return!1;var b=a.length;return a.nodeType===Od&&b?!0:s(a)||Hd(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d,g;if(a)if(v(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(Hd(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++Fd}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a){for(var b=a.$$hashKey,c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;h>g;g++){var i=f[g];a[i]=e[i]}}return j(a,b),a}function l(a){return parseInt(a,10)}function m(){}function n(a){return a}function o(a){return function(){return a}}function p(a){return"undefined"==typeof a}function q(a){return"undefined"!=typeof a}function r(a){return null!==a&&"object"==typeof a}function s(a){return"string"==typeof a}function t(a){return"number"==typeof a}function u(a){return"[object Date]"===Cd.call(a)}function v(a){return"function"==typeof a}function w(a){return"[object RegExp]"===Cd.call(a)}function x(a){return a&&a.window===a}function y(a){return a&&a.$evalAsync&&a.$watch}function z(a){return"boolean"==typeof a}function A(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function B(a){var b={};a=a.split(",");var c;for(c=0;c<a.length;c++)b[a[c]]=!0;return b}function C(a){return wd(a.nodeName||a[0]&&a[0].nodeName)}function D(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),b}function E(a,b,c,d){if(x(a)||y(a))throw Dd("cpws");if(b){if(a===b)throw Dd("cpi");if(c=c||[],d=d||[],r(a)){var e=c.indexOf(a);if(-1!==e)return d[e];c.push(a),d.push(b)}if(Hd(a))for(var g=b.length=0;g<a.length;g++)e=E(a[g],null,c,d),r(a[g])&&(c.push(a[g]),d.push(e)),b.push(e);else{var h=b.$$hashKey;Hd(b)?b.length=0:f(b,function(a,c){delete b[c]});for(g in a)a.hasOwnProperty(g)&&(e=E(a[g],null,c,d),r(a[g])&&(c.push(a[g]),d.push(e)),b[g]=e);j(b,h)}}else(b=a)&&(Hd(a)?b=E(a,[],c,d):u(a)?b=new Date(a.getTime()):w(a)?(b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex):r(a)&&(e=Object.create(Object.getPrototypeOf(a)),b=E(a,e,c,d)));return b}function F(a,b){if(Hd(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(r(a))for(c in b=b||{},a)("$"!==c.charAt(0)||"$"!==c.charAt(1))&&(b[c]=a[c]);return b||a}function G(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e=typeof a;if(e==typeof b&&"object"==e){if(!Hd(a)){if(u(a))return u(b)?G(a.getTime(),b.getTime()):!1;if(w(a)&&w(b))return a.toString()==b.toString();if(y(a)||y(b)||x(a)||x(b)||Hd(b))return!1;e={};for(d in a)if("$"!==d.charAt(0)&&!v(a[d])){if(!G(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!e.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b[d]!==c&&!v(b[d]))return!1;return!0}if(!Hd(b))return!1;if((e=a.length)==b.length){for(d=0;e>d;d++)if(!G(a[d],b[d]))return!1;return!0}}return!1}function H(a,b,c){return a.concat(zd.call(b,c))}function I(a,b){var c=2<arguments.length?zd.call(arguments,2):[];return!v(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,H(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function J(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:x(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":y(d)&&(e="$SCOPE"),e}function K(a,b){return"undefined"==typeof a?c:(t(b)||(b=b?2:null),JSON.stringify(a,J,b))}function L(a){return s(a)?JSON.parse(a):a}function M(a){a=sd(a).clone();try{a.empty()}catch(b){}var c=sd("<div>").append(a).html();try{return a[0].nodeType===Pd?wd(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+wd(b)})}catch(d){return wd(c)}}function N(a){try{return decodeURIComponent(a)}catch(b){}}function O(a){var b,c,d={};return f((a||"").split("&"),function(a){a&&(b=a.replace(/\+/g,"%20").split("="),c=N(b[0]),q(c)&&(a=q(b[1])?N(b[1]):!0,xd.call(d,c)?Hd(d[c])?d[c].push(a):d[c]=[d[c],a]:d[c]=a))}),d}function P(a){var b=[];return f(a,function(a,c){Hd(a)?f(a,function(a){b.push(R(c,!0)+(!0===a?"":"="+R(a,!0)))}):b.push(R(c,!0)+(!0===a?"":"="+R(a,!0)))}),b.length?b.join("&"):""}function Q(a){return R(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function R(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function S(a,b){var c,d,e=Ld.length;for(a=sd(a),d=0;e>d;++d)if(c=Ld[d]+b,s(c=a.attr(c)))return c;return null}function T(a,b){var c,d,e={};f(Ld,function(b){b+="app",!c&&a.hasAttribute&&a.hasAttribute(b)&&(c=a,d=a.getAttribute(b))}),f(Ld,function(b){b+="app";var e;!c&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(b))}),c&&(e.strictDi=null!==S(c,"strict-di"),b(c,d?[d]:[],e))}function U(c,d,e){r(e)||(e={}),e=k({strictDi:!1},e);var g=function(){if(c=sd(c),c.injector()){var a=c[0]===b?"document":M(c);throw Dd("btstrpd",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}return d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng"),a=Gb(d,e.strictDi),a.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),a},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),void(Ed.resumeBootstrap=function(a){f(a,function(a){d.push(a)}),g()}))}function V(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function W(a){if(a=Ed.element(a).injector(),!a)throw Dd("test");return a.get("$$testability")}function X(a,b){return b=b||"_",a.replace(Md,function(a,c){return(c?b:"")+a.toLowerCase()})}function Y(){var b;Nd||((td=a.jQuery)&&td.fn.on?(sd=td,k(td.fn,{scope:ae.scope,isolateScope:ae.isolateScope,controller:ae.controller,injector:ae.injector,inheritedData:ae.inheritedData}),b=td.cleanData,td.cleanData=function(a){var c;if(Gd)Gd=!1;else for(var d,e=0;null!=(d=a[e]);e++)(c=td._data(d,"events"))&&c.$destroy&&td(d).triggerHandler("$destroy");b(a)}):sd=ib,Ed.element=sd,Nd=!0)}function Z(a,b,c){if(!a)throw Dd("areq",b||"?",c||"required");return a}function $(a,b,c){return c&&Hd(a)&&(a=a[a.length-1]),Z(v(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function _(a,b){if("hasOwnProperty"===a)throw Dd("badname",b)}function ab(a,b,c){if(!b)return a;b=b.split(".");for(var d,e=a,f=b.length,g=0;f>g;g++)d=b[g],a&&(a=(e=a)[d]);return!c&&v(a)?I(e,a):a}function bb(a){var b=a[0];a=a[a.length-1];var c=[b];do{if(b=b.nextSibling,!b)break;c.push(b)}while(b!==a);return sd(c)}function cb(){return Object.create(null)}function db(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||d,b(a,"module",function(){var a={};return function(d,f,g){if("hasOwnProperty"===d)throw e("badname","module");return f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d,e){return e||(e=b),function(){return e[d||"push"]([a,c,arguments]),j}}if(!f)throw c("nomod",d);var b=[],e=[],h=[],i=a("$injector","invoke","push",e),j={_invokeQueue:b,_configBlocks:e,_runBlocks:h,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:i,run:function(a){return h.push(a),this}};return g&&i(g),j})}})}function eb(b){k(b,{bootstrap:U,copy:E,extend:k,equals:G,element:sd,forEach:f,injector:Gb,noop:m,bind:I,toJson:K,fromJson:L,identity:n,isUndefined:p,isDefined:q,isString:s,isFunction:v,isObject:r,isNumber:t,isElement:A,isArray:Hd,version:Qd,isDate:u,lowercase:wd,uppercase:yd,callbacks:{counter:0},getTestability:W,$$minErr:d,$$csp:Kd,reloadWithDebugInfo:V}),ud=db(a);try{ud("ngLocale")}catch(c){ud("ngLocale",[]).provider("$locale",cc)}ud("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Gc}),a.provider("$compile",Nb).directive({a:Te,input:hf,textarea:hf,form:Xe,script:Vf,select:Yf,style:$f,option:Zf,ngBind:lf,ngBindHtml:nf,ngBindTemplate:mf,ngClass:pf,ngClassEven:rf,ngClassOdd:qf,ngCloak:sf,ngController:tf,ngForm:Ye,ngHide:Pf,ngIf:wf,ngInclude:xf,ngInit:zf,ngNonBindable:Lf,ngPluralize:Mf,ngRepeat:Nf,ngShow:Of,ngStyle:Qf,ngSwitch:Rf,ngSwitchWhen:Sf,ngSwitchDefault:Tf,ngOptions:Xf,ngTransclude:Uf,ngModel:If,ngList:Af,ngChange:of,pattern:ag,ngPattern:ag,required:_f,ngRequired:_f,minlength:cg,ngMinlength:cg,maxlength:bg,ngMaxlength:bg,ngValue:kf,ngModelOptions:Kf}).directive({ngInclude:yf}).directive(Ue).directive(uf),a.provider({$anchorScroll:Hb,$animate:ke,$browser:Kb,$cacheFactory:Lb,$controller:Rb,$document:Sb,$exceptionHandler:Tb,$filter:Sc,$interpolate:ac,$interval:bc,$http:Yb,$httpBackend:$b,$location:pc,$log:qc,$parse:Ac,$rootScope:Fc,$q:Bc,$$q:Cc,$sce:Kc,$sceDelegate:Jc,$sniffer:Lc,$templateCache:Mb,$templateRequest:Mc,$$testability:Nc,$timeout:Oc,$window:Rc,$$rAF:Ec,$$asyncCallback:Ib,$$jqLite:Bb})}])}function fb(a){return a.replace(Td,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Ud,"Moz$1")}function gb(a){return a=a.nodeType,a===Od||!a||9===a}function hb(a,b){var c,d,e=b.createDocumentFragment(),g=[];if(Yd.test(a)){for(c=c||e.appendChild(b.createElement("div")),d=(Zd.exec(a)||["",""])[1].toLowerCase(),d=_d[d]||_d._default,c.innerHTML=d[1]+a.replace($d,"<$1></$2>")+d[2],d=d[0];d--;)c=c.lastChild;g=H(g,c.childNodes),c=e.firstChild,c.textContent=""}else g.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",f(g,function(a){e.appendChild(a)}),e}function ib(a){if(a instanceof ib)return a;var c;if(s(a)&&(a=Id(a),c=!0),!(this instanceof ib)){if(c&&"<"!=a.charAt(0))throw Wd("nosel");return new ib(a)}if(c){c=b;var d;a=(d=Xd.exec(a))?[c.createElement(d[1])]:(d=hb(a,c))?d.childNodes:[]}sb(this,a)}function jb(a){return a.cloneNode(!0)}function kb(a,b){if(b||mb(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)mb(c[d])}function lb(a,b,c,d){if(q(d))throw Wd("offargs");var e=(d=nb(a))&&d.events,g=d&&d.handle;if(g)if(b)f(b.split(" "),function(b){if(q(c)){var d=e[b];if(D(d||[],c),d&&0<d.length)return}a.removeEventListener(b,g,!1),delete e[b]});else for(b in e)"$destroy"!==b&&a.removeEventListener(b,g,!1),delete e[b]}function mb(a,b){var d=a.ng339,e=d&&Rd[d];e&&(b?delete e.data[b]:(e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),lb(a)),delete Rd[d],a.ng339=c))}function nb(a,b){var d=a.ng339,d=d&&Rd[d];return b&&!d&&(a.ng339=d=++Sd,d=Rd[d]={events:{},data:{},handle:c}),d}function ob(a,b,c){if(gb(a)){var d=q(c),e=!d&&b&&!r(b),f=!b;if(a=(a=nb(a,!e))&&a.data,d)a[b]=c;else{if(f)return a;if(e)return a&&a[b];k(a,b)}}}function pb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function qb(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Id((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Id(b)+" "," ")))})}function rb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Id(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Id(c))}}function sb(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function tb(a,b){return ub(a,"$"+(b||"ngController")+"Controller")}function ub(a,b,d){for(9==a.nodeType&&(a=a.documentElement),b=Hd(b)?b:[b];a;){for(var e=0,f=b.length;f>e;e++)if((d=sd.data(a,b[e]))!==c)return d;a=a.parentNode||11===a.nodeType&&a.host}}function vb(a){for(kb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function wb(a,b){b||kb(a);var c=a.parentNode;c&&c.removeChild(a)}function xb(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):sd(c).on("load",b)}function yb(a,b){var c=be[b.toLowerCase()];return c&&ce[C(a)]&&c}function zb(a,b){var c=a.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&de[b]}function Ab(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(p(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped},f>1&&(e=F(e));for(var h=0;f>h;h++)c.isImmediatePropagationStopped()||e[h].call(a,c)}};return c.elem=a,c}function Bb(){this.$get=function(){return k(ib,{hasClass:function(a,b){return a.attr&&(a=a[0]),pb(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),rb(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),qb(a,b)}})}}function Cb(a,b){var c=a&&a.$$hashKey;return c?("function"==typeof c&&(c=a.$$hashKey()),c):(c=typeof a,c="function"==c||"object"==c&&null!==a?a.$$hashKey=c+":"+(b||i)():c+":"+a)}function Db(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Eb(a){return(a=a.toString().replace(he,"").match(ee))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Fb(a,b,c){var d;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw s(c)&&c||(c=a.name||Eb(a)),ie("strictdi",c);b=a.toString().replace(he,""),b=b.match(ee),f(b[1].split(fe),function(a){a.replace(ge,function(a,b,c){d.push(c)})})}a.$inject=d}}else Hd(a)?(b=a.length-1,$(a[b],"fn"),d=a.slice(0,b)):$(a,"fn",!0);return d}function Gb(a,b){function d(a){return function(b,c){return r(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(_(a,"service"),(v(b)||Hd(b))&&(b=u.instantiate(b)),!b.$get)throw ie("pget",a);return t[a+"Provider"]=b}function g(a,b){return function(){var c=x.invoke(b,this);if(p(c))throw ie("undef",a);return c}}function i(a,b,c){return e(a,{$get:!1!==c?g(a,b):b})}function j(a){var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=u.get(d[0]);e[d[1]].apply(e,d[2])}}if(!q.get(a)){q.put(a,!0);try{s(a)?(b=ud(a),c=c.concat(j(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):v(a)?c.push(u.invoke(a)):Hd(a)?c.push(u.invoke(a)):$(a,"module")}catch(e){throw Hd(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),ie("modulerr",a,e.stack||e.message||e)}}}),c}function k(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===l)throw ie("cdep",b+" <- "+n.join(" <- "));return a[b]}try{return n.unshift(b),a[b]=l,a[b]=c(b,d)}catch(e){throw a[b]===l&&delete a[b],e}finally{n.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=Fb(a,b,f);for(h=0,g=k.length;g>h;h++){if(i=k[h],"string"!=typeof i)throw ie("itkn",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return Hd(a)&&(a=a[g]),a.apply(c,j)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((Hd(a)?a[a.length-1]:a).prototype);return a=e(a,d,b,c),r(a)||v(a)?a:d},get:d,annotate:Fb,has:function(b){return t.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var l={},n=[],q=new Db([],!0),t={$provide:{provider:d(e),factory:d(i),service:d(function(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return i(a,o(b),!1)}),constant:d(function(a,b){_(a,"constant"),t[a]=b,w[a]=b}),decorator:function(a,b){var c=u.get(a+"Provider"),d=c.$get;c.$get=function(){var a=x.invoke(d,c);return x.invoke(b,null,{$delegate:a})}}}},u=t.$injector=k(t,function(a,b){throw Ed.isString(b)&&n.push(b),ie("unpr",n.join(" <- "))}),w={},x=w.$injector=k(w,function(a,b){var d=u.get(a+"Provider",b);return x.invoke(d.$get,d,c,a)});return f(j(a),function(a){x.invoke(a||m)}),x}function Hb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===C(a)?(b=a,!0):void 0}),b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset,v(c)?c=c():A(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):t(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(){var a,b=c.hash();b?(a=h.getElementById(b))?f(a):(a=e(h.getElementsByName(b)))?f(a):"top"===b&&f(null):f(null)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||xb(function(){d.$evalAsync(g)})}),g}]}function Ib(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Jb(a,b,d,e){function g(a){try{a.apply(null,zd.call(arguments,1))}finally{if(w--,0===w)for(;x.length;)try{x.pop()()}catch(b){d.error(b)}}}function h(a,b){!function c(){f(z,function(a){a()}),y=b(c,a)}()}function i(){j(),k()}function j(){A=a.history.state,A=p(A)?null:A,G(A,I)&&(A=I),I=A}function k(){(C!==n.url()||B!==A)&&(C=n.url(),B=A,f(F,function(a){a(n.url(),A)}))}function l(a){try{return decodeURIComponent(a)}catch(b){return a}}var n=this,o=b[0],q=a.location,r=a.history,t=a.setTimeout,u=a.clearTimeout,v={};n.isMock=!1;var w=0,x=[];n.$$completeOutstandingRequest=g,n.$$incOutstandingRequestCount=function(){w++},n.notifyWhenNoOutstandingRequests=function(a){f(z,function(a){a()}),0===w?a():x.push(a)};var y,z=[];n.addPollFn=function(a){return p(y)&&h(100,t),z.push(a),a};var A,B,C=q.href,D=b.find("base"),E=null;j(),B=A,n.url=function(b,c,d){if(p(d)&&(d=null),q!==a.location&&(q=a.location),r!==a.history&&(r=a.history),b){var f=B===d;if(C===b&&(!e.history||f))return n;var g=C&&hc(C)===hc(b);return C=b,B=d,!e.history||g&&f?(g||(E=b),c?q.replace(b):g?(c=q,d=b.indexOf("#"),b=-1===d?"":b.substr(d+1),c.hash=b):q.href=b):(r[c?"replaceState":"pushState"](d,"",b),j(),B=A),n}return E||q.href.replace(/%27/g,"'")},n.state=function(){return A};var F=[],H=!1,I=null;n.onUrlChange=function(b){return H||(e.history&&sd(a).on("popstate",i),sd(a).on("hashchange",i),H=!0),F.push(b),b},n.$$checkUrlChange=k,n.baseHref=function(){var a=D.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var J={},K="",L=n.baseHref();n.cookies=function(a,b){var e,f,g,h;if(!a){if(o.cookie!==K)for(K=o.cookie,e=K.split("; "),J={},g=0;g<e.length;g++)f=e[g],h=f.indexOf("="),h>0&&(a=l(f.substring(0,h)),J[a]===c&&(J[a]=l(f.substring(h+1))));return J}b===c?o.cookie=encodeURIComponent(a)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT":s(b)&&(e=(o.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+L).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},n.defer=function(a,b){var c;return w++,c=t(function(){delete v[c],g(a)},b||0),v[c]=!0,c},n.defer.cancel=function(a){return v[a]?(delete v[a],u(a),g(m),!0):!1}}function Kb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Jb(a,d,b,c)}]}function Lb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid",a);var g=0,h=k({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,l={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return p(b)?void 0:(a in i||g++,i[a]=b,g>j&&this.remove(n.key),b)},get:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete l[a]}delete i[a],g--},removeAll:function(){i={},g=0,l={},m=n=null},destroy:function(){l=h=i=null,delete b[a]},info:function(){return k({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Mb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Nb(a,d){function e(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};return f(a,function(a,e){var f=a.match(c);if(!f)throw le("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}}),d}var g={},i=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,j=/(([\w\-]+)(?:\:([^;]+))?;?)/,l=B("ngSrc,ngSrcset,src,srcset"),p=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,t=/^(on[a-z]+|formaction)$/;this.directive=function w(b,c){return _(b,"directive"),s(b)?(Z(c,"directiveFactory"),g.hasOwnProperty(b)||(g[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return f(g[b],function(f,g){try{var h=a.invoke(f);v(h)?h={compile:o(h)}:!h.compile&&h.link&&(h.compile=o(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA",r(h.scope)&&(h.$$isolateBindings=e(h.scope,h.name)),d.push(h)}catch(i){c(i)}}),d}])),g[b].push(c)):f(b,h(w)),this},this.aHrefSanitizationWhitelist=function(a){return q(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return q(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var u=!0;this.debugInfoEnabled=function(a){return q(a)?(u=a,this):u},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,e,h,o,q,w,x,z,A,B){function E(a,b){try{a.addClass(b)}catch(c){}}function F(a,b,c,d,e){a instanceof sd||(a=sd(a)),f(a,function(b,c){b.nodeType==Pd&&b.nodeValue.match(/\S+/)&&(a[c]=sd(b).wrap("<span></span>").parent()[0])});var g=H(a,b,a,c,d,e);F.$$addScopeClass(a);var h=null;return function(b,c,d){Z(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,f=d.transcludeControllers;
if(d=d.futureParentElement,e&&e.$$boundTransclude&&(e=e.$$boundTransclude),h||(h=(d=d&&d[0])&&"foreignobject"!==C(d)&&d.toString().match(/SVG/)?"svg":"html"),d="html"!==h?sd(W(h,sd("<div>").append(a).html())):c?ae.clone.call(a):a,f)for(var i in f)d.data("$"+i+"Controller",f[i].instance);return F.$$addScopeInfo(d,b),c&&c(d,b),g&&g(b,d,d,e),d}}function H(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,o;if(m)for(o=Array(d.length),j=0;j<n.length;j+=3)g=n[j],o[g]=d[g];else o=d;for(j=0,k=n.length;k>j;)h=o[n[j++]],d=n[j++],g=n[j++],d?(d.scope?(i=a.$new(),F.$$addScopeInfo(sd(h),i)):i=a,l=d.transcludeOnThisElement?I(a,d.transclude,f,d.elementTranscludeOnThisElement):!d.templateOnThisElement&&f?f:!f&&b?I(a,b):null,d(g,i,h,e,l)):g&&g(a,h.childNodes,c,f)}for(var i,j,k,l,m,n=[],o=0;o<a.length;o++)i=new db,j=J(a[o],[],i,0===o?e:c,f),(g=j.length?N(j,a[o],i,b,d,null,[],[],g):null)&&g.scope&&F.$$addScopeClass(i.$$element),i=g&&g.terminal||!(k=a[o].childNodes)||!k.length?null:H(k,g?(g.transcludeOnThisElement||!g.templateOnThisElement)&&g.transclude:b),(g||i)&&(n.push(o,g,i),l=!0,m=m||g),g=null;return l?h:null}function I(a,b,c){return function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function J(a,b,c,d,e){var f,g=c.$attr;switch(a.nodeType){case Od:P(b,Ob(C(a)),"E",d,e);for(var h,k,l,m=a.attributes,n=0,o=m&&m.length;o>n;n++){var p=!1,q=!1;h=m[n],f=h.name,k=Id(h.value),h=Ob(f),(l=hb.test(h))&&(f=f.replace(me,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var r=h.replace(/(Start|End)$/,"");Q(r)&&h===r+"Start"&&(p=f,q=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=Ob(f.toLowerCase()),g[h]=f,(l||!c.hasOwnProperty(h))&&(c[h]=k,yb(a,h)&&(c[h]=!0)),$(a,b,k,h,l),P(b,h,"A",d,e,p,q)}if(a=a.className,s(a)&&""!==a)for(;f=j.exec(a);)h=Ob(f[2]),P(b,h,"C",d,e)&&(c[h]=Id(f[3])),a=a.substr(f.index+f[0].length);break;case Pd:V(b,a.nodeValue);break;case 8:try{(f=i.exec(a.nodeValue))&&(h=Ob(f[1]),P(b,h,"M",d,e)&&(c[h]=Id(f[2])))}catch(t){}}return b.sort(T),b}function K(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw le("uterdir",b,c);a.nodeType==Od&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return sd(d)}function L(a,b,c){return function(d,e,f,g,h){return e=K(e[0],b,c),a(d,e,f,g,h)}}function N(a,g,h,i,j,k,l,m,n){function t(a,b,c,d){a&&(c&&(a=L(a,c,d)),a.require=A.require,a.directiveName=B,(I===A||A.$$isolateScope)&&(a=ab(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=L(b,c,d)),b.require=A.require,b.directiveName=B,(I===A||A.$$isolateScope)&&(b=ab(b,{isolateScope:!0})),m.push(b))}function u(a,b,c,d){var e,g,h="data",i=!1,j=c;if(s(b)){if(g=b.match(p),b=b.substring(g[0].length),g[3]&&(g[1]?g[3]=null:g[1]=g[3]),"^"===g[1]?h="inheritedData":"^^"===g[1]&&(h="inheritedData",j=c.parent()),"?"===g[2]&&(i=!0),e=null,d&&"data"===h&&(e=d[b])&&(e=e.instance),e=e||j[h]("$"+b+"Controller"),!e&&!i)throw le("ctreq",b,a);return e||null}return Hd(b)&&(e=[],f(b,function(b){e.push(u(a,b,c,d))})),e}function w(a,b,e,i,j){function k(a,b,d){var e;return y(a)||(d=b,b=a,a=c),V&&(e=t),d||(d=V?w.parent():w),j(a,b,e,d,B)}var n,p,r,s,t,v,w,x;if(g===e?(x=h,w=h.$$element):(w=sd(e),x=new db(w,h)),I&&(s=b.$new(!0)),j&&(v=k,v.$$boundTransclude=j),H&&(z={},t={},f(H,function(a){var c={$scope:a===I||a.$$isolateScope?s:b,$element:w,$attrs:x,$transclude:v};r=a.controller,"@"==r&&(r=x[a.name]),c=q(r,c,!0,a.controllerAs),t[a.name]=c,V||w.data("$"+a.name+"Controller",c.instance),z[a.name]=c})),I){F.$$addScopeInfo(w,s,!0,!(N&&(N===I||N===I.$$originalDirective))),F.$$addScopeClass(w,!0),i=z&&z[I.name];var A=s;i&&i.identifier&&!0===I.bindToController&&(A=i.instance),f(s.$$isolateBindings=I.$$isolateBindings,function(a,c){var e,f,g,h,i=a.attrName,j=a.optional;switch(a.mode){case"@":x.$observe(i,function(a){A[c]=a}),x.$$observers[i].$$scope=b,x[i]&&(A[c]=d(x[i])(b));break;case"=":if(j&&!x[i])break;f=o(x[i]),h=f.literal?G:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=A[c]=f(b),le("nonassign",x[i],I.name)},e=A[c]=f(b),j=function(a){return h(a,A[c])||(h(a,e)?g(b,a=A[c]):A[c]=a),e=a},j.$stateful=!0,j=a.collection?b.$watchCollection(x[i],j):b.$watch(o(x[i],j),null,f.literal),s.$on("$destroy",j);break;case"&":f=o(x[i]),A[c]=function(a){return f(b,a)}}})}for(z&&(f(z,function(a){a()}),z=null),i=0,n=l.length;n>i;i++)p=l[i],bb(p,p.isolateScope?s:b,w,x,p.require&&u(p.directiveName,p.require,w,t),v);var B=b;for(I&&(I.template||null===I.templateUrl)&&(B=s),a&&a(B,e.childNodes,c,j),i=m.length-1;i>=0;i--)p=m[i],bb(p,p.isolateScope?s:b,w,x,p.require&&u(p.directiveName,p.require,w,t),v)}n=n||{};for(var x,z,A,B,C,D,E=-Number.MAX_VALUE,H=n.controllerDirectives,I=n.newIsolateScopeDirective,N=n.templateDirective,P=n.nonTlbTranscludeDirective,Q=!1,T=!1,V=n.hasElementTranscludeDirective,X=h.$$element=sd(g),Y=i,Z=0,$=a.length;$>Z;Z++){A=a[Z];var cb=A.$$start,eb=A.$$end;if(cb&&(X=K(g,cb,eb)),C=c,E>A.priority)break;if((C=A.scope)&&(A.templateUrl||(r(C)?(U("new/isolated scope",I||x,A,X),I=A):U("new/isolated scope",I,A,X)),x=x||A),B=A.name,!A.templateUrl&&A.controller&&(C=A.controller,H=H||{},U("'"+B+"' controller",H[B],A,X),H[B]=A),(C=A.transclude)&&(Q=!0,A.$$tlb||(U("transclusion",P,A,X),P=A),"element"==C?(V=!0,E=A.priority,C=X,X=h.$$element=sd(b.createComment(" "+B+": "+h[B]+" ")),g=X[0],_(j,zd.call(C,0),g),Y=F(C,i,E,k&&k.name,{nonTlbTranscludeDirective:P})):(C=sd(jb(g)).contents(),X.empty(),Y=F(C,i))),A.template)if(T=!0,U("template",N,A,X),N=A,C=v(A.template)?A.template(X,h):A.template,C=gb(C),A.replace){if(k=A,C=Yd.test(C)?Qb(W(A.templateNamespace,Id(C))):[],g=C[0],1!=C.length||g.nodeType!==Od)throw le("tplrt",B,"");_(j,X,g),$={$attr:{}},C=J(g,[],$);var fb=a.splice(Z+1,a.length-(Z+1));I&&O(C),a=a.concat(C).concat(fb),R(h,$),$=a.length}else X.html(C);if(A.templateUrl)T=!0,U("template",N,A,X),N=A,A.replace&&(k=A),w=S(a.splice(Z,a.length-Z),X,h,j,Q&&Y,l,m,{controllerDirectives:H,newIsolateScopeDirective:I,templateDirective:N,nonTlbTranscludeDirective:P}),$=a.length;else if(A.compile)try{D=A.compile(X,h,Y),v(D)?t(null,D,cb,eb):D&&t(D.pre,D.post,cb,eb)}catch(hb){e(hb,M(X))}A.terminal&&(w.terminal=!0,E=Math.max(E,A.priority))}return w.scope=x&&!0===x.scope,w.transcludeOnThisElement=Q,w.elementTranscludeOnThisElement=V,w.templateOnThisElement=T,w.transclude=Y,n.hasElementTranscludeDirective=V,w}function O(a){for(var b=0,c=a.length;c>b;b++){var d,e=b;d=k(Object.create(a[b]),{$$isolateScope:!0}),a[e]=d}}function P(b,d,f,h,i,j,l){if(d===i)return null;if(i=null,g.hasOwnProperty(d)){var m;d=a.get(d+"Directive");for(var n=0,o=d.length;o>n;n++)try{if(m=d[n],(h===c||h>m.priority)&&-1!=m.restrict.indexOf(f)){if(j){var p={$$start:j,$$end:l};m=k(Object.create(m),p)}b.push(m),i=m}}catch(q){e(q)}}return i}function Q(b){if(g.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;e>d;d++)if(b=c[d],b.multiElement)return!0;return!1}function R(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(E(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function S(a,b,c,d,e,g,i,j){var l,m,n=[],o=b[0],p=a.shift(),q=k({},p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),s=v(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,t=p.templateNamespace;return b.empty(),h(z.getTrustedResourceUrl(s)).then(function(h){var k,u;if(h=gb(h),p.replace){if(h=Yd.test(h)?Qb(W(t,Id(h))):[],k=h[0],1!=h.length||k.nodeType!==Od)throw le("tplrt",p.name,s);h={$attr:{}},_(d,b,k);var v=J(k,[],h);r(p.scope)&&O(v),a=v.concat(a),R(c,h)}else k=o,b.html(h);for(a.unshift(q),l=N(a,k,c,e,b,p,g,i,j),f(d,function(a,c){a==k&&(d[c]=b[0])}),m=H(b[0].childNodes,e);n.length;){h=n.shift(),u=n.shift();var w=n.shift(),x=n.shift(),v=b[0];if(!h.$$destroyed){if(u!==o){var y=u.className;j.hasElementTranscludeDirective&&p.replace||(v=jb(k)),_(w,sd(u),v),E(sd(v),y)}u=l.transcludeOnThisElement?I(h,l.transclude,x):x,l(m,h,v,d,u)}}n=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(n?n.push(b,c,d,a):(l.transcludeOnThisElement&&(a=I(b,l.transclude,e)),l(m,b,c,d,a)))}}function T(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function U(a,b,c,d){if(b)throw le("multidir",b.name,c.name,a,M(d))}function V(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&F.$$addBindingClass(a),function(a,d){var e=d.parent();b||F.$$addBindingClass(e),F.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){d[0].nodeValue=a})}}})}function W(a,c){switch(a=wd(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function Y(a,b){if("srcdoc"==b)return z.HTML;var c=C(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?z.RESOURCE_URL:void 0}function $(a,b,c,e,f){var g=Y(a,e);f=l[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===C(a))throw le("selmulti",M(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){if(b=i.$$observers||(i.$$observers={}),t.test(e))throw le("nodomevents");var j=i[e];j!==c&&(h=j&&d(j,!0,g,f),c=j),h&&(i[e]=h(a),(b[e]||(b[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function _(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d,f=e+h-1;for(var j=a.length;j>e;e++,f++)j>f?a[e]=a[f]:delete a[e];a.length-=h-1,a.context===g&&(a.context=d);break}for(i&&i.replaceChild(d,g),a=b.createDocumentFragment(),a.appendChild(g),sd(d).data(sd(g).data()),td?(Gd=!0,td.cleanData([g])):delete sd.cache[g[sd.expando]],g=1,h=c.length;h>g;g++)i=c[g],sd(i).remove(),a.appendChild(i),delete c[g];c[0]=d,c.length=1}function ab(a,b){return k(function(){return a.apply(null,arguments)},a,b)}function bb(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,M(c))}}var db=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};db.prototype={$normalize:Ob,$addClass:function(a){a&&0<a.length&&A.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&A.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Pb(a,b);c&&c.length&&A.addClass(this.$$element,c),(c=Pb(b,a))&&c.length&&A.removeClass(this.$$element,c)},$set:function(a,b,d,g){var h=this.$$element[0],i=yb(h,a),j=zb(h,a),h=a;if(i?(this.$$element.prop(a,b),g=i):j&&(this[j]=b,h=j),this[a]=b,g?this.$attr[a]=g:(g=this.$attr[a])||(this.$attr[a]=g=X(a,"-")),i=C(this.$$element),"a"===i&&"href"===a||"img"===i&&"src"===a)this[a]=b=B(b,"src"===a);else if("img"===i&&"srcset"===a){for(var i="",j=Id(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(j)?k:/(,)/,j=j.split(k),k=Math.floor(j.length/2),l=0;k>l;l++)var m=2*l,i=i+B(Id(j[m]),!0),i=i+(" "+Id(j[m+1]));j=Id(j[2*l]).split(/\s/),i+=B(Id(j[0]),!0),2===j.length&&(i+=" "+Id(j[1])),this[a]=b=i}!1!==d&&(null===b||b===c?this.$$element.removeAttr(g):this.$$element.attr(g,b)),(a=this.$$observers)&&f(a[h],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=cb()),e=d[a]||(d[a]=[]);return e.push(b),w.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){D(e,b)}}};var eb=d.startSymbol(),fb=d.endSymbol(),gb="{{"==eb||"}}"==fb?n:function(a){return a.replace(/\{\{/g,eb).replace(/}}/g,fb)},hb=/^ngAttr[A-Z]/;return F.$$addBindingInfo=u?function(a,b){var c=a.data("$binding")||[];Hd(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:m,F.$$addBindingClass=u?function(a){E(a,"ng-binding")}:m,F.$$addScopeInfo=u?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:m,F.$$addScopeClass=u?function(a,b){E(a,b?"ng-isolate-scope":"ng-scope")}:m,F}]}function Ob(a){return fb(a.replace(me,""))}function Pb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Qb(a){a=sd(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&Ad.call(a,b,1);return a}function Rb(){var a={},b=!1,e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){_(b,"controller"),r(b)?k(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(f,g){function h(a,b,c,e){if(!a||!r(a.$scope))throw d("$controller")("noscp",e,b);a.$scope[b]=c}return function(d,i,j,l){var m,n,o;return j=!0===j,l&&s(l)&&(o=l),s(d)&&(l=d.match(e),n=l[1],o=o||l[3],d=a.hasOwnProperty(n)?a[n]:ab(i.$scope,n,!0)||(b?ab(g,n,!0):c),$(d,n,!0)),j?(j=(Hd(d)?d[d.length-1]:d).prototype,m=Object.create(j),o&&h(i,o,m,n||d.name),k(function(){return f.invoke(d,m,i,n),m},{instance:m,identifier:o})):(m=f.instantiate(d,i,n),o&&h(i,o,m,n||d.name),m)}}]}function Sb(){this.$get=["$window",function(a){return sd(a.document)}]}function Tb(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function Ub(a,b){if(s(a)){var c=a.replace(re,"").trim();if(c){var d=b("Content-Type");(d=d&&0===d.indexOf(ne))||(d=(d=c.match(pe))&&qe[d[0]].test(c)),d&&(a=L(c))}}return a}function Vb(a){var b,c,d,e=cb();return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=wd(Id(a.substr(0,d))),c=Id(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function Wb(a){var b=r(a)?a:c;return function(c){return b||(b=Vb(a)),c?(c=b[wd(c)],void 0===c&&(c=null),c):b}}function Xb(a,b,c,d){return v(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function Yb(){var a=this.defaults={transformResponse:[Ub],transformRequest:[function(a){return r(a)&&"[object File]"!==Cd.call(a)&&"[object Blob]"!==Cd.call(a)&&"[object FormData]"!==Cd.call(a)?K(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(oe),put:F(oe),patch:F(oe)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},b=!1;this.useApplyAsync=function(a){return q(a)?(b=!!a,this):b};var e=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(h,i,j,l,m,n){function o(b){function e(a){var b=k({},a);return b.data=a.data?Xb(a.data,a.headers,a.status,h.transformResponse):a.data,a=a.status,a>=200&&300>a?b:m.reject(b)}function g(a){var b,c={};return f(a,function(a,d){v(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a}),c}if(!Ed.isObject(b))throw d("$http")("badreq",b);var h=k({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},b);h.headers=function(b){var c,d,e=a.headers,f=k({},b.headers),e=k({},e.common,e[wd(b.method)]);a:for(c in e){b=wd(c);for(d in f)if(wd(d)===b)continue a;f[c]=e[c]}return g(f)}(b),h.method=yd(h.method);var i=[function(b){var d=b.headers,g=Xb(b.data,Wb(d),c,b.transformRequest);return p(g)&&f(d,function(a,b){"content-type"===wd(b)&&delete d[b]}),p(b.withCredentials)&&!p(a.withCredentials)&&(b.withCredentials=a.withCredentials),t(b,g).then(e,e)},c],j=m.when(h);for(f(y,function(a){(a.request||a.requestError)&&i.unshift(a.request,a.requestError),(a.response||a.responseError)&&i.push(a.response,a.responseError)});i.length;){b=i.shift();var l=i.shift(),j=j.then(b,l)}return j.success=function(a){return j.then(function(b){a(b.data,b.status,b.headers,h)}),j},j.error=function(a){return j.then(null,function(b){a(b.data,b.status,b.headers,h)}),j},j}function t(d,e){function f(a,c,d,e){function f(){g(c,a,d,e)}n&&(a>=200&&300>a?n.put(z,[a,c,Vb(d),e]):n.remove(z)),b?l.$applyAsync(f):(f(),l.$$phase||l.$apply())}function g(a,b,c,e){b=Math.max(b,0),(b>=200&&300>b?t.resolve:t.reject)({data:a,status:b,headers:Wb(c),config:d,statusText:e})}function j(a){g(a.data,a.status,F(a.headers()),a.statusText)}function k(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,s,t=m.defer(),u=t.promise,y=d.headers,z=w(d.url,d.params);return o.pendingRequests.push(d),u.then(k,k),!d.cache&&!a.cache||!1===d.cache||"GET"!==d.method&&"JSONP"!==d.method||(n=r(d.cache)?d.cache:r(a.cache)?a.cache:x),n&&(s=n.get(z),q(s)?s&&v(s.then)?s.then(j,j):Hd(s)?g(s[1],s[0],F(s[2]),s[3]):g(s,200,{},"OK"):n.put(z,u)),p(s)&&((s=Qc(d.url)?i.cookies()[d.xsrfCookieName||a.xsrfCookieName]:c)&&(y[d.xsrfHeaderName||a.xsrfHeaderName]=s),h(d.method,z,e,f,y,d.timeout,d.withCredentials,d.responseType)),u}function w(a,b){if(!b)return a;var c=[];return g(b,function(a,b){null===a||p(a)||(Hd(a)||(a=[a]),f(a,function(a){r(a)&&(a=u(a)?a.toISOString():K(a)),c.push(R(b)+"="+R(a))}))}),0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var x=j("$http"),y=[];return f(e,function(a){y.unshift(s(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],function(){f(arguments,function(a){o[a]=function(b,c){return o(k(c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(){f(arguments,function(a){o[a]=function(b,c,d){return o(k(d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),o.defaults=a,o}]}function Zb(){return new a.XMLHttpRequest}function $b(){this.$get=["$browser","$window","$document",function(a,b,c){return _b(a,Zb,a.defer,b.angular.callbacks,c[0])}]}function _b(a,b,d,e,g){function h(a,b,c){var d=g.createElement("script"),f=null;return d.type="text/javascript",d.src=a,d.async=!0,f=function(a){d.removeEventListener("load",f,!1),d.removeEventListener("error",f,!1),g.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},d.addEventListener("load",f,!1),d.addEventListener("error",f,!1),g.body.appendChild(d),f}return function(g,i,j,k,l,n,o,p){function r(){u&&u(),w&&w.abort()}function s(b,e,f,g,h){y!==c&&d.cancel(y),u=w=null,b(e,f,g,h),a.$$completeOutstandingRequest(m)}if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==wd(g)){var t="_"+(e.counter++).toString(36);e[t]=function(a){e[t].data=a,e[t].called=!0};var u=h(i.replace("JSON_CALLBACK","angular.callbacks."+t),t,function(a,b){s(k,a,e[t].data,"",b),e[t]=m})}else{var w=b();if(w.open(g,i,!0),f(l,function(a,b){q(a)&&w.setRequestHeader(b,a)}),w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=1223===w.status?204:w.status;0===c&&(c=b?200:"file"==Pc(i).protocol?404:0),s(k,c,b,w.getAllResponseHeaders(),a)},g=function(){s(k,-1,null,null,"")},w.onerror=g,w.onabort=g,o&&(w.withCredentials=!0),p)try{w.responseType=p}catch(x){if("json"!==p)throw x}w.send(j||null)}if(n>0)var y=d(r,n);else n&&v(n.then)&&n.then(r)}}function ac(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,m,n){function o(c){return c.replace(j,a).replace(l,b)}function r(a){try{var b=a;a=m?e.getTrusted(m,b):e.valueOf(b);var c;if(n&&!q(a))c=a;else if(null==a)c="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=K(a)}c=a}return c}catch(g){c=se("interr",f,g.toString()),d(c)}}n=!!n;for(var s,t,u=0,w=[],x=[],y=f.length,z=[],A=[];y>u;){if(-1==(s=f.indexOf(a,u))||-1==(t=f.indexOf(b,s+h))){u!==y&&z.push(o(f.substring(u)));break}u!==s&&z.push(o(f.substring(u,s))),u=f.substring(s+h,t),w.push(u),x.push(c(u,r)),u=t+i,A.push(z.length),z.push("")}if(m&&1<z.length)throw se("noconcat",f);if(!g||w.length){var B=function(a){for(var b=0,c=w.length;c>b;b++){if(n&&p(a[b]))return;z[A[b]]=a[b]}return z.join("")};return k(function(a){var b=0,c=w.length,e=Array(c);try{for(;c>b;b++)e[b]=x[b](a);return B(e)}catch(g){a=se("interr",f,g.toString()),d(a)}},{exp:f,expressions:w,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(x,function(c,e){var f=B(c);v(b)&&b.call(this,f,c!==e?d:f,a),d=f},c)}})}}var h=a.length,i=b.length,j=new RegExp(a.replace(/./g,f),"g"),l=new RegExp(b.replace(/./g,f),"g");return g.startSymbol=function(){return a},g.endSymbol=function(){return b},g}]}function bc(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=b.setInterval,k=b.clearInterval,l=0,m=q(i)&&!i,n=(m?d:c).defer(),o=n.promise;return h=q(h)?h:0,o.then(null,null,e),o.$$intervalId=j(function(){n.notify(l++),h>0&&l>=h&&(n.resolve(l),k(o.$$intervalId),delete f[o.$$intervalId]),m||a.$apply()},g),f[o.$$intervalId]=n,o}var f={};return e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1},e}]}function cc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function dc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=Q(a[b]);return a.join("/")}function ec(a,b){var c=Pc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=l(c.port)||ue[c.protocol]||null}function fc(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Pc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=O(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function gc(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function hc(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function ic(a){return a.replace(/(#.+)|#$/,"$1")}function jc(a){return a.substr(0,hc(a).lastIndexOf("/")+1)}function kc(a,b){this.$$html5=!0,b=b||"";var d=jc(a);ec(a,this),this.$$parse=function(a){var b=gc(d,a);if(!s(b))throw ve("ipthprfx",a,d);fc(b,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=P(this.$$search),b=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=dc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h;return(g=gc(a,e))!==c?(h=g,h=(g=gc(b,g))!==c?d+(gc("/",g)||g):a+h):(g=gc(d,e))!==c?h=d+g:d==e+"/"&&(h=d),h&&this.$$parse(h),!!h}}function lc(a,b){var c=jc(a);ec(a,this),this.$$parse=function(d){d=gc(a,d)||gc(c,d);var e;"#"===d.charAt(0)?(e=gc(b,d),p(e)&&(e=d)):e=this.$$html5?d:"",fc(e,this),d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(a)&&(e=e.replace(a,"")),f.exec(e)||(d=(e=f.exec(d))?e[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var c=P(this.$$search),d=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b){return hc(a)==hc(b)?(this.$$parse(b),!0):!1}}function mc(a,b){this.$$html5=!0,lc.apply(this,arguments);var c=jc(a);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==hc(d)?f=d:(g=gc(c,d))?f=a+b+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=P(this.$$search),d=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function nc(a){return function(){return this[a]}}function oc(a,b){return function(c){return p(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function pc(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return q(b)?(a=b,this):a},this.html5Mode=function(a){return z(a)?(b.enabled=a,this):r(a)?(z(a.enabled)&&(b.enabled=a.enabled),z(a.requireBase)&&(b.requireBase=a.requireBase),z(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k;k=d.baseHref();var l,m=d.url();if(b.enabled){if(!k&&b.requireBase)throw ve("nobase");l=m.substring(0,m.indexOf("/",m.indexOf("//")+2))+(k||"/"),k=e.history?kc:mc}else l=hc(m),k=lc;j=new k(l,"#"+a),j.$$parseLinkUrl(m,m),j.$$state=d.state();var n=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var e=sd(a.target);"a"!==C(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");r(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Pc(h.animVal).href),n.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!j.$$parseLinkUrl(h,i)||(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),j.absUrl()!=m&&d.url(j.absUrl(),!0);var o=!0;return d.onUrlChange(function(a,b){c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(o=!1,i(e,f)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=ic(d.url()),b=ic(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(o||k)&&(o=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function qc(){var a=!0,b=this;this.debugEnabled=function(b){return q(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||m;a=!1;try{a=!!e.apply}catch(g){}return a?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function rc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw xe("isecfld",b);return a}function sc(a,b){if(a){if(a.constructor===a)throw xe("isecfn",b);if(a.window===a)throw xe("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw xe("isecdom",b);if(a===Object)throw xe("isecobj",b)}return a}function tc(a){return a.constant}function uc(a,b,c,d,e){sc(a,e),sc(b,e),c=c.split(".");for(var f,g=0;1<c.length;g++){f=rc(c.shift(),e);var h=0===g&&b&&b[f]||a[f];h||(h={},a[f]=h),a=sc(h,e)}return f=rc(c.shift(),e),sc(a[f],e),a[f]=d}function vc(a){return"constructor"==a}function wc(a,b,d,e,f,g,h){rc(a,g),rc(b,g),rc(d,g),rc(e,g),rc(f,g);var i=function(a){return sc(a,g)},j=h||vc(a)?i:n,k=h||vc(b)?i:n,l=h||vc(d)?i:n,m=h||vc(e)?i:n,o=h||vc(f)?i:n;return function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=j(i[a]),b?null==i?c:(i=k(i[b]),d?null==i?c:(i=l(i[d]),e?null==i?c:(i=m(i[e]),f?null==i?c:i=o(i[f]):i):i):i):i)}}function xc(a,b){return function(c,d){return a(c,d,sc,b)}}function yc(a,b,d){var e=b.expensiveChecks,g=e?He:Ge,h=g[a];if(h)return h;var i=a.split("."),j=i.length;if(b.csp)h=6>j?wc(i[0],i[1],i[2],i[3],i[4],d,e):function(a,b){var f,g=0;do f=wc(i[g++],i[g++],i[g++],i[g++],i[g++],d,e)(a,b),b=c,a=f;while(j>g);return f};else{var k="";e&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=e;f(i,function(a,b){rc(a,d);var c=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;(e||vc(a))&&(c="eso("+c+", fe)",l=!0),k+="if(s == null) return undefined;\ns="+c+";\n"}),k+="return s;",b=new Function("s","l","eso","fe",k),b.toString=o(k),l&&(b=xc(b,d)),h=b}return h.sharedGetter=!0,h.assign=function(b,c,d){return uc(b,d,a,c,a)},g[a]=h}function zc(a){return v(a.valueOf)?a.valueOf():Ie.call(a)}function Ac(){var a=cb(),b=cb();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;return a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign),b}function g(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];e.constant||(e.inputs?g(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function h(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=zc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function i(a,b,c,d){var e,f=d.$$inputs||(d.$$inputs=g(d.inputs,[]));if(1===f.length){var i=h,f=f[0];return a.$watch(function(a){var b=f(a);return h(b,i)||(e=d(a),i=b&&zc(b)),e},b,c)}for(var j=[],k=0,l=f.length;l>k;k++)j[k]=h;return a.$watch(function(a){for(var b=!1,c=0,g=f.length;g>c;c++){var i=f[c](a);(b||(b=!h(i,j[c])))&&(j[c]=i&&zc(i))}return b&&(e=d(a)),e},b,c)}function j(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,v(b)&&b.apply(this,arguments),q(a)&&d.$$postDigest(function(){q(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;return f(a,function(a){q(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,v(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(){v(b)&&b.apply(this,arguments),e()},c)}function n(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==j?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return q(e)?f:e};return a.$$watchDelegate&&a.$$watchDelegate!==i?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=i,c.inputs=[a]),c}var o={csp:d.csp,expensiveChecks:!1},p={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var h,q,r;switch(typeof d){case"string":r=d=d.trim();var s=g?b:a;return h=s[r],h||(":"===d.charAt(0)&&":"===d.charAt(1)&&(q=!0,d=d.substring(2)),g=g?p:o,h=new Ee(g),h=new Fe(h,c,g).parse(d),h.constant?h.$$watchDelegate=l:q?(h=e(h),h.$$watchDelegate=h.literal?k:j):h.inputs&&(h.$$watchDelegate=i),s[r]=h),n(h,f);case"function":return n(d,f);default:return n(m,f)}}}]}function Bc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Dc(function(b){a.$evalAsync(b)},b)}]}function Cc(){this.$get=["$browser","$exceptionHandler",function(a,b){return Dc(function(b){a.defer(b)},b)}]}function Dc(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(d){!d.processScheduled&&d.pending&&(d.processScheduled=!0,a(function(){var a,e,f;f=d.pending,d.processScheduled=!1,d.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],a=f[g][d.status];try{v(a)?e.resolve(a(d.value)):1===d.status?e.resolve(d.value):e.reject(d.value)}catch(i){e.reject(i),b(i)}}}))}function j(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}var k=d("$q",TypeError);g.prototype={then:function(a,b,c){var d=new j;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&i(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return m(b,!0,a)},function(b){return m(b,!1,a)},b)}},j.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(k("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);
try{(r(a)||v(a))&&(c=a&&a.then),v(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,i(this.promise.$$state))}catch(f){d[1](f),b(f)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(v(a)?a(c):c)}catch(h){b(h)}}})}};var l=function(a,b){var c=new j;return b?c.resolve(a):c.reject(a),c.promise},m=function(a,b,c){var d=null;try{v(c)&&(d=c())}catch(e){return l(e,!1)}return d&&v(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new j;return e.resolve(a),e.promise.then(b,c,d)},o=function p(a){if(!v(a))throw k("norslvr",a);if(!(this instanceof p))return new p(a);var b=new j;return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise};return o.defer=function(){return new j},o.reject=function(a){var b=new j;return b.reject(a),b.promise},o.when=n,o.all=function(a){var b=new j,c=0,d=Hd(a)?[]:{};return f(a,function(a,e){c++,n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},o}function Ec(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Fc(){var a=10,b=d("$rootScope"),c=null,g=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,h,i,j){function k(){this.$id=++Fd,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function l(a){if(t.$$phase)throw b("inprog",t.$$phase);t.$$phase=a}function n(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function o(){}function q(){for(;x.length;)try{x.shift()()}catch(a){h(a)}g=null}function s(){null===g&&(g=j.defer(function(){t.$apply(q)}))}k.prototype={constructor:k,$new:function(a,b){function c(){d.$$destroyed=!0}var d;return b=b||this,a?(d=new k,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++Fd,this.$$ChildScope=null},this.$$ChildScope.prototype=this),d=new this.$$ChildScope),d.$parent=b,d.$$prevSibling=b.$$childTail,b.$$childHead?(b.$$childTail.$$nextSibling=d,b.$$childTail=d):b.$$childHead=b.$$childTail=d,(a||b!=this)&&d.$on("$destroy",c),d},$watch:function(a,b,d){var e=i(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,d,e);var f=this.$$watchers,g={fn:b,last:o,get:e,exp:a,eq:!!d};return c=null,v(b)||(g.fn=m),f||(f=this.$$watchers=[]),f.unshift(g),function(){D(f,g),c=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=Array(a.length),e=Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){d=a;var b,c,g,h;if(!p(d)){if(r(d))if(e(d))for(f!==m&&(f=m,q=f.length=0,k++),a=d.length,q!==a&&(k++,f.length=q=a),b=0;a>b;b++)h=f[b],g=d[b],c=h!==h&&g!==g,c||h===g||(k++,f[b]=g);else{f!==n&&(f=n={},q=0,k++),a=0;for(b in d)d.hasOwnProperty(b)&&(a++,g=d[b],h=f[b],b in f?(c=h!==h&&g!==g,c||h===g||(k++,f[b]=g)):(q++,f[b]=g,k++));if(q>a)for(b in k++,f)d.hasOwnProperty(b)||(q--,delete f[b])}else f!==d&&(f=d,k++);return k}}c.$stateful=!0;var d,f,g,h=this,j=1<b.length,k=0,l=i(a,c),m=[],n={},o=!0,q=0;return this.$watch(l,function(){if(o?(o=!1,b(d,d,h)):b(d,g,h),j)if(r(d))if(e(d)){g=Array(d.length);for(var a=0;a<d.length;a++)g[a]=d[a]}else for(a in g={},d)xd.call(d,a)&&(g[a]=d[a]);else g=d})},$digest:function(){var d,e,f,i,k,m,n,p,r,s=a,x=[];l("$digest"),j.$$checkUrlChange(),this===t&&null!==g&&(j.defer.cancel(g),q()),c=null;do{for(m=!1,n=this;u.length;){try{r=u.shift(),r.scope.$eval(r.expression,r.locals)}catch(y){h(y)}c=null}a:do{if(i=n.$$watchers)for(k=i.length;k--;)try{if(d=i[k])if((e=d.get(n))===(f=d.last)||(d.eq?G(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(d===c){m=!1;break a}}else m=!0,c=d,d.last=d.eq?E(e,null):e,d.fn(e,f===o?e:f,n),5>s&&(p=4-s,x[p]||(x[p]=[]),x[p].push({msg:v(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,newVal:e,oldVal:f}))}catch(z){h(z)}if(!(i=n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}while(n=i);if((m||u.length)&&!s--)throw t.$$phase=null,b("infdig",a,x)}while(m||u.length);for(t.$$phase=null;w.length;)try{w.shift()()}catch(A){h(A)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==t){for(var b in this.$$listenerCount)n(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return i(a)(this,b)},$evalAsync:function(a,b){t.$$phase||u.length||j.defer(function(){u.length&&t.$digest()}),u.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){w.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){h(b)}finally{t.$$phase=null;try{t.$digest()}catch(c){throw h(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&x.push(b),s()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,n(e,1,a))}},$emit:function(a){var b,c,d,e=[],f=this,g=!1,i={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=H([i],arguments,1);do{for(b=f.$$listeners[a]||e,i.currentScope=f,c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){h(k)}else b.splice(c,1),c--,d--;if(g)return i.currentScope=null,i;f=f.$parent}while(f);return i.currentScope=null,i},$broadcast:function(a){var b=this,c=this,d={name:a,targetScope:this,preventDefault:function(){d.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return d;for(var e,f,g=H([d],arguments,1);b=c;){for(d.currentScope=b,c=b.$$listeners[a]||[],e=0,f=c.length;f>e;e++)if(c[e])try{c[e].apply(null,g)}catch(i){h(i)}else c.splice(e,1),e--,f--;if(!(c=b.$$listenerCount[a]&&b.$$childHead||b!==this&&b.$$nextSibling))for(;b!==this&&!(c=b.$$nextSibling);)b=b.$parent}return d.currentScope=null,d}};var t=new k,u=t.$$asyncQueue=[],w=t.$$postDigestQueue=[],x=t.$$applyAsyncQueue=[];return t}]}function Gc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return q(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return q(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Pc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function Hc(a){if("self"===a)return a;if(s(a)){if(-1<a.indexOf("***"))throw Je("iwcard",a);return a=Jd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(w(a))return new RegExp("^"+a.source+"$");throw Je("imatcher")}function Ic(a){var b=[];return q(a)&&f(a,function(a){b.push(Hc(a))}),b}function Jc(){this.SCE_CONTEXTS=Ke;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Ic(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Ic(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?Qc(b):!!a.exec(b.href)}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var g=function(){throw Je("unsafe")};d.has("$sanitize")&&(g=d.get("$sanitize"));var h=f(),i={};return i[Ke.HTML]=f(h),i[Ke.CSS]=f(h),i[Ke.URL]=f(h),i[Ke.JS]=f(h),i[Ke.RESOURCE_URL]=f(i[Ke.URL]),{trustAs:function(a,b){var d=i.hasOwnProperty(a)?i[a]:null;if(!d)throw Je("icontext",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw Je("itype",a);return new d(b)},getTrusted:function(d,f){if(null===f||f===c||""===f)return f;var h=i.hasOwnProperty(d)?i[d]:null;if(h&&f instanceof h)return f.$$unwrapTrustedValue();if(d===Ke.RESOURCE_URL){var j,k,h=Pc(f.toString()),l=!1;for(j=0,k=a.length;k>j;j++)if(e(a[j],h)){l=!0;break}if(l)for(j=0,k=b.length;k>j;j++)if(e(b[j],h)){l=!1;break}if(l)return f;throw Je("insecurl",f.toString())}if(d===Ke.HTML)return g(f);throw Je("unsafe")},valueOf:function(a){return a instanceof h?a.$$unwrapTrustedValue():a}}}]}function Kc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>rd)throw Je("iequirks");var d=F(Ke);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=n),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(Ke,function(a,b){var c=wd(b);d[fb("parse_as_"+c)]=function(b){return e(a,b)},d[fb("get_trusted_"+c)]=function(b){return g(a,b)},d[fb("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function Lc(){this.$get=["$window","$document",function(a,b){var c,d={},e=l((/android (\d+)/.exec(wd((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h=/^(Moz|webkit|ms)(?=[A-Z])/,i=g.body&&g.body.style,j=!1,k=!1;if(i){for(var m in i)if(j=h.exec(m)){c=j[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in i&&"webkit"),j=!!("transition"in i||c+"Transition"in i),k=!!("animation"in i||c+"Animation"in i),!e||j&&k||(j=s(g.body.style.webkitTransition),k=s(g.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>e||f),hasEvent:function(a){if("input"===a&&11>=rd)return!1;if(p(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Kd(),vendorPrefix:c,transitions:j,animations:k,android:e}}]}function Mc(){this.$get=["$templateCache","$http","$q",function(a,b,c){function d(e,f){d.totalPendingRequests++;var g=b.defaults&&b.defaults.transformResponse;return Hd(g)?g=g.filter(function(a){return a!==Ub}):g===Ub&&(g=null),b.get(e,{cache:a,transformResponse:g}).then(function(a){return d.totalPendingRequests--,a.data},function(a){if(d.totalPendingRequests--,!f)throw le("tpload",e);return c.reject(a)})}return d.totalPendingRequests=0,d}]}function Nc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var d=[];return f(a,function(a){var e=Ed.element(a).data("$binding");e&&f(e,function(e){c?new RegExp("(^|\\s)"+Jd(b)+"(\\s|\\||$)").test(e)&&d.push(a):-1!=e.indexOf(b)&&d.push(a)})}),d},findModels:function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=a.querySelectorAll("["+d[e]+"model"+(c?"=":"*=")+'"'+b+'"]');if(f.length)return f}},getLocation:function(){return c.url()},setLocation:function(b){b!==c.url()&&(c.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Oc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){var j=q(i)&&!i,k=(j?d:c).defer(),l=k.promise;return h=b.defer(function(){try{k.resolve(f())}catch(b){k.reject(b),e(b)}finally{delete g[l.$$timeoutId]}j||a.$apply()},h),l.$$timeoutId=h,g[h]=k,l}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function Pc(a){return rd&&(Le.setAttribute("href",a),a=Le.href),Le.setAttribute("href",a),{href:Le.href,protocol:Le.protocol?Le.protocol.replace(/:$/,""):"",host:Le.host,search:Le.search?Le.search.replace(/^\?/,""):"",hash:Le.hash?Le.hash.replace(/^#/,""):"",hostname:Le.hostname,port:Le.port,pathname:"/"===Le.pathname.charAt(0)?Le.pathname:"/"+Le.pathname}}function Qc(a){return a=s(a)?Pc(a):a,a.protocol===Me.protocol&&a.host===Me.host}function Rc(){this.$get=o(a)}function Sc(a){function b(c,d){if(r(c)){var e={};return f(c,function(a,c){e[c]=b(c,a)}),e}return a.factory(c+"Filter",d)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Wc),b("date",cd),b("filter",Tc),b("json",dd),b("limitTo",ed),b("lowercase",Re),b("number",Xc),b("orderBy",fd),b("uppercase",Se)}function Tc(){return function(a,b,c){if(!Hd(a))return a;var d;switch(typeof b){case"function":break;case"boolean":case"number":case"string":d=!0;case"object":b=Uc(b,c,d);break;default:return a}return a.filter(b)}}function Uc(a,b,c){var d=r(a)&&"$"in a;return!0===b?b=G:v(b)||(b=function(a,b){return r(a)||r(b)?!1:(a=wd(""+a),b=wd(""+b),-1!==a.indexOf(b))}),function(e){return d&&!r(e)?Vc(e,a.$,b,!1):Vc(e,a,b,c)}}function Vc(a,b,c,d,e){var f=typeof a,g=typeof b;if("string"===g&&"!"===b.charAt(0))return!Vc(a,b.substring(1),c,d);if(Hd(a))return a.some(function(a){return Vc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Vc(a[h],b,c,!0))return!0;return e?!1:Vc(a,b,c,!1)}if("object"===g){for(h in b)if(e=b[h],!v(e)&&(f="$"===h,!Vc(f?a:a[h],e,c,f,f)))return!1;return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Wc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return p(c)&&(c=b.CURRENCY_SYM),p(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Yc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Xc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Yc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Yc(a,b,c,d,e){if(!isFinite(a)||r(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?a=0:(h=g,j=!0)}if(j)e>0&&1>a&&(h=a.toFixed(e),a=parseFloat(h));else{g=(g.split(Ne)[1]||"").length,p(e)&&(e=Math.min(Math.max(b.minFrac,g),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var g=(""+a).split(Ne),j=g[0],g=g[1]||"",l=0,m=b.lgSize,n=b.gSize;if(j.length>=m+n)for(l=j.length-m,k=0;l>k;k++)0===(l-k)%n&&0!==k&&(h+=c),h+=j.charAt(k);for(k=l;k<j.length;k++)0===(j.length-k)%m&&0!==k&&(h+=c),h+=j.charAt(k);for(;g.length<e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}return 0===a&&(f=!1),i.push(f?b.negPre:b.posPre,h,f?b.negSuf:b.posSuf),i.join("")}function Zc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function $c(a,b,c,d){return c=c||0,function(e){return e=e["get"+a](),(c>0||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),Zc(e,b,d)}}function _c(a,b){return function(c,d){var e=c["get"+a](),f=yd(b?"SHORT"+a:a);return d[f][e]}}function ad(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function bd(a){return function(b){var c=ad(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+c,b=1+Math.round(b/6048e5),Zc(b,a)}}function cd(a){function b(a){var b;if(b=a.match(c)){a=new Date(0);var d=0,e=0,f=b[8]?a.setUTCFullYear:a.setFullYear,g=b[8]?a.setUTCHours:a.setHours;b[9]&&(d=l(b[9]+b[10]),e=l(b[9]+b[11])),f.call(a,l(b[1]),l(b[2])-1,l(b[3])),d=l(b[4]||0)-d,e=l(b[5]||0)-e,f=l(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),g.call(a,d,e,f,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,s(c)&&(c=Qe.test(c)?l(c):b(c)),t(c)&&(c=new Date(c)),!u(c))return c;for(;d;)(h=Pe.exec(d))?(j=H(j,h,1),d=j.pop()):(j.push(d),d=null);return e&&"UTC"===e&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset())),f(j,function(b){g=Oe[b],i+=g?g(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function dd(){return function(a,b){return p(b)&&(b=2),K(a,b)}}function ed(){return function(a,b){return t(a)&&(a=a.toString()),Hd(a)||s(a)?(b=1/0===Math.abs(Number(b))?Number(b):l(b))?b>0?a.slice(0,b):a.slice(b):s(a)?"":[]:a}}function fd(a){return function(b,c,d){function f(a,b){return b?function(b,c){return a(c,b)}:a}function g(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function h(a){return null===a?"null":"function"==typeof a.valueOf&&(a=a.valueOf(),g(a))||"function"==typeof a.toString&&(a=a.toString(),g(a))?a:""}function i(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(a=h(a),b=h(b)),c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}return e(b)?(c=Hd(c)?c:[c],0===c.length&&(c=["+"]),c=c.map(function(b){var c=!1,d=b||n;if(s(b)){if(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),""===b)return f(i,c);if(d=a(b),d.constant){var e=d();return f(function(a,b){return i(a[e],b[e])},c)}}return f(function(a,b){return i(d(a),d(b))},c)}),zd.call(b).sort(f(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))):b}}function gd(a){return v(a)&&(a={link:a}),a.restrict=a.restrict||"AC",o(a)}function hd(a,b,d,e,g){var h=this,i=[],j=h.$$parentForm=a.parent().controller("form")||Ve;h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,j.$addControl(h),h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){_(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a)},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),D(i,a)},pd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(D(d,c),0===d.length&&delete a[b])},parentForm:j,$animate:e}),h.$setDirty=function(){e.removeClass(a,Df),e.addClass(a,Ef),h.$dirty=!0,h.$pristine=!1,j.$setDirty()},h.$setPristine=function(){e.setClass(a,Df,Ef+" ng-submitted"),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,"ng-submitted"),h.$submitted=!0,j.$setSubmitted()}}function id(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function jd(a,b,c,d,e,f){var g=wd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val();a=a&&a.type,"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Id(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){b.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function kd(a,b){return function(c,d){var e,g;if(u(c))return c;if(s(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Ze.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return 0/0}}function ld(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return q(a)?u(a)?a:d(a):c}md(f,g,h,i),jd(f,g,h,i,j,k);var o,r=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){return i.$isEmpty(a)?null:b.test(a)?(a=d(a,o),"UTC"===r&&a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),a):c}),i.$formatters.push(function(a){if(a&&!u(a))throw Gf("datefmt",a);if(m(a)){if((o=a)&&"UTC"===r){var b=6e4*o.getTimezoneOffset();o=new Date(o.getTime()+b)}return l("date")(a,e,r)}return o=null,""}),q(h.min)||h.ngMin){var s;i.$validators.min=function(a){return!m(a)||p(s)||d(a)>=s},h.$observe("min",function(a){s=n(a),i.$validate()})}if(q(h.max)||h.ngMax){var t;i.$validators.max=function(a){return!m(a)||p(t)||d(a)<=t},h.$observe("max",function(a){t=n(a),i.$validate()})}}}function md(a,b,d,e){(e.$$hasNativeValidators=r(b[0].validity))&&e.$parsers.push(function(a){var d=b.prop("validity")||{};return d.badInput&&!d.typeMismatch?c:a})}function nd(a,b,c,e,f){if(q(e)){if(a=a(e),!a.constant)throw d("ngModel")("constexpr",c,e);return a(b)}return f}function od(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(!Hd(a)){if(s(a))return a.split(" ");if(r(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}}return a}return{restrict:"AC",link:function(g,h,i){function j(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function k(a){if(!0===b||g.$index%2===b){var f=e(a||[]);if(l){if(!G(a,l)){var k=e(l),m=d(f,k),f=d(k,f),m=j(m,1),f=j(f,-1);m&&m.length&&c.addClass(h,m),f&&f.length&&c.removeClass(h,f)}}else{var m=j(f,1);i.$addClass(m)}}l=F(a)}var l;g.$watch(i[a],k,!0),i.$observe("class",function(){k(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?(f=j(h,1),i.$addClass(f)):(f=j(h,-1),i.$removeClass(f))}})}}}]}function pd(a){function b(a,b){b&&!g[a]?(k.addClass(f,a),g[a]=!0):!b&&g[a]&&(k.removeClass(f,a),g[a]=!1)}function d(a,c){a=a?"-"+X(a,"-"):"",b(Bf+a,!0===c),b(Cf+a,!1===c)}var e=a.ctrl,f=a.$element,g={},h=a.set,i=a.unset,j=a.parentForm,k=a.$animate;g[Cf]=!(g[Bf]=f.hasClass(Bf)),e.$setValidity=function(a,f,g){f===c?(e.$pending||(e.$pending={}),h(e.$pending,a,g)):(e.$pending&&i(e.$pending,a,g),qd(e.$pending)&&(e.$pending=c)),z(f)?f?(i(e.$error,a,g),h(e.$$success,a,g)):(h(e.$error,a,g),i(e.$$success,a,g)):(i(e.$error,a,g),i(e.$$success,a,g)),e.$pending?(b(Ff,!0),e.$valid=e.$invalid=c,d("",null)):(b(Ff,!1),e.$valid=qd(e.$error),e.$invalid=!e.$valid,d("",e.$valid)),f=e.$pending&&e.$pending[a]?c:e.$error[a]?!1:e.$$success[a]?!0:null,d(a,f),j.$setValidity(a,f,e)}}function qd(a){if(a)for(var b in a)return!1;return!0}var rd,sd,td,ud,vd=/^\/(.+)\/([a-z]*)$/,wd=function(a){return s(a)?a.toLowerCase():a},xd=Object.prototype.hasOwnProperty,yd=function(a){return s(a)?a.toUpperCase():a},zd=[].slice,Ad=[].splice,Bd=[].push,Cd=Object.prototype.toString,Dd=d("ng"),Ed=a.angular||(a.angular={}),Fd=0;rd=b.documentMode,m.$inject=[],n.$inject=[];var Gd,Hd=Array.isArray,Id=function(a){return s(a)?a.trim():a},Jd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Kd=function(){if(q(Kd.isActive_))return Kd.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return Kd.isActive_=a},Ld=["ng-","data-ng-","ng:","x-ng-"],Md=/[A-Z]/g,Nd=!1,Od=1,Pd=3,Qd={full:"1.3.9",major:1,minor:3,dot:9,codeName:"snapshot"};ib.expando="ng339";var Rd=ib.cache={},Sd=1;ib._data=function(a){return this.cache[a[this.expando]]||{}};var Td=/([\:\-\_]+(.))/g,Ud=/^moz([A-Z])/,Vd={mouseleave:"mouseout",mouseenter:"mouseover"},Wd=d("jqLite"),Xd=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Yd=/<|&#?\w+;/,Zd=/<([\w:]+)/,$d=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_d={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_d.optgroup=_d.option,_d.tbody=_d.tfoot=_d.colgroup=_d.caption=_d.thead,_d.th=_d.td;var ae=ib.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),ib(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return sd(a>=0?this[a]:this[this.length+a])},length:0,push:Bd,sort:[].sort,splice:[].splice},be={};f("multiple selected checked disabled readOnly required open".split(" "),function(a){be[wd(a)]=a});var ce={};f("input select option textarea button form details".split(" "),function(a){ce[a]=!0});var de={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:ob,removeData:mb},function(a,b){ib[b]=a}),f({data:ob,inheritedData:ub,scope:function(a){return sd.data(a,"$scope")||ub(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return sd.data(a,"$isolateScope")||sd.data(a,"$isolateScopeNoTemplate")},controller:tb,injector:function(a){return ub(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:pb,css:function(a,b,c){return b=fb(b),q(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=wd(b);if(be[e]){if(!q(d))return a[b]||(a.attributes.getNamedItem(b)||m).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(q(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?c:a},prop:function(a,b,c){return q(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(p(b)){var c=a.nodeType;return c===Od||c===Pd?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(p(b)){if(a.multiple&&"select"===C(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return p(b)?a.innerHTML:(kb(a,!0),void(a.innerHTML=b))},empty:vb},function(a,b){ib.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==vb&&(2==a.length&&a!==pb&&a!==tb?b:d)===c){if(r(b)){for(e=0;g>e;e++)if(a===ob)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(e=a.$dv,g=e===c?Math.min(g,1):g,f=0;g>f;f++){var h=a(this[f],b,d);e=e?e+h:h}return e}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:mb,on:function dg(a,b,c,d){if(q(d))throw Wd("onargs");if(gb(a)){var e=nb(a,!0);d=e.events;var f=e.handle;f||(f=e.handle=Ab(a,d));for(var e=0<=b.indexOf(" ")?b.split(" "):[b],g=e.length;g--;){b=e[g];var h=d[b];h||(d[b]=[],"mouseenter"===b||"mouseleave"===b?dg(a,Vd[b],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||f(a,b)}):"$destroy"!==b&&a.addEventListener(b,f,!1),h=d[b]),h.push(c)}}},off:lb,one:function(a,b,c){a=sd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;kb(a),f(new ib(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===Od&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===Od||11===c){b=new ib(b);for(var c=0,d=b.length;d>c;c++)a.appendChild(b[c])}},prepend:function(a,b){if(a.nodeType===Od){var c=a.firstChild;f(new ib(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=sd(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:wb,detach:function(a){wb(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new ib(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:rb,removeClass:qb,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;p(d)&&(d=!pb(a,b)),(d?rb:qb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:jb,triggerHandler:function(a,b,c){var d,e,g=b.type||b,h=nb(a);(h=(h=h&&h.events)&&h[g])&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:g,target:a},b.type&&(d=k(d,b)),b=F(h),e=c?[d].concat(c):[d],f(b,function(b){d.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){ib.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)p(e)?(e=a(this[f],b,c,d),q(e)&&(e=sd(e))):sb(e,a(this[f],b,c,d));return q(e)?e:this},ib.prototype.bind=ib.prototype.on,ib.prototype.unbind=ib.prototype.off}),Db.prototype={put:function(a,b){this[Cb(a,this.nextUid)]=b},get:function(a){return this[Cb(a,this.nextUid)]},remove:function(a){var b=this[a=Cb(a,this.nextUid)];return delete this[a],b}};var ee=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,fe=/,/,ge=/^\s*(_?)(\S+?)\1\s*$/,he=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ie=d("$injector");Gb.$$annotate=Fb;var je=d("$animate"),ke=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw je("notcsel",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(a,b,c){function d(b){var d,e=a.defer();return e.promise.$$cancelFn=function(){d&&d()},c.$$postDigest(function(){d=b(function(){e.resolve()})}),e.promise}function e(a,b){var c=[],d=[],e=cb();return f((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0}),f(b,function(a,b){var f=e[b];!1===a&&f?d.push(b):!0!==a||f||c.push(b)}),0<c.length+d.length&&[c.length?c:null,d.length?d:null]}function g(a,b,c){for(var d=0,e=b.length;e>d;++d)a[b[d]]=c}function h(){return j||(j=a.defer(),b(function(){j.resolve(),j=null})),j.promise}function i(a,b){if(Ed.isObject(b)){var c=k(b.from||{},b.to||{});a.css(c)}}var j;return{animate:function(a,b,c){return i(a,{from:b,to:c}),h()},enter:function(a,b,c,d){return i(a,d),c?c.after(a):b.prepend(a),h()},leave:function(a){return a.remove(),h()},move:function(a,b,c,d){return this.enter(a,b,c,d)},addClass:function(a,b,c){return this.setClass(a,b,[],c)},$$addClassImmediately:function(a,b,c){return a=sd(a),b=s(b)?b:Hd(b)?b.join(" "):"",f(a,function(a){rb(a,b)}),i(a,c),h()},removeClass:function(a,b,c){return this.setClass(a,[],b,c)
},$$removeClassImmediately:function(a,b,c){return a=sd(a),b=s(b)?b:Hd(b)?b.join(" "):"",f(a,function(a){qb(a,b)}),i(a,c),h()},setClass:function(a,b,c,f){var h=this,i=!1;a=sd(a);var j=a.data("$$animateClasses");return j?f&&j.options&&(j.options=Ed.extend(j.options||{},f)):(j={classes:{},options:f},i=!0),f=j.classes,b=Hd(b)?b:b.split(" "),c=Hd(c)?c:c.split(" "),g(f,b,!0),g(f,c,!1),i&&(j.promise=d(function(b){var c=a.data("$$animateClasses");if(a.removeData("$$animateClasses"),c){var d=e(a,c.classes);d&&h.$$setClassImmediately(a,d[0],d[1],c.options)}b()}),a.data("$$animateClasses",j)),j.promise},$$setClassImmediately:function(a,b,c,d){return b&&this.$$addClassImmediately(a,b),c&&this.$$removeClassImmediately(a,c),i(a,d),h()},enabled:m,cancel:m}}]}],le=d("$compile");Nb.$inject=["$provide","$$sanitizeUriProvider"];var me=/^((?:x|data)[\:\-_])/i,ne="application/json",oe={"Content-Type":ne+";charset=utf-8"},pe=/^\[|^\{(?!\{)/,qe={"[":/]$/,"{":/}$/},re=/^\)\]\}',?\n/,se=d("$interpolate"),te=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ue={http:80,https:443,ftp:21},ve=d("$location"),we={$$html5:!1,$$replace:!1,absUrl:nc("$$absUrl"),url:function(a){if(p(a))return this.$$url;var b=te.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:nc("$$protocol"),host:nc("$$host"),port:nc("$$port"),path:oc("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(s(a)||t(a))a=a.toString(),this.$$search=O(a);else{if(!r(a))throw ve("isrcharg");a=E(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:p(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:oc("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([mc,lc,kc],function(a){a.prototype=Object.create(we),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==kc||!this.$$html5)throw ve("nostate");return this.$$state=p(b)?null:b,this}});var xe=d("$parse"),ye=Function.prototype.call,ze=Function.prototype.apply,Ae=Function.prototype.bind,Be=cb();f({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,b){a.constant=a.literal=a.sharedGetter=!0,Be[b]=a}),Be["this"]=function(a){return a},Be["this"].sharedGetter=!0;var Ce=k(cb(),{"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),q(d)?q(e)?d+e:d:q(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(q(c)?c:0)-(q(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"!":function(a,b,c){return!c(a,b)},"=":!0,"|":!0}),De={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ee=function(a){this.options=a};Ee.prototype={constructor:Ee,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),c=b+this.peek(2),d=Ce[b],e=Ce[c];Ce[a]||d||e?(a=e?c:d?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){throw c=c||this.index,b=q(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c,xe("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=wd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),d=d+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,c+=String.fromCharCode(parseInt(e,16))):c+=De[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Fe=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};Fe.ZERO=k(function(){return 0},{sharedGetter:!0,constant:!0}),Fe.prototype={constructor:Fe,parse:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a.literal=!!a.literal,a.constant=!!a.constant,a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in Be?a=Be[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b,c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw xe("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw xe("ueoe",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===c||f===d||f===e||!(b||c||d||e))return a}return!1},expect:function(a,b,c,d){return(a=this.peek(a,b,c,d))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw xe("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},unaryFn:function(a,b){var c=Ce[a];return k(function(a,d){return c(a,d,b)},{constant:b.constant,inputs:[b]})},binaryFn:function(a,b,c,d){var e=Ce[b];return k(function(b,d){return e(b,d,a,c)},{constant:a.constant&&c.constant,inputs:!d&&[a,c]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return yc(a,this.options,this.text)},constant:function(){var a=this.consume().value;return k(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0,f=a.length;f>e;e++)d=a[e](b,c);return d}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var b,d,e=this.$filter(this.consume().text);if(this.peek(":"))for(b=[],d=[];this.expect(":");)b.push(this.expression());var f=[a].concat(b||[]);return k(function(f,g){var h=a(f,g);if(d){for(d[0]=h,h=b.length;h--;)d[h+1]=b[h](f,g);return e.apply(c,d)}return e(h)},{constant:!e.$stateful&&f.every(tc),inputs:!e.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),k(function(b,d){return c.assign(b,a(b,d),d)},{inputs:[c,a]})):c},ternary:function(){var a,b=this.logicalOR();if(this.expect("?")&&(a=this.assignment(),this.consume(":"))){var c=this.assignment();return k(function(d,e){return b(d,e)?a(d,e):c(d,e)},{constant:b.constant&&a.constant&&c.constant})}return b},logicalOR:function(){for(var a,b=this.logicalAND();a=this.expect("||");)b=this.binaryFn(b,a.text,this.logicalAND(),!0);return b},logicalAND:function(){for(var a,b=this.equality();a=this.expect("&&");)b=this.binaryFn(b,a.text,this.equality(),!0);return b},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b=this.binaryFn(b,a.text,this.relational());return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b=this.binaryFn(b,a.text,this.additive());return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.text,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.text,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(Fe.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var b=this.identifier();return k(function(d,e,f){return d=f||a(d,e),null==d?c:b(d)},{assign:function(c,d,e){var f=a(c,e);return f||a.assign(c,f={},e),b.assign(f,d)}})},objectIndex:function(a){var b=this.text,d=this.expression();return this.consume("]"),k(function(e,f){var g=a(e,f),h=d(e,f);return rc(h,b),g?sc(g[h],b):c},{assign:function(c,e,f){var g=rc(d(c,f),b),h=sc(a(c,f),b);return h||a.assign(c,h={},f),h[g]=e}})},functionCall:function(a,b){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var i=b?b(g,h):q(b)?c:g,j=a(g,h,i)||m;if(f)for(var k=d.length;k--;)f[k]=sc(d[k](g,h),e);if(sc(i,e),j){if(j.constructor===j)throw xe("isecfn",e);if(j===ye||j===ze||j===Ae)throw xe("isecff",e)}return i=j.apply?j.apply(i,f||[]):j(f[0],f[1],f[2],f[3],f[4]),sc(i,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),k(function(b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push(a[e](b,c));return d},{literal:!0,constant:a.every(tc),inputs:a})},object:function(){var a=[],b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.consume();c.constant?a.push(c.value):c.identifier?a.push(c.text):this.throwError("invalid key",c),this.consume(":"),b.push(this.expression())}while(this.expect(","));return this.consume("}"),k(function(c,d){for(var e={},f=0,g=b.length;g>f;f++)e[a[f]]=b[f](c,d);return e},{literal:!0,constant:b.every(tc),inputs:b})}};var Ge=cb(),He=cb(),Ie=Object.prototype.valueOf,Je=d("$sce"),Ke={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},le=d("$compile"),Le=b.createElement("a"),Me=Pc(a.location.href);Sc.$inject=["$provide"],Wc.$inject=["$locale"],Xc.$inject=["$locale"];var Ne=".",Oe={yyyy:$c("FullYear",4),yy:$c("FullYear",2,0,!0),y:$c("FullYear",1),MMMM:_c("Month"),MMM:_c("Month",!0),MM:$c("Month",2,1),M:$c("Month",1,1),dd:$c("Date",2),d:$c("Date",1),HH:$c("Hours",2),H:$c("Hours",1),hh:$c("Hours",2,-12),h:$c("Hours",1,-12),mm:$c("Minutes",2),m:$c("Minutes",1),ss:$c("Seconds",2),s:$c("Seconds",1),sss:$c("Milliseconds",3),EEEE:_c("Day"),EEE:_c("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a){return a=-1*a.getTimezoneOffset(),a=(a>=0?"+":"")+(Zc(Math[a>0?"floor":"ceil"](a/60),2)+Zc(Math.abs(a%60),2))},ww:bd(2),w:bd(1)},Pe=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Qe=/^\-?\d+$/;cd.$inject=["$locale"];var Re=o(wd),Se=o(yd);fd.$inject=["$parse"];var Te=o({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref||b.name?void 0:function(a,b){var c="[object SVGAnimatedString]"===Cd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),Ue={};f(be,function(a,b){if("multiple"!=a){var c=Ob("ng-"+b);Ue[c]=function(){return{restrict:"A",priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(de,function(a,b){Ue[b]=function(){return{priority:100,link:function(a,c,d){return"ngPattern"===b&&"/"==d.ngPattern.charAt(0)&&(c=d.ngPattern.match(vd))?void d.$set("ngPattern",new RegExp(c[1],c[2])):void a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=Ob("ng-"+a);Ue[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Cd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),rd&&f&&d.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Ve={$addControl:m,$$renameControl:function(a,b){a.$name=b},$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m};hd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var We=function(a){return["$timeout",function(b){return{name:"form",restrict:a?"EAC":"E",controller:hd,compile:function(a){return a.addClass(Df).addClass(Bf),{pre:function(a,d,e,f){if(!("action"in e)){var g=function(b){a.$apply(function(){f.$commitViewValue(),f.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",g,!1),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",g,!1)},0,!1)})}var h=f.$$parentForm,i=f.$name;i&&(uc(a,null,i,f,i),e.$observe(e.name?"name":"ngForm",function(b){i!==b&&(uc(a,null,i,c,i),i=b,uc(a,null,i,f,i),h.$$renameControl(f,i))})),d.on("$destroy",function(){h.$removeControl(f),i&&uc(a,null,i,c,i),k(f,Ve)})}}}}}]},Xe=We(),Ye=We(!0),Ze=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$e=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,_e=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,af=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,bf=/^(\d{4})-(\d{2})-(\d{2})$/,cf=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,df=/^(\d{4})-W(\d\d)$/,ef=/^(\d{4})-(\d\d)$/,ff=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,gf={text:function(a,b,c,d,e,f){jd(a,b,c,d,e,f),id(d)},date:ld("date",bf,kd(bf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ld("datetimelocal",cf,kd(cf,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ld("time",ff,kd(ff,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ld("week",df,function(a,b){if(u(a))return a;if(s(a)){df.lastIndex=0;var c=df.exec(a);if(c){var d=+c[1],e=+c[2],f=c=0,g=0,h=0,i=ad(d),e=7*(e-1);return b&&(c=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds()),new Date(d,0,i.getDate()+e,c,f,g,h)}}return 0/0},"yyyy-Www"),month:ld("month",ef,kd(ef,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,e,f,g){if(md(a,b,d,e),jd(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:af.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!t(a))throw Gf("numfmt",a);a=a.toString()}return a}),d.min||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||p(h)||a>=h},d.$observe("min",function(a){q(a)&&!t(a)&&(a=parseFloat(a,10)),h=t(a)&&!isNaN(a)?a:c,e.$validate()})}if(d.max||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||p(i)||i>=a},d.$observe("max",function(a){q(a)&&!t(a)&&(a=parseFloat(a,10)),i=t(a)&&!isNaN(a)?a:c,e.$validate()})}},url:function(a,b,c,d,e,f){jd(a,b,c,d,e,f),id(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||$e.test(c)}},email:function(a,b,c,d,e,f){jd(a,b,c,d,e,f),id(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||_e.test(c)}},radio:function(a,b,c,d){p(c.name)&&b.attr("name",++Fd),b.on("click",function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)}),d.$render=function(){b[0].checked=c.value==d.$viewValue},c.$observe("value",d.$render)},checkbox:function(a,b,c,d,e,f,g,h){var i=nd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=nd(h,a,"ngFalseValue",c.ngFalseValue,!1);b.on("click",function(a){d.$setViewValue(b[0].checked,a&&a.type)}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return!1===a},d.$formatters.push(function(a){return G(a,i)}),d.$parsers.push(function(a){return a?i:j})},hidden:m,button:m,submit:m,reset:m,file:m},hf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(gf[wd(g.type)]||gf.text)(e,f,g,h[0],b,a,c,d)}}}}],jf=/^(true|false|\d+)$/,kf=function(){return{restrict:"A",priority:100,compile:function(a,b){return jf.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},lf=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,d,e){a.$$addBindingInfo(d,e.ngBind),d=d[0],b.$watch(e.ngBind,function(a){d.textContent=a===c?"":a})}}}}],mf=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(d,e,f){d=a(e.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(e,d.expressions),e=e[0],f.$observe("ngBindTemplate",function(a){e.textContent=a===c?"":a})}}}}],nf=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],of=o({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),pf=od("",!0),qf=od("Odd",0),rf=od("Even",1),sf=gd({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),tf=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],uf={},vf={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ob("ng-"+a);uf[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};vf[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var wf=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=bb(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],xf=["$templateRequest","$anchorScroll","$animate","$sce",function(a,b,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ed.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",i=f.autoscroll;return function(e,f,j,k,l){var m,n,o,p=0,r=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};e.$watch(d.parseAsResourceUrl(g),function(d){var g=function(){!q(i)||i&&!e.$eval(i)||b()},j=++p;d?(a(d,!0).then(function(a){if(j===p){var b=e.$new();k.template=a,a=l(b,function(a){r(),c.enter(a,null,f).then(g)}),m=b,o=a,m.$emit("$includeContentLoaded",d),e.$eval(h)}},function(){j===p&&(r(),e.$emit("$includeContentError",d))}),e.$emit("$includeContentRequested",d)):(r(),k.template=null)})}}}}],yf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(hb(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],zf=gd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Af=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?Id(g):g;e.$parsers.push(function(a){if(!p(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?Id(a):a)}),b}}),e.$formatters.push(function(a){return Hd(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},Bf="ng-valid",Cf="ng-invalid",Df="ng-pristine",Ef="ng-dirty",Ff="ng-pending",Gf=new d("ngModel"),Hf=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a);var n=g(d.ngModel),o=n.assign,r=n,s=o,u=null,w=this;this.$$setOptions=function(a){if((w.$options=a)&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");r=function(a){var c=n(a);return v(c)&&(c=b(a)),c},s=function(a){v(n(a))?c(a,{$$$p:w.$modelValue}):o(a,w.$modelValue)}}else if(!n.assign)throw Gf("nonassign",d.ngModel,M(e))},this.$render=m,this.$isEmpty=function(a){return p(a)||""===a||null===a||a!==a};var x=e.inheritedData("$formController")||Ve,y=0;pd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:x,$animate:h}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,h.removeClass(e,Ef),h.addClass(e,Df)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,h.removeClass(e,Df),h.addClass(e,Ef),x.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,h.setClass(e,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,h.setClass(e,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){i.cancel(u),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!t(w.$modelValue)||!isNaN(w.$modelValue)){var a=w.$$rawModelValue,b=w.$valid,d=w.$modelValue,e=w.$options&&w.$options.allowInvalid;w.$$runValidators(w.$error[w.$$parserName||"parse"]?!1:c,a,w.$$lastCommittedViewValue,function(f){e||b===f||(w.$modelValue=f?a:c,w.$modelValue!==d&&w.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d,e){function g(){var a=!0;return f(w.$validators,function(c,e){var f=c(b,d);a=a&&f,i(e,f)}),a?!0:(f(w.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var a=[],e=!0;f(w.$asyncValidators,function(f,g){var h=f(b,d);if(!h||!v(h.then))throw Gf("$asyncValidators",h);i(g,c),a.push(h.then(function(){i(g,!0)},function(){e=!1,i(g,!1)}))}),a.length?k.all(a).then(function(){j(e)},m):j(!0)}function i(a,b){l===y&&w.$setValidity(a,b)}function j(a){l===y&&e(a)}y++;var l=y;(function(a){var b=w.$$parserName||"parse";if(a===c)i(b,null);else if(i(b,a),!a)return f(w.$validators,function(a,b){i(b,null)}),f(w.$asyncValidators,function(a,b){i(b,null)}),!1;return!0})(a)&&g()?h():j(!1)},this.$commitViewValue=function(){var a=w.$viewValue;i.cancel(u),(w.$$lastCommittedViewValue!==a||""===a&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=a,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var b=w.$$lastCommittedViewValue,d=p(b)?c:!0;if(d)for(var e=0;e<w.$parsers.length;e++)if(b=w.$parsers[e](b),p(b)){d=!1;break}t(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=r(a));var f=w.$modelValue,g=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=b,g&&(w.$modelValue=b,w.$modelValue!==f&&w.$$writeModelToScope()),w.$$runValidators(d,b,w.$$lastCommittedViewValue,function(a){g||(w.$modelValue=a?b:c,w.$modelValue!==f&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){s(a,w.$modelValue),f(w.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){w.$viewValue=a,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c=0,d=w.$options;d&&q(d.debounce)&&(d=d.debounce,t(d)?c=d:t(d[b])?c=d[b]:t(d["default"])&&(c=d["default"])),i.cancel(u),c?u=i(function(){w.$commitViewValue()},c):j.$$phase?w.$commitViewValue():a.$apply(function(){w.$commitViewValue()})},a.$watch(function(){var b=r(a);if(b!==w.$modelValue){w.$modelValue=w.$$rawModelValue=b;for(var d=w.$formatters,e=d.length,f=b;e--;)f=d[e](f);w.$viewValue!==f&&(w.$viewValue=w.$$lastCommittedViewValue=f,w.$render(),w.$$runValidators(c,b,f,m))}return b})}],If=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Hf,priority:1,compile:function(b){return b.addClass(Df).addClass("ng-untouched").addClass(Bf),{pre:function(a,b,c,d){var e=d[0],f=d[1]||Ve;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)}),a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],Jf=/(\s+|^)default(\s+|$)/,Kf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=a.$eval(b.ngModelOptions),this.$options.updateOn!==c?(this.$options.updateOnDefault=!1,this.$options.updateOn=Id(this.$options.updateOn.replace(Jf,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Lf=gd({terminal:!0,priority:1e3}),Mf=["$locale","$interpolate",function(a,b){var c=/{}/g,d=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(e,g,h){function i(a){g.text(a||"")}var j,k=h.count,l=h.$attr.when&&g.attr(h.$attr.when),m=h.offset||0,n=e.$eval(l)||{},o={},l=b.startSymbol(),p=b.endSymbol(),q=l+k+"-"+m+p,r=Ed.noop;f(h,function(a,b){var c=d.exec(b);c&&(c=(c[1]?"-":"")+wd(c[2]),n[c]=g.attr(h.$attr[b]))}),f(n,function(a,d){o[d]=b(a.replace(c,q))}),e.$watch(k,function(b){b=parseFloat(b);var c=isNaN(b);c||b in n||(b=a.pluralCat(b-m)),b===j||c&&isNaN(j)||(r(),r=e.$watch(o[b],i),j=b)})}}}],Nf=["$parse","$animate",function(a,g){var h=d("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,j){var k=j.ngRepeat,l=b.createComment(" end ngRepeat: "+k+" "),m=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw h("iexp",k);var n=m[1],o=m[2],p=m[3],q=m[4],m=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!m)throw h("iidexp",n);var r=m[3]||m[1],s=m[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(p)))throw h("badident",p);var t,u,v,w,x={$id:Cb};return q?t=a(q):(v=function(a,b){return Cb(b)},w=function(a){return a}),function(a,b,d,j,m){t&&(u=function(b,c,d){return s&&(x[s]=b),x[r]=c,x.$index=d,t(a,x)});var n=cb();a.$watchCollection(o,function(d){var j,o,q,t,x,y,z,A,B,C,D=b[0],E=cb();if(p&&(a[p]=d),e(d))A=d,o=u||v;else{o=u||w,A=[];for(C in d)d.hasOwnProperty(C)&&"$"!=C.charAt(0)&&A.push(C);A.sort()}for(t=A.length,C=Array(t),j=0;t>j;j++)if(x=d===A?j:A[j],y=d[x],z=o(x,y,j),n[z])B=n[z],delete n[z],E[z]=B,C[j]=B;else{if(E[z])throw f(C,function(a){a&&a.scope&&(n[a.id]=a)}),h("dupes",k,z,y);C[j]={id:z,scope:c,clone:c},E[z]=!0}for(q in n){if(B=n[q],z=bb(B.clone),g.leave(z),z[0].parentNode)for(j=0,o=z.length;o>j;j++)z[j].$$NG_REMOVED=!0;B.scope.$destroy()}for(j=0;t>j;j++)if(x=d===A?j:A[j],y=d[x],B=C[j],B.scope){q=D;do q=q.nextSibling;while(q&&q.$$NG_REMOVED);B.clone[0]!=q&&g.move(bb(B.clone),null,sd(D)),D=B.clone[B.clone.length-1],i(B.scope,j,r,y,s,x,t)}else m(function(a,b){B.scope=b;var c=l.cloneNode(!1);a[a.length++]=c,g.enter(a,null,sd(D)),D=c,B.clone=a,E[B.id]=B,i(B.scope,j,r,y,s,x,t)});n=E})}}}}],Of=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Pf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Qf=gd(function(a,b,c){a.$watchCollection(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)})}),Rf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=[],i=[],j=[],k=[],l=function(a,b){return function(){a.splice(b,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=j.length;e>d;++d)a.cancel(j[d]);for(d=j.length=0,e=k.length;e>d;++d){var m=bb(i[d].clone);k[d].$destroy(),(j[d]=a.leave(m)).then(l(j,d))}i.length=0,k.length=0,(h=g.cases["!"+c]||g.cases["?"])&&f(h,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: "),i.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],Sf=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Tf=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Uf=gd({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan",M(b));f(function(a){b.empty(),b.append(a)})}}),Vf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){"text/ng-template"==c.type&&a.put(c.id,b[0].text)}}}],Wf=d("ngOptions"),Xf=o({restrict:"A",terminal:!0}),Yf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,g={$setViewValue:m};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e=this,f={},h=g;e.databound=c.ngModel,e.init=function(a,b,c){h=a,d=c},e.addOption=function(b,c){_(b,'"option value"'),f[b]=!0,h.$viewValue==b&&(a.val(b),d.parent()&&d.remove()),c&&c[0].hasAttribute("selected")&&(c[0].selected=!0)},e.removeOption=function(a){this.hasOption(a)&&(delete f[a],h.$viewValue===a&&this.renderUnknownOption(a))},e.renderUnknownOption=function(b){b="? "+Cb(b)+" ?",d.val(b),a.prepend(d),a.val(b),d.prop("selected",!0)},e.hasOption=function(a){return f.hasOwnProperty(a)
},b.$on("$destroy",function(){e.renderUnknownOption=m})}],link:function(g,h,i,j){function k(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(x.parent()&&x.remove(),b.val(a),""===a&&o.prop("selected",!0)):p(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){x.parent()&&x.remove(),c.$setViewValue(b.val())})})}function l(a,b,c){var d;c.$render=function(){var a=new Db(c.$viewValue);f(b.find("option"),function(b){b.selected=q(a.get(b.value))})},a.$watch(function(){G(d,c.$viewValue)||(d=F(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function m(b,g,h){function i(a,c,d){return H[x]=d,A&&(H[A]=c),a(b,H)}function j(a){var b;if(r)if(E&&Hd(a)){b=new Db([]);for(var c=0;c<a.length;c++)b.put(i(E,null,a[c]),!0)}else b=new Db(a);else E&&(a=i(E,null,a));return function(c,d){var e;return e=E?E:z?z:C,r?q(b.remove(i(e,c,d))):a===i(e,c,d)}}function k(){u||(b.$$postDigest(m),u=!0)}function l(a,b,c){a[b]=a[b]||0,a[b]+=c?1:-1}function m(){u=!1;var a,c,d,e,k,m={"":[]},o=[""];d=h.$viewValue,e=D(b)||[];var s,x,y,z,C=A?Object.keys(e).sort():e,I={};k=j(d);var J,K,L=!1;for(F={},z=0;y=C.length,y>z;z++)s=z,A&&(s=C[z],"$"===s.charAt(0))||(x=e[s],a=i(B,s,x)||"",(c=m[a])||(c=m[a]=[],o.push(a)),a=k(s,x),L=L||a,x=i(p,s,x),x=q(x)?x:"",K=E?E(b,H):A?C[z]:z,E&&(F[K]=s),c.push({id:K,label:x,selected:a}));for(r||(t||null===d?m[""].unshift({id:"",label:"",selected:!L}):L||m[""].unshift({id:"?",label:"",selected:!0})),s=0,C=o.length;C>s;s++){for(a=o[s],c=m[a],G.length<=s?(d={element:w.clone().attr("label",a),label:c.label},e=[d],G.push(e),g.append(d.element)):(e=G[s],d=e[0],d.label!=a&&d.element.attr("label",d.label=a)),L=null,z=0,y=c.length;y>z;z++)a=c[z],(k=e[z+1])?(L=k.element,k.label!==a.label&&(l(I,k.label,!1),l(I,a.label,!0),L.text(k.label=a.label),L.prop("label",k.label)),k.id!==a.id&&L.val(k.id=a.id),L[0].selected!==a.selected&&(L.prop("selected",k.selected=a.selected),rd&&L.prop("selected",k.selected))):(""===a.id&&t?J=t:(J=v.clone()).val(a.id).prop("selected",a.selected).attr("selected",a.selected).prop("label",a.label).text(a.label),e.push(k={element:J,label:a.label,id:a.id,selected:a.selected}),l(I,a.label,!0),L?L.after(J):d.element.append(J),L=J);for(z++;e.length>z;)a=e.pop(),l(I,a.label,!1),a.element.remove()}for(;G.length>s;){for(c=G.pop(),z=1;z<c.length;++z)l(I,c[z].label,!1);c[0].element.remove()}f(I,function(a,b){a>0?n.addOption(b):0>a&&n.removeOption(b)})}var o;if(!(o=s.match(e)))throw Wf("iexp",s,M(g));var p=d(o[2]||o[1]),x=o[4]||o[6],y=/ as /.test(o[0])&&o[1],z=y?d(y):null,A=o[5],B=d(o[3]||""),C=d(o[2]?o[1]:x),D=d(o[7]),E=o[8]?d(o[8]):null,F={},G=[[{element:g,label:""}]],H={};t&&(a(t)(b),t.removeClass("ng-scope"),t.remove()),g.empty(),g.on("change",function(){b.$apply(function(){var a,d=D(b)||[];if(r)a=[],f(g.val(),function(b){b=E?F[b]:b,a.push("?"===b?c:""===b?null:i(z?z:C,b,d[b]))});else{var e=E?F[g.val()]:g.val();a="?"===e?c:""===e?null:i(z?z:C,e,d[e])}h.$setViewValue(a),m()})}),h.$render=m,b.$watchCollection(D,k),b.$watchCollection(function(){var a,c=D(b);if(c&&Hd(c)){a=Array(c.length);for(var d=0,e=c.length;e>d;d++)a[d]=i(p,d,c[d])}else if(c)for(d in a={},c)c.hasOwnProperty(d)&&(a[d]=i(p,d,c[d]));return a},k),r&&b.$watchCollection(function(){return h.$modelValue},k)}if(j[1]){var n=j[0];j=j[1];var o,r=i.multiple,s=i.ngOptions,t=!1,u=!1,v=sd(b.createElement("option")),w=sd(b.createElement("optgroup")),x=v.clone();i=0;for(var y=h.children(),z=y.length;z>i;i++)if(""===y[i].value){o=t=y.eq(i);break}n.init(j,t,x),r&&(j.$isEmpty=function(a){return!a||0===a.length}),s?m(g,h,j):r?l(g,h,j):k(g,h,j,n)}}}}],Zf=["$interpolate",function(a){var b={addOption:m,removeOption:m};return{restrict:"E",priority:100,compile:function(c,d){if(p(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f=c.parent(),g=f.data("$selectController")||f.parent().data("$selectController");g&&g.databound||(g=b),e?a.$watch(e,function(a,b){d.$set("value",a),b!==a&&g.removeOption(b),g.addOption(a,c)}):g.addOption(d.value,c),c.on("$destroy",function(){g.removeOption(d.value)})}}}}],$f=o({restrict:"E",terminal:!1}),_f=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},ag=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(s(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp",h,a,M(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a){return f.$isEmpty(a)||p(g)||g.test(a)}}}}},bg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){a=l(a),e=isNaN(a)?-1:a,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(a)||b.length<=e}}}}},cg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=l(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};a.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Y(),eb(Ed),sd(b).ready(function(){T(b,U)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),"undefined"==typeof window.dhx4&&(window.dhx4={version:"4.0.3",skin:null,skinDetect:function(a){var b=document.createElement("DIV");b.className=a+"_skin_detect",document.body.firstChild?document.body.insertBefore(b,document.body.firstChild):document.body.appendChild(b);var c=b.offsetWidth;return b.parentNode.removeChild(b),b=null,{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace"}[c]||null},lastId:1,newId:function(){return this.lastId++},zim:{data:{},step:5,first:function(){return 100},last:function(){var a=this.first();for(var b in this.data)a=Math.max(a,this.data[b]);return a},reserve:function(a){return this.data[a]=this.last()+this.step,this.data[a]},clear:function(a){null!=this.data[a]&&(this.data[a]=null,delete this.data[a])}},s2b:function(a){return 1==a||1==a||"true"==a||"1"==a||"yes"==a||"y"==a},trim:function(a){return String(a).replace(/^\s{1,}/,"").replace(/\s{1,}$/,"")},template:function(a,b,c){return a.replace(/#([a-zA-Z0-9_-]{1,})#/g,function(a,d){return d.length>0&&"undefined"!=typeof b[d]?1==c?window.dhx4.trim(b[d]):String(b[d]):""})},absLeft:function(a){return"string"==typeof a&&(a=document.getElementById(a)),this._aOfs(a).left},absTop:function(a){return"string"==typeof a&&(a=document.getElementById(a)),this._aOfs(a).top},_aOfsSum:function(a){for(var b=0,c=0;a;)b+=parseInt(a.offsetTop),c+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:b,left:c}},_aOfsRect:function(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{top:Math.round(i),left:Math.round(j)}},_aOfs:function(a){return a.getBoundingClientRect?this._aOfsRect(a):this._aOfsSum(a)},_isObj:function(a){return null!=a&&"object"==typeof a&&"undefined"==typeof a.length},_copyObj:function(a){if(this._isObj(a)){var b={};for(var c in a)b[c]="object"==typeof a[c]&&null!=a[c]?this._copyObj(a[c]):a[c]}else for(var b=[],c=0;c<a.length;c++)b[c]="object"==typeof a[c]&&null!=a[c]?this._copyObj(a[c]):a[c];return b},screenDim:function(){var a=navigator.userAgent.indexOf("MSIE")>=0,b={};return b.left=document.body.scrollLeft,b.right=b.left+(window.innerWidth||document.body.clientWidth),b.top=Math.max((a?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),b.bottom=b.top+(a?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0):window.innerHeight),b},selectTextRange:function(a,b,c){a="string"==typeof a?document.getElementById(a):a;var d=a.value.length;if(b=Math.max(Math.min(b,d),0),c=Math.min(c,d),a.setSelectionRange)try{a.setSelectionRange(b,c)}catch(e){}else if(a.createTextRange){var f=a.createTextRange();f.moveStart("character",b),f.moveEnd("character",c-d);try{f.select()}catch(e){}}},transData:null,transDetect:function(){if(null==this.transData){this.transData={transProp:!1,transEv:null};var a={MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"transitionend",transition:"transitionend"};for(var b in a)0==this.transData.transProp&&null!=document.documentElement.style[b]&&(this.transData.transProp=b,this.transData.transEv=a[b]);a=null}return this.transData}},window.dhx4.isIE=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0,window.dhx4.isIE6=null==window.XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,window.dhx4.isIE7=navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,window.dhx4.isOpera=navigator.userAgent.indexOf("Opera")>=0,window.dhx4.isChrome=navigator.userAgent.indexOf("Chrome")>=0,window.dhx4.isKHTML=navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0,window.dhx4.isFF=navigator.userAgent.indexOf("Firefox")>=0,window.dhx4.isIPad=navigator.userAgent.search(/iPad/gi)>=0),"undefined"==typeof window.dhx4.ajax&&(window.dhx4.ajax={cache:!1,method:"post",get:function(a,b){this._call("GET",a,null,!0,b)},getSync:function(a){return this._call("GET",a,null,!1)},post:function(a,b,c){1==arguments.length?b="":2!=arguments.length||"function"!=typeof b&&"function"!=typeof window[b]?b=String(b):(c=b,b=""),this._call("POST",a,b,!0,c)},postSync:function(a,b){return b=null==b?"":String(b),this._call("POST",a,b,!1)},getLong:function(a,b){this._call("GET",a,null,!0,b,{url:a})},postLong:function(a,b,c){2==arguments.length&&(c=b,b=""),this._call("POST",a,b,!0,c,{url:a,postData:b})},_call:function(a,b,c,d,e,f){var g=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),h=null!=navigator.userAgent.match(/AppleWebKit/)&&null!=navigator.userAgent.match(/Qt/)&&null!=navigator.userAgent.match(/Safari/);return 1==d&&(g.onreadystatechange=function(){(4==g.readyState&&200==g.status||1==h&&3==g.readyState)&&window.setTimeout(function(){"function"==typeof e&&e.apply(window,[{xmlDoc:g}]),null!=f&&("undefined"!=typeof f.postData?dhx4.ajax.postLong(f.url,f.postData,e):dhx4.ajax.getLong(f.url,e)),e=null,g=null},1)}),"GET"==a&&1!=this.cache&&(b+=(b.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()),g.open(a,b,d),"POST"==a?(g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),1!=this.cache&&(c+=(c.length>0?"&":"")+"dhxr"+(new Date).getTime())):c=null,g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(c),d?void 0:{xmlDoc:g}}}),"undefined"==typeof window.dhx4._enableDataLoading&&(window.dhx4._enableDataLoading=function(obj,initObj,xmlToJson,xmlRootTag,mode){if("clear"==mode){for(var a in obj._dhxdataload)obj._dhxdataload[a]=null,delete obj._dhxdataload[a];return obj._loadData=null,obj._dhxdataload=null,obj.load=null,obj.loadStruct=null,void(obj=null)}if(obj._dhxdataload={initObj:initObj,xmlToJson:xmlToJson,xmlRootTag:xmlRootTag,onBeforeXLS:null},obj._loadData=function(data,loadParams,onLoad){2==arguments.length&&(onLoad=loadParams,loadParams=null);var obj=null;if(3==arguments.length&&(onLoad=arguments[2]),"string"==typeof data){var k=data.replace(/^\s{1,}/,"").replace(/\s{1,}$/,""),tag=new RegExp("^<"+this._dhxdataload.xmlRootTag);if(tag.test(k.replace(/^<\?xml[^\?]*\?>\s*/,""))&&(window.DOMParser?obj=(new window.DOMParser).parseFromString(data,"text/xml"):"undefined"!=typeof window.ActiveXObject&&(obj=new window.ActiveXObject("Microsoft.XMLDOM"),obj.async="false",obj.loadXML(data)),null!=obj&&(obj=this[this._dhxdataload.xmlToJson].apply(this,[obj]))),null==obj&&(null!=k.match(/^\{.*\}$/)||null!=k.match(/^\[.*\]$/))){try{eval("dhx4.temp="+k)}catch(e){dhx4.temp=null}obj=dhx4.temp,dhx4.temp=null}if(null==obj){this.callEvent("onXLS",[]);var params=[];if("function"==typeof this._dhxdataload.onBeforeXLS){var k=this._dhxdataload.onBeforeXLS.apply(this,[data]);if(null!=k&&"object"==typeof k&&(null!=k.url&&(data=k.url),null!=k.params))for(var a in k.params)params.push(a+"="+encodeURIComponent(k.params[a]))}var t=this,callBack=function(r){var obj=null;if((r.xmlDoc.getResponseHeader("Content-Type")||"").search(/xml/gi)>=0||null!=r.xmlDoc.responseText.replace(/^\s{1,}/,"").match(/^</))obj=t[t._dhxdataload.xmlToJson].apply(t,[r.xmlDoc.responseXML]);else{try{eval("dhx4.temp="+r.xmlDoc.responseText)}catch(e){dhx4.temp=null}obj=dhx4.temp,dhx4.temp=null}null!=obj&&t[t._dhxdataload.initObj].apply(t,[obj,data]),t.callEvent("onXLE",[]),null!=onLoad&&("function"==typeof onLoad?onLoad.apply(t,[]):"function"==typeof window[onLoad]&&window[onLoad].apply(t,[])),callBack=onLoad=null,obj=r=t=null};return params=params.join("&")+("string"==typeof loadParams?"&"+loadParams:""),void("post"==dhx4.ajax.method?dhx4.ajax.post(data,params,callBack):"get"==dhx4.ajax.method&&dhx4.ajax.get(data+(data.indexOf("?")>0,"")+params,callBack))}}else obj="object"==typeof data.documentElement||"undefined"!=typeof data.tagName&&"undefined"!=typeof data.getElementsByTagName&&data.getElementsByTagName(this._dhxdataload.xmlRootTag).length>0?this[this._dhxdataload.xmlToJson].apply(this,[data]):window.dhx4._copyObj(data);null!=obj&&this[this._dhxdataload.initObj].apply(this,[obj]),null!=onLoad&&("function"==typeof onLoad?onLoad.apply(this,[]):"function"==typeof window[onLoad]&&window[onLoad].apply(this,[]),onLoad=null)},null!=mode){var k={struct:"loadStruct",data:"load"};for(var a in mode)1==mode[a]&&(obj[k[a]]=function(){return this._loadData.apply(this,arguments)})}obj=null}),"undefined"==typeof window.dhx4._eventable&&(window.dhx4._eventable=function(a,b){return"clear"==b?(a.detachAllEvents(),a.dhxevs=null,a.attachEvent=null,a.detachEvent=null,a.checkEvent=null,a.callEvent=null,a.detachAllEvents=null,void(a=null)):(a.dhxevs={data:{}},a.attachEvent=function(a,b){a=String(a).toLowerCase(),this.dhxevs.data[a]||(this.dhxevs.data[a]={});var c=window.dhx4.newId();return this.dhxevs.data[a][c]=b,c},a.detachEvent=function(a){for(var b in this.dhxevs.data){var c=0;for(var d in this.dhxevs.data[b])d==a?(this.dhxevs.data[b][d]=null,delete this.dhxevs.data[b][d]):c++;0==c&&(this.dhxevs.data[b]=null,delete this.dhxevs.data[b])}},a.checkEvent=function(a){return a=String(a).toLowerCase(),null!=this.dhxevs.data[a]},a.callEvent=function(a,b){if(a=String(a).toLowerCase(),null==this.dhxevs.data[a])return!0;var c=!0;for(var d in this.dhxevs.data[a])c=this.dhxevs.data[a][d].apply(this,b)&&c;return c},a.detachAllEvents=function(){for(var a in this.dhxevs.data){for(var b in this.dhxevs.data[a])this.dhxevs.data[a][b]=null,delete this.dhxevs.data[a][b];this.dhxevs.data[a]=null,delete this.dhxevs.data[a]}},void(a=null))}),dhtmlx=function(a){for(var b in a)dhtmlx[b]=a[b];return dhtmlx},dhtmlx.extend_api=function(a,b,c){var d=window[a];d&&(window[a]=function(a){if(a&&"object"==typeof a&&!a.tagName){var c=d.apply(this,b._init?b._init(a):arguments);for(var e in dhtmlx)b[e]&&this[b[e]](dhtmlx[e]);for(var e in a)b[e]?this[b[e]](a[e]):0==e.indexOf("on")&&this.attachEvent(e,a[e])}else var c=d.apply(this,arguments);return b._patch&&b._patch(this),c||this},window[a].prototype=d.prototype,c&&dhtmlXHeir(window[a].prototype,c))},dhtmlxAjax={get:function(a,b){var c=new dtmlXMLLoaderObject(!0);return c.async=arguments.length<3,c.waitCall=b,c.loadXML(a),c},post:function(a,b,c){var d=new dtmlXMLLoaderObject(!0);return d.async=arguments.length<4,d.waitCall=c,d.loadXML(a,!0,b),d},getSync:function(a){return this.get(a,null,!0)},postSync:function(a,b){return this.post(a,b,null,!0)}},dtmlXMLLoaderObject.count=0,dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var b=!0;return this.check=function(){if(a&&null!=a.onloadAction&&(!a.xmlDoc.readyState||4==a.xmlDoc.readyState)){if(!b)return;b=!1,dtmlXMLLoaderObject.count++,"function"==typeof a.onloadAction&&a.onloadAction(a.mainObject,null,null,null,a),a.waitCall&&(a.waitCall.call(this,a),a.waitCall=null)}},this.check},dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,b){if("undefined"==typeof this.xmlDoc.status||this.xmlDoc.status<400){if(this.xmlDoc.responseXML){var c=this.xmlDoc.responseXML.getElementsByTagName(a);if(0==c.length&&-1!=a.indexOf(":"))var c=this.xmlDoc.responseXML.getElementsByTagName(a.split(":")[1]);var d=c[0]}else var d=this.xmlDoc.documentElement;if(d)return this._retry=!1,d;if(!this._retry&&_isIE){this._retry=!0;var b=this.xmlDoc;return this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(a,b)}}return dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]),document.createElement("DIV")},dtmlXMLLoaderObject.prototype.loadXMLString=function(a,b){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(a);else{var c=new DOMParser;this.xmlDoc=c.parseFromString(a,"text/xml")}b||(this.onloadAction&&this.onloadAction(this.mainObject,null,null,null,this),this.waitCall&&(this.waitCall(),this.waitCall=null))},dtmlXMLLoaderObject.prototype.loadXML=function(a,b,c,d){this.rSeed&&(a+=(-1!=a.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf()),this.filePath=a,this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)),this.xmlDoc.open(b?"POST":"GET",a,this.async),d?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):b&&this.xmlDoc.setRequestHeader("Content-type",this.contenttype||"application/x-www-form-urlencoded"),this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlDoc.send(null||c),this.async||new this.waitLoadFunction(this)()},dtmlXMLLoaderObject.prototype.destructor=function(){return this._filterXPath=null,this._getAllNamedChilds=null,this._retry=null,this.async=null,this.rSeed=null,this.filePath=null,this.onloadAction=null,this.mainObject=null,this.xmlDoc=null,this.doXPath=null,this.doXPathOpera=null,this.doXSLTransToObject=null,this.doXSLTransToString=null,this.loadXML=null,this.loadXMLString=null,this.doSerialization=null,this.xmlNodeToJSON=null,this.getXMLTopNode=null,this.setXSLParamValue=null,null},dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){for(var b={},c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;b._tagvalue=a.firstChild?a.firstChild.nodeValue:"";for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c].tagName;d&&(b[d]||(b[d]=[]),b[d].push(this.xmlNodeToJSON(a.childNodes[c])))}return b},dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null,a.dragStarter=null,a.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,b){a.onmousedown=this.preCreateDragCopy,a.dragStarter=b,this.addDragLanding(a,b)},dhtmlDragAndDropObject.prototype.addDragLanding=function(a,b){a.dragLanding=b},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(a){return!a&&!window.event||2!=(a||event).button?window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(a),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),a&&a.preventDefault?(a.preventDefault(),!1):!1):void 0},dhtmlDragAndDropObject.prototype.callDrag=function(a){if(a||(a=window.event),dragger=window.dhtmlDragAndDrop,!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode){if(!dragger.waitDrag)return dragger.stopDrag(a,!0);if(dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,a),!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1},dragger.gldragNode=dragger.dragNode,document.body.appendChild(dragger.dragNode),document.body.onmouseup=dragger.stopDrag,dragger.waitDrag=0,dragger.dragNode.pWindow=window,dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var b=dragger.gldragNode;dragger.gldragNode.old&&(b=dragger.gldragNode.old),b.parentNode.removeChild(b);var c=dragger.dragNode.pWindow;if(b.pWindow&&b.pWindow.dhtmlDragAndDrop.lastLanding&&b.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(b.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var d=document.createElement("Div");d.innerHTML=dragger.dragNode.outerHTML,dragger.dragNode=d.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window,dragger.gldragNode.old=dragger.dragNode,document.body.appendChild(dragger.dragNode),c.dhtmlDragAndDrop.dragNode=dragger.dragNode}if(dragger.dragNode.style.left=a.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",dragger.dragNode.style.top=a.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",a.srcElement)e=a.srcElement;else var e=a.target;dragger.checkLanding(e,a)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(a){if(window.name){for(var b=parent.frames[window.name].frameElement.offsetParent,c=0,d=0;b;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;if(parent.dhtmlDragAndDrop){var e=parent.dhtmlDragAndDrop.calculateFramePosition(1);c+=1*e.split("_")[0],d+=1*e.split("_")[1]}if(a)return c+"_"+d;this.fx=c,this.fy=d}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(a,b){a&&a.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=a,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,b.clientX,b.clientY,b),this.lastLanding_scr=_isIE?b.srcElement:b.target):a&&"BODY"!=a.tagName?this.checkLanding(a.parentNode,b):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,b.clientX,b.clientY,b),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(a,b){if(dragger=window.dhtmlDragAndDrop,!b){dragger.stopFrameRoute();var c=dragger.lastLanding;dragger.lastLanding=null,c&&c.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,c,_isIE?event.srcElement:a.target)}dragger.lastLanding=null,dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode),dragger.dragNode=0,dragger.gldragNode=0,dragger.fx=0,dragger.fy=0,dragger.dragStartNode=0,dragger.dragStartObject=0,document.body.onmouseup=dragger.tempDOMU,document.body.onmousemove=dragger.tempDOMM,dragger.tempDOMU=null,dragger.tempDOMM=null,dragger.waitDrag=0},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){a&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var b=0;b<window.frames.length;b++)try{window.frames[b]!=a&&window.frames[b].dhtmlDragAndDrop&&window.frames[b].dhtmlDragAndDrop.stopFrameRoute(window)}catch(c){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(c){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,b){a&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&b&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(c){}for(var d=0;d<window.frames.length;d++)try{window.frames[d]!=a&&window.frames[d].dhtmlDragAndDrop&&window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,!a||b?1:0)}catch(c){}},_isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,(-1!=navigator.appVersion.indexOf("MSIE 8.0")||-1!=navigator.appVersion.indexOf("MSIE 9.0")||-1!=navigator.appVersion.indexOf("MSIE 10.0")||document.documentMode>7)&&"BackCompat"!=document.compatMode&&(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),dtmlXMLLoaderObject.prototype.doXPath=function(a,b,c,d){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(a,b);if(_isIE)return b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),b||dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]),null!=c&&b.setProperty("SelectionNamespaces","xmlns:xsl='"+c+"'"),"single"==d?b.selectSingleNode(a):b.selectNodes(a)||new Array(0);var e=b;b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),b||dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]),-1!=b.nodeName.indexOf("document")?e=b:(e=b,b=b.ownerDocument);var f=XPathResult.ANY_TYPE;"single"==d&&(f=XPathResult.FIRST_ORDERED_NODE_TYPE);var g=new Array,h=b.evaluate(a,e,function(){return c},f,null);if(f==XPathResult.FIRST_ORDERED_NODE_TYPE)return h.singleNodeValue;for(var i=h.iterateNext();i;)g[g.length]=i,i=h.iterateNext();return g},_dhtmlxError.prototype.catchError=function(a,b){this.catches[a]=b},_dhtmlxError.prototype.throwError=function(a,b,c){return this.catches[a]?this.catches[a](a,b,c):this.catches.ALL?this.catches.ALL(a,b,c):(alert("Error type: "+arguments[0]+"\nDescription: "+arguments[1]),null)},window.dhtmlxError=new _dhtmlxError,dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,b){var c=a.replace(/[\/]+/gi,"/").split("/"),d=null,e=1;if(!c.length)return[];if("."==c[0])d=[b];else{if(""!=c[0])return[];d=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(c[e].replace(/\[[^\]]*\]/g,"")),e++}for(e;e<c.length;e++)d=this._getAllNamedChilds(d,c[e]);return-1!=c[e-1].indexOf("[")&&(d=this._filterXPath(d,c[e-1])),d},dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){for(var c=new Array,b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),d=0;d<a.length;d++)a[d].getAttribute(b)&&(c[c.length]=a[d]);return c},dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=new Array;_isKHTML&&(b=b.toUpperCase());for(var d=0;d<a.length;d++)for(var e=0;e<a[d].childNodes.length;e++)_isKHTML?a[d].childNodes[e].tagName&&a[d].childNodes[e].tagName.toUpperCase()==b&&(c[c.length]=a[d].childNodes[e]):a[d].childNodes[e].tagName==b&&(c[c.length]=a[d].childNodes[e]);return c},dtmlXMLLoaderObject.prototype.xslDoc=null,dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,b,c){c||(c=this.xslDoc),c.responseXML&&(c=c.responseXML);var d=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",c,"http://www.w3.org/1999/XSL/Transform","single");null!=d&&(d.firstChild.nodeValue=b)},dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,b){if(a||(a=this.xslDoc),a.responseXML&&(a=a.responseXML),b||(b=this.xmlDoc),b.responseXML&&(b=b.responseXML),_isIE){var c=new ActiveXObject("Msxml2.DOMDocument.3.0");try{b.transformNodeToObject(a,c)}catch(d){c=b.transformNode(a)}}else{this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(a));var c=this.XSLProcessor.transformToDocument(b)}return c},dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,b){var c=this.doXSLTransToObject(a,b);return"string"==typeof c?c:this.doSerialization(c)},dtmlXMLLoaderObject.prototype.doSerialization=function(a){if(a||(a=this.xmlDoc),a.responseXML&&(a=a.responseXML),_isIE)return a.xml;var b=new XMLSerializer;return b.serializeToString(a)},dhtmlxEventable=function(obj){obj.attachEvent=function(a,b,c){return a="ev_"+a.toLowerCase(),this[a]||(this[a]=new this.eventCatcher(c||this)),a+":"+this[a].addEvent(b)},obj.callEvent=function(a,b){return a="ev_"+a.toLowerCase(),this[a]?this[a].apply(this,b):!0},obj.checkEvent=function(a){return!!this["ev_"+a.toLowerCase()]},obj.eventCatcher=function(obj){var dhx_catch=[],z=function(){for(var a=!0,b=0;b<dhx_catch.length;b++)if(null!=dhx_catch[b]){var c=dhx_catch[b].apply(obj,arguments);a=a&&c}return a};return z.addEvent=function(ev){return"function"!=typeof ev&&(ev=eval(ev)),ev?dhx_catch.push(ev)-1:!1},z.removeEvent=function(a){dhx_catch[a]=null},z},obj.detachEvent=function(a){if(0!=a){var b=a.split(":");this[b[0]].removeEvent(b[1])}},obj.detachAllEvents=function(){for(var a in this)0==a.indexOf("ev_")&&(this.detachEvent(a),this[a]=null)},obj=null},window.dhtmlx||(dhtmlx={}),dhtmlx.assert=function(a,b){a||dhtmlx.error(b)},dhtmlx.assert_enabled=function(){return!1},dhtmlx.assert_event=function(a,b){a._event_check||(a._event_check={},a._event_check_size={});for(var c in b){a._event_check[c.toLowerCase()]=b[c];var d=-1;for(var e in b[c])d++;a._event_check_size[c.toLowerCase()]=d}},dhtmlx.assert_method_info=function(a,b,c,d){for(var e=[],f=0;f<d.length;f++)e.push(d[f][0]+" : "+d[f][1]+"\n   "+d[f][2].describe()+(d[f][3]?"; optional":""));return a.name+"."+b+"\n"+c+"\n Arguments:\n - "+e.join("\n - ")},dhtmlx.assert_method=function(a,b){for(var c in b)dhtmlx.assert_method_process(a,c,b[c].descr,b[c].args,b[c].min||99,b[c].skip)},dhtmlx.assert_method_process=function(a,b,c,d,e,f){var g=a[b];f||(a[b]=function(){if(arguments.length!=d.length&&arguments.length<e)dhtmlx.log("warn","Incorrect count of parameters\n"+a[b].describe()+"\n\nExpecting "+d.length+" but have only "+arguments.length);else for(var c=0;c<d.length;c++)d[c][3]||d[c][2](arguments[c])||dhtmlx.log("warn","Incorrect method call\n"+a[b].describe()+"\n\nActual value of "+(c+1)+" parameter: {"+typeof arguments[c]+"} "+arguments[c]);return g.apply(this,arguments)}),a[b].describe=function(){return dhtmlx.assert_method_info(a,b,c,d)}},dhtmlx.assert_event_call=function(a,b,c){a._event_check&&(a._event_check[b]?dhtmlx.isNotDefined(c)?dhtmlx.log("warn","Event without parameters :"+b):a._event_check_size[b]!=c.length&&dhtmlx.log("warn","Incorrect event call, expected "+a._event_check_size[b]+" parameter(s), but have "+c.length+" parameter(s), for "+b+" event"):dhtmlx.log("warn","Not expected event call :"+b))},dhtmlx.assert_event_attach=function(a,b){a._event_check&&!a._event_check[b]&&dhtmlx.log("warn","Unknown event name: "+b)},dhtmlx.assert_property=function(a,b){a._settings_check||(a._settings_check={}),dhtmlx.extend(a._settings_check,b)},dhtmlx.assert_check=function(a,b){if("object"==typeof a)for(var c in a)dhtmlx.assert_settings(c,a[c],b)
},dhtmlx.assert_settings=function(a,b,c){if(c=c||this._settings_check){if(!c[a])return dhtmlx.log("warn","Unknown propery: "+a);for(var d=!1,e=0;e<c[a].length;e++){var f=c[a][e];if("string"!=typeof f&&("function"==typeof f?d=d||f(b):"object"==typeof f&&"function"==typeof f[1]&&(d=d||f[1](b),d&&f[2]&&dhtmlx.assert_check(b,f[2])),d))break}d||dhtmlx.log("warn","Invalid configuration\n"+dhtmlx.assert_info(a,c)+"\nActual value: {"+typeof b+"} "+b)}},dhtmlx.assert_info=function(a,b){for(var c=b[a],d="",e=[],f=0;f<c.length;f++)"string"==typeof rule?d=c[f]:c[f].describe?e.push(c[f].describe()):c[f][1]&&c[f][1].describe&&e.push(c[f][1].describe());return"Property: "+a+", "+d+" \nExpected value: \n - "+e.join("\n - ")},dhtmlx.assert_enabled()&&(dhtmlx.assert_rule_color=function(a){return"string"!=typeof a?!1:0!==a.indexOf("#")?!1:""!==a.substr(1).replace(/[0-9A-F]/gi,"")?!1:!0},dhtmlx.assert_rule_color.describe=function(){return"{String} Value must start from # and contain hexadecimal code of color"},dhtmlx.assert_rule_template=function(a){return"function"==typeof a?!0:"string"==typeof a?!0:!1},dhtmlx.assert_rule_template.describe=function(){return"{Function},{String} Value must be a function which accepts data object and return text string, or a sting with optional template markers"},dhtmlx.assert_rule_boolean=function(a){return"boolean"==typeof a?!0:!1},dhtmlx.assert_rule_boolean.describe=function(){return"{Boolean} true or false"},dhtmlx.assert_rule_object=function(a){return"object"==typeof a?!0:!1},dhtmlx.assert_rule_object.describe=function(){return"{Object} Configuration object"},dhtmlx.assert_rule_string=function(a){return"string"==typeof a?!0:!1},dhtmlx.assert_rule_string.describe=function(){return"{String} Plain string"},dhtmlx.assert_rule_htmlpt=function(a){return!!dhtmlx.toNode(a)},dhtmlx.assert_rule_htmlpt.describe=function(){return"{Object},{String} HTML node or ID of HTML Node"},dhtmlx.assert_rule_notdocumented=function(){return!1},dhtmlx.assert_rule_notdocumented.describe=function(){return"This options wasn't documented"},dhtmlx.assert_rule_key=function(a){var b=function(b){return a[b]};return b.describe=function(){var b=[];for(var c in a)b.push(c);return"{String} can take one of next values: "+b.join(", ")},b},dhtmlx.assert_rule_dimension=function(a){return 1*a==a&&!isNaN(a)&&a>=0?!0:!1},dhtmlx.assert_rule_dimension.describe=function(){return"{Integer} value must be a positive number"},dhtmlx.assert_rule_number=function(a){return"number"==typeof a?!0:!1},dhtmlx.assert_rule_number.describe=function(){return"{Integer} value must be a number"},dhtmlx.assert_rule_function=function(a){return"function"==typeof a?!0:!1},dhtmlx.assert_rule_function.describe=function(){return"{Function} value must be a custom function"},dhtmlx.assert_rule_any=function(){return!0},dhtmlx.assert_rule_any.describe=function(){return"Any value"},dhtmlx.assert_rule_mix=function(a,b){var c=function(c){return a(c)||b(c)?!0:!1};return c.describe=function(){return a.describe()},c}),dhtmlx.version="3.0",dhtmlx.codebase="./",dhtmlx.copy=function(a){var b=dhtmlx.copy._function;return b.prototype=a,new b},dhtmlx.copy._function=function(){},dhtmlx.extend=function(a,b){for(var c in b)a[c]=b[c];return dhtmlx.assert_enabled()&&b._assert&&(a._assert(),a._assert=null),dhtmlx.assert(a,"Invalid nesting target"),dhtmlx.assert(b,"Invalid nesting source"),b._init&&a._init(),a},dhtmlx.proto_extend=function(){for(var a=arguments,b=a[0],c=[],d=a.length-1;d>0;d--){"function"==typeof a[d]&&(a[d]=a[d].prototype);for(var e in a[d])"_init"==e?c.push(a[d][e]):b[e]||(b[e]=a[d][e])}a[0]._init&&c.push(a[0]._init),b._init=function(){for(var a=0;a<c.length;a++)c[a].apply(this,arguments)},b.base=a[1];var f=function(a){this._init(a),this._parseSettings&&this._parseSettings(a,this.defaults)};return f.prototype=b,b=a=null,f},dhtmlx.bind=function(a,b){return function(){return a.apply(b,arguments)}},dhtmlx.require=function(a){dhtmlx._modules[a]||(dhtmlx.assert(dhtmlx.ajax,"load module is required"),dhtmlx.exec(dhtmlx.ajax().sync().get(dhtmlx.codebase+a).responseText),dhtmlx._modules[a]=!0)},dhtmlx._modules={},dhtmlx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)},dhtmlx.methodPush=function(a,b){return function(){var c=!1;return c=a[b].apply(a,arguments)}},dhtmlx.isNotDefined=function(a){return"undefined"==typeof a},dhtmlx.delay=function(a,b,c,d){setTimeout(function(){var d=a.apply(b,c);return a=b=c=null,d},d||1)},dhtmlx.uid=function(){return this._seed||(this._seed=(new Date).valueOf()),this._seed++,this._seed},dhtmlx.toNode=function(a){return"string"==typeof a?document.getElementById(a):a},dhtmlx.toArray=function(a){return dhtmlx.extend(a||[],dhtmlx.PowerArray)},dhtmlx.toFunctor=function(str){return"string"==typeof str?eval(str):str},dhtmlx._events={},dhtmlx.event=function(a,b,c,d){a=dhtmlx.toNode(a);var e=dhtmlx.uid();return dhtmlx._events[e]=[a,b,c],d&&(c=dhtmlx.bind(c,d)),a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c),e},dhtmlx.eventRemove=function(a){if(a){dhtmlx.assert(this._events[a],"Removing non-existing event");var b=dhtmlx._events[a];b[0].removeEventListener?b[0].removeEventListener(b[1],b[2],!1):b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]),delete this._events[a]}},dhtmlx.log=function(a,b,c){window.console&&console.log&&(a=a.toLowerCase(),window.console[a]?window.console[a](b||"unknown error"):window.console.log(a+": "+b),c&&window.console.log(c))},dhtmlx.log_full_time=function(a){dhtmlx._start_time_log=new Date,dhtmlx.log("Info","Timing start ["+a+"]"),window.setTimeout(function(){var b=new Date;dhtmlx.log("Info","Timing end ["+a+"]:"+(b.valueOf()-dhtmlx._start_time_log.valueOf())/1e3+"s")},1)},dhtmlx.log_time=function(a){var b="_start_time_log"+a;if(dhtmlx[b]){var c=new Date;dhtmlx.log("Info","Timing end ["+a+"]:"+(c.valueOf()-dhtmlx[b].valueOf())/1e3+"s"),dhtmlx[b]=null}else dhtmlx[b]=new Date,dhtmlx.log("Info","Timing start ["+a+"]")},dhtmlx.error=function(a,b){dhtmlx.log("error",a,b)},dhtmlx.EventSystem={_init:function(){this._events={},this._handlers={},this._map={}},block:function(){this._events._block=!0},unblock:function(){this._events._block=!1},mapEvent:function(a){dhtmlx.extend(this._map,a)},callEvent:function(a,b){if(this._events._block)return!0;a=a.toLowerCase(),dhtmlx.assert_event_call(this,a,b);var c=this._events[a.toLowerCase()],d=!0;if(dhtmlx.debug&&dhtmlx.log("info","["+this.name+"] event:"+a,b),c)for(var e=0;e<c.length;e++)c[e].apply(this,b||[])===!1&&(d=!1);return this._map[a]&&!this._map[a].callEvent(a,b)&&(d=!1),d},attachEvent:function(a,b,c){a=a.toLowerCase(),dhtmlx.assert_event_attach(this,a),c=c||dhtmlx.uid(),b=dhtmlx.toFunctor(b);var d=this._events[a]||dhtmlx.toArray();return d.push(b),this._events[a]=d,this._handlers[c]={f:b,t:a},c},detachEvent:function(a){if(this._handlers[a]){var b=this._handlers[a].t,c=this._handlers[a].f,d=this._events[b];d.remove(c),delete this._handlers[a]}}},dhtmlx.PowerArray={removeAt:function(a,b){a>=0&&this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(b||0===b){var c=this.splice(b,this.length-b);this[b]=a,this.push.apply(this,c)}else this.push(a)},find:function(a){for(i=0;i<this.length;i++)if(a==this[i])return i;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this}},dhtmlx.env={},-1!=navigator.userAgent.indexOf("Opera")?dhtmlx._isOpera=!0:(dhtmlx._isIE=!!document.all,dhtmlx._isFF=!document.all,dhtmlx._isWebKit=-1!=navigator.userAgent.indexOf("KHTML"),-1!=navigator.appVersion.indexOf("MSIE 8.0")&&"BackCompat"!=document.compatMode&&(dhtmlx._isIE=8),-1!=navigator.appVersion.indexOf("MSIE 9.0")&&"BackCompat"!=document.compatMode&&(dhtmlx._isIE=9)),dhtmlx.env={},function(){dhtmlx.env.transform=!1,dhtmlx.env.transition=!1;var a={};a.names=["transform","transition"],a.transform=["transform","WebkitTransform","MozTransform","oTransform","msTransform"],a.transition=["transition","WebkitTransition","MozTransition","oTransition"];for(var b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(;p=a[a.names[c]].pop();)"undefined"!=typeof b.style[p]&&(dhtmlx.env[a.names[c]]=!0)}(),dhtmlx.env.transform_prefix=function(){var a;return dhtmlx._isOpera?a="-o-":(a="",dhtmlx._isFF&&(a="-moz-"),dhtmlx._isWebKit&&(a="-webkit-")),a}(),dhtmlx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),dhtmlx.zIndex={drag:1e4},dhtmlx.html={create:function(a,b,c){b=b||{};var d=document.createElement(a);for(var e in b)d.setAttribute(e,b[e]);return b.style&&(d.style.cssText=b.style),b["class"]&&(d.className=b["class"]),c&&(d.innerHTML=c),d},getValue:function(a){return a=dhtmlx.toNode(a),a?dhtmlx.isNotDefined(a.value)?a.innerHTML:a.value:""},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){a&&(b?b.parentNode.insertBefore(a,b):c.appendChild(a))},locate:function(a,b){a=a||event;for(var c=a.target||a.srcElement;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{y:Math.round(i),x:Math.round(j)}}for(var i=0,j=0;a;)i+=parseInt(a.offsetTop,10),j+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:i,x:j}},pos:function(a){if(a=a||event,a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=dhtmlx._isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault(),dhtmlx.html.stopEvent(a)},stopEvent:function(a){return(a||event).cancelBubble=!0,!1},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(b,"g"),"")}},function(){var a=document.getElementsByTagName("SCRIPT");dhtmlx.assert(a.length,"Can't locate codebase"),a.length&&(a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),dhtmlx.codebase=a.slice(0,a.length).join("/")+"/")}(),dhtmlx.ui||(dhtmlx.ui={}),dhtmlx.Destruction={_init:function(){dhtmlx.destructors.push(this)},destructor:function(){this.destructor=function(){},this._htmlmap=null,this._htmlrows=null,this._html&&document.body.appendChild(this._html),this._html=null,this._obj&&(this._obj.innerHTML="",this._obj._htmlmap=null),this._obj=this._dataobj=null,this.data=null,this._events=this._handlers={},this.render&&(this.render=function(){})}},dhtmlx.destructors=[],dhtmlx.event(window,"unload",function(){if(dhtmlx.destructors){for(var a=0;a<dhtmlx.destructors.length;a++)dhtmlx.destructors[a].destructor();dhtmlx.destructors=[]}for(var b in dhtmlx._events){var c=dhtmlx._events[b];c[0].removeEventListener?c[0].removeEventListener(c[1],c[2],!1):c[0].detachEvent&&c[0].detachEvent("on"+c[1],c[2]),delete dhtmlx._events[b]}}),dhtmlx.ajax=function(a,b,c){if(0!==arguments.length){var d=new dhtmlx.ajax;c&&(d.master=c),d.get(a,null,b)}return this.getXHR?this:new dhtmlx.ajax},dhtmlx.ajax.prototype={getXHR:function(){return dhtmlx._isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();if("function"==typeof c&&(c=[c]),"object"==typeof b){var e=[];for(var f in b){var g=b[f];(null===g||g===dhtmlx.undefined)&&(g=""),e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}b&&!this.post&&(a=a+(-1!=a.indexOf("?")?"&":"?")+b,b=null),d.open(this.post?"POST":"GET",a,!this._sync),this.post&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=this;return d.onreadystatechange=function(){if(!d.readyState||4==d.readyState){if(c&&h)for(var a=0;a<c.length;a++)c[a]&&c[a].call(h.master||h,d.responseText,d.responseXML,d);h.master=null,c=h=null}},d.send(b||null),d},get:function(a,b,c){return this.post=!1,this.send(a,b,c)},post:function(a,b,c){return this.post=!0,this.send(a,b,c)},sync:function(){return this._sync=!0,this}},dhtmlx.AtomDataLoader={_init:function(a){this.data={},a&&(this._settings.datatype=a.datatype||"json",this._after_init.push(this._load_when_ready))},_load_when_ready:function(){this._ready_for_data=!0,this._settings.url&&this.url_setter(this._settings.url),this._settings.data&&this.data_setter(this._settings.data)},url_setter:function(a){return this._ready_for_data?(this.load(a,this._settings.datatype),a):a},data_setter:function(a){return this._ready_for_data?(this.parse(a,this._settings.datatype),!0):a},load:function(a,b){this.callEvent("onXLS",[]),"string"==typeof b?(this.data.driver=dhtmlx.DataDriver[b],b=arguments[2]):this.data.driver=dhtmlx.DataDriver.xml,dhtmlx.ajax(a,[this._onLoad,b],this)},parse:function(a,b){this.callEvent("onXLS",[]),this.data.driver=dhtmlx.DataDriver[b||"xml"],this._onLoad(a,null)},_onLoad:function(a,b){var c=this.data.driver,d=c.getRecords(c.toObject(a,b))[0];this.data=c?c.getDetails(d):a,this.callEvent("onXLE",[])},_check_data_feed:function(a){if(!this._settings.dataFeed||this._ignore_feed||!a)return!0;var b=this._settings.dataFeed;return"function"==typeof b?b.call(this,a.id||a,a):(b=b+(-1==b.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a),this.callEvent("onXLS",[]),dhtmlx.ajax(b,function(a){this._ignore_feed=!0,this.setValues(dhtmlx.DataDriver.json.toObject(a)[0]),this._ignore_feed=!1,this.callEvent("onXLE",[])},this),!1)}},dhtmlx.DataDriver={},dhtmlx.DataDriver.json={toObject:function(data){return data||(data="[]"),"string"==typeof data?(eval("dhtmlx.temp="+data),dhtmlx.temp):data},getRecords:function(a){return!a||a instanceof Array?a:[a]},getDetails:function(a){return a},getInfo:function(a){return{_size:a.total_count||0,_from:a.pos||0,_key:a.dhx_security}}},dhtmlx.DataDriver.json_ext={toObject:function(data){if(data||(data="[]"),"string"==typeof data){var temp;eval("temp="+data),dhtmlx.temp=[];for(var header=temp.header,i=0;i<temp.data.length;i++){for(var item={},j=0;j<header.length;j++)"undefined"!=typeof temp.data[i][j]&&(item[header[j]]=temp.data[i][j]);dhtmlx.temp.push(item)}return dhtmlx.temp}return data},getRecords:function(a){return!a||a instanceof Array?a:[a]},getDetails:function(a){return a},getInfo:function(a){return{_size:a.total_count||0,_from:a.pos||0}}},dhtmlx.DataDriver.html={toObject:function(a){if("string"==typeof a){var b=null;return-1==a.indexOf("<")&&(b=dhtmlx.toNode(a)),b||(b=document.createElement("DIV"),b.innerHTML=a),b.getElementsByTagName(this.tag)}return a},getRecords:function(a){return a.tagName?a.childNodes:a},getDetails:function(a){return dhtmlx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{_size:0,_from:0}},tag:"LI"},dhtmlx.DataDriver.jsarray={toObject:function(data){return"string"==typeof data?(eval("dhtmlx.temp="+data),dhtmlx.temp):data},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{_size:0,_from:0}}},dhtmlx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){a=this.stringToArray(a);for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{_size:0,_from:0}},stringToArray:function(a){a=a.split(this.cell);for(var b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","},dhtmlx.DataDriver.xml={toObject:function(a,b){return b&&(b=this.checkResponse(a,b))?b:"string"==typeof a?this.fromString(a):a},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){return{_size:a.documentElement.getAttribute("total_count")||0,_from:a.documentElement.getAttribute("pos")||0,_key:a.documentElement.getAttribute("dhx_security")}},xpath:function(a,b){if(window.XPathResult){var c=a;-1==a.nodeName.indexOf("document")&&(a=a.ownerDocument);for(var d=[],e=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null),f=e.iterateNext();f;)d.push(f),f=e.iterateNext();return d}var g=!0;try{"undefined"==typeof a.selectNodes&&(g=!1)}catch(h){}if(g)return a.selectNodes(b);var i=b.split("/").pop();return a.getElementsByTagName(i)},tagToObject:function(a,b){b=b||{};var c=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=!0}for(var f=a.childNodes,e=0;e<f.length;e++)if(1==f[e].nodeType){var g=f[e].tagName;"undefined"!=typeof b[g]?(b[g]instanceof Array||(b[g]=[b[g]]),b[g].push(this.tagToObject(f[e],{}))):b[f[e].tagName]=this.tagToObject(f[e],{}),c=!0}return c?(b.value=this.nodeValue(a),b):this.nodeValue(a)},nodeValue:function(a){return a.firstChild?a.firstChild.wholeText||a.firstChild.data:""},fromString:function(a){if(window.DOMParser&&!dhtmlx._isIE)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");return b.loadXML(a),b}dhtmlx.error("Load from xml string is not supported")},checkResponse:function(a,b){if(b&&b.firstChild&&"parsererror"!=b.firstChild.tagName)return b;var c=this.fromString(a.replace(/^[\s]+/,""));return c?c:void dhtmlx.error("xml can't be parsed",a)}},dhtmlx.DataLoader={_init:function(a){a=a||"",this.name="DataStore",this.data=a.datastore||new dhtmlx.DataStore,this._readyHandler=this.data.attachEvent("onStoreLoad",dhtmlx.bind(this._call_onready,this))},load:function(a){dhtmlx.AtomDataLoader.load.apply(this,arguments),this.data.feed||(this.data.feed=function(b,c){return this._load_count?this._load_count=[b,c]:(this._load_count=!0,void this.load(a+(-1==a.indexOf("?")?"?":"&")+"posStart="+b+"&count="+c,function(){var a=this._load_count;this._load_count=!1,"object"==typeof a&&this.data.feed.apply(this,a)}))})},_onLoad:function(a,b){this.data._parse(this.data.driver.toObject(a,b)),this.callEvent("onXLE",[]),this._readyHandler&&(this.data.detachEvent(this._readyHandler),this._readyHandler=null)},dataFeed_setter:function(a){return this.data.attachEvent("onBeforeFilter",dhtmlx.bind(function(a,b){if(this._settings.dataFeed){var c={};if(!a&&!c)return;if("function"==typeof a){if(!b)return;a(b,c)}else c={text:b};this.clearAll();var d=this._settings.dataFeed;if("function"==typeof d)return d.call(this,b,c);var e=[];for(var f in c)e.push("dhx_filter["+f+"]="+encodeURIComponent(c[f]));return this.load(d+(d.indexOf("?")<0?"?":"&")+e.join("&"),this._settings.datatype),!1}},this)),a},_call_onready:function(){if(this._settings.ready){var a=dhtmlx.toFunctor(this._settings.ready);a&&a.call&&a.apply(this,arguments)}}},dhtmlx.DataStore=function(){this.name="DataStore",dhtmlx.extend(this,dhtmlx.EventSystem),this.setDriver("xml"),this.pull={},this.order=dhtmlx.toArray()},dhtmlx.DataStore.prototype={setDriver:function(a){dhtmlx.assert(dhtmlx.DataDriver[a],"incorrect DataDriver"),this.driver=dhtmlx.DataDriver[a]},_parse:function(a){this.callEvent("onParse",[this.driver,a]),this._filter_order&&this.filter();var b=this.driver.getInfo(a);b._key&&(dhtmlx.security_key=b._key);var c=this.driver.getRecords(a),d=1*(b._from||0);0===d&&this.order[0]&&(d=this.order.length);for(var e=0,f=0;f<c.length;f++){var g=this.driver.getDetails(c[f]),h=this.id(g);this.pull[h]||(this.order[e+d]=h,e++),this.pull[h]=g,this.extraParser&&this.extraParser(g),this._scheme&&(this._scheme.$init?this._scheme.$update(g):this._scheme.$update&&this._scheme.$update(g))}for(var f=0;f<b._size;f++)if(!this.order[f]){var h=dhtmlx.uid(),g={id:h,$template:"loading"};this.pull[h]=g,this.order[f]=h}this.callEvent("onStoreLoad",[this.driver,a]),this.refresh()},id:function(a){return a.id||(a.id=dhtmlx.uid())},changeId:function(a,b){dhtmlx.assert(this.pull[a],"Can't change id, for non existing item: "+a),this.pull[b]=this.pull[a],this.pull[b].id=b,this.order[this.order.find(a)]=b,this._filter_order&&(this._filter_order[this._filter_order.find(a)]=b),this.callEvent("onIdChange",[a,b]),this._render_change_id&&this._render_change_id(a,b)},get:function(a){return this.item(a)},set:function(a,b){return this.update(a,b)},item:function(a){return this.pull[a]},update:function(a,b){return this._scheme&&this._scheme.$update&&this._scheme.$update(b),this.callEvent("onBeforeUpdate",[a,b])===!1?!1:(this.pull[a]=b,void this.refresh(a))},refresh:function(a){this._skip_refresh||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a){this._skip_refresh=!0,a.call(this),this._skip_refresh=!1},getRange:function(a,b){if(a=a?this.indexById(a):this.startOffset||0,b?b=this.indexById(b):(b=Math.min(this.endOffset||1/0,this.dataCount()-1),0>b&&(b=0)),a>b){var c=b;b=a,a=c}return this.getIndexRange(a,b)},getIndexRange:function(a,b){b=Math.min(b||1/0,this.dataCount()-1);for(var c=dhtmlx.toArray(),d=a||0;b>=d;d++)c.push(this.item(this.order[d]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){if(0>a||0>b)return void dhtmlx.error("DataStore::move","Incorrect indexes");var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a),this.order.insertAt(c,Math.min(this.order.length,b)),this.callEvent("onStoreUpdated",[c,d,"move"])},scheme:function(a){this._scheme=a},sync:function(a,b,c){"function"!=typeof b&&(c=b,b=null),dhtmlx.debug_bind&&(this.debug_sync_master=a,dhtmlx.log("[sync] "+this.debug_bind_master.name+"@"+this.debug_bind_master._settings.id+" <= "+this.debug_sync_master.name+"@"+this.debug_sync_master._settings.id));var d=a;"DataStore"!=a.name&&(a=a.data);var e=dhtmlx.bind(function(d,e,f){("update"!=f||b)&&(d=null),d||(this.order=dhtmlx.toArray([].concat(a.order)),this._filter_order=null,this.pull=a.pull,b&&this.silent(b),this._on_sync&&this._on_sync()),dhtmlx.debug_bind&&dhtmlx.log("[sync:request] "+this.debug_sync_master.name+"@"+this.debug_sync_master._settings.id+" <= "+this.debug_bind_master.name+"@"+this.debug_bind_master._settings.id),c?c=!1:this.refresh(d)},this);a.attachEvent("onStoreUpdated",e),this.feed=function(a,b){d.loadNext(b,a)},e()},add:function(a,b){if(this._scheme){a=a||{};for(var c in this._scheme)a[c]=a[c]||this._scheme[c];this._scheme&&(this._scheme.$init?this._scheme.$update(a):this._scheme.$update&&this._scheme.$update(a))}var d=this.id(a),e=this.dataCount();if((dhtmlx.isNotDefined(b)||0>b)&&(b=e),b>e&&(dhtmlx.log("Warning","DataStore:add","Index of out of bounds"),b=Math.min(this.order.length,b)),this.callEvent("onBeforeAdd",[d,a,b])===!1)return!1;if(this.exists(d))return dhtmlx.error("Not unique ID");if(this.pull[d]=a,this.order.insertAt(d,b),this._filter_order){var f=this._filter_order.length;!b&&this.order.length&&(f=0),this._filter_order.insertAt(d,f)}return this.callEvent("onafterAdd",[d,b]),this.callEvent("onStoreUpdated",[d,a,"add"]),d},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(this.callEvent("onBeforeDelete",[a])===!1)return!1;if(!this.exists(a))return dhtmlx.error("Not existing ID",a);var c=this.item(a);this.order.remove(a),this._filter_order&&this._filter_order.remove(a),delete this.pull[a],this.callEvent("onafterdelete",[a]),this.callEvent("onStoreUpdated",[a,c,"delete"])}},clearAll:function(){this.pull={},this.order=dhtmlx.toArray(),this.feed=null,this._filter_order=null,this.callEvent("onClearAll",[]),this.refresh()},idByIndex:function(a){return(a>=this.order.length||0>a)&&dhtmlx.log("Warning","DataStore::idByIndex Incorrect index"),this.order[a]},indexById:function(a){var b=this.order.find(a);return b},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(a,b){return this.order[this.indexById(a)-(b||1)]},sort:function(a,b,c){var d=a;"function"==typeof a?d={as:a,dir:b}:"string"==typeof a&&(d={by:a,dir:b,as:c});var e=[d.by,d.dir,d.as];if(this.callEvent("onbeforesort",e)){if(this.order.length){var f=dhtmlx.sort.create(d),g=this.getRange(this.first(),this.last());g.sort(f),this.order=g.map(function(a){return this.id(a)},this)}this.refresh(),this.callEvent("onaftersort",e)}},filter:function(a,b){if(this.callEvent("onBeforeFilter",[a,b])&&(this._filter_order&&(this.order=this._filter_order,delete this._filter_order),this.order.length)){if(a){var c=a;b=b||"","string"==typeof a&&(a=dhtmlx.Template.fromHTML(a),b=b.toString().toLowerCase(),c=function(b,c){return-1!=a(b).toLowerCase().indexOf(c)});for(var d=dhtmlx.toArray(),e=0;e<this.order.length;e++){var f=this.order[e];c(this.item(f),b)&&d.push(f)}this._filter_order=this.order,this.order=d}this.refresh(),this.callEvent("onAfterFilter",[])}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},provideApi:function(a,b){this.debug_bind_master=a,b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c=["get","set","sort","add","remove","exists","idByIndex","indexById","item","update","refresh","dataCount","filter","next","previous","clearAll","first","last","serialize"],d=0;d<c.length;d++)a[c[d]]=dhtmlx.methodPush(this,c[d]);dhtmlx.assert_enabled()&&this.assert_event(a)},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++)b.push(this.pull[a[c]]);return b}},dhtmlx.sort={create:function(a){return dhtmlx.sort.dir(a.dir,dhtmlx.sort.by(a.by,a.as))},as:{"int":function(a,b){return a=1*a,b=1*b,a>b?1:b>a?-1:0},string_strict:function(a,b){return a=a.toString(),b=b.toString(),a>b?1:b>a?-1:0},string:function(a,b){return a=a.toString().toLowerCase(),b=b.toString().toLowerCase(),a>b?1:b>a?-1:0}},by:function(a,b){return a?("function"!=typeof b&&(b=dhtmlx.sort.as[b||"string"]),a=dhtmlx.Template.fromHTML(a),function(c,d){return b(a(c),a(d))}):b},dir:function(a,b){return"asc"==a?b:function(a,c){return-1*b(a,c)}}},dhtmlx.KeyEvents={_init:function(){dhtmlx.event(this._obj,"keypress",this._onKeyPress,this)},_onKeyPress:function(a){a=a||event;var b=a.which||a.keyCode;this.callEvent(this._edit_id?"onEditKeyPress":"onKeyPress",[b,a.ctrlKey,a.shiftKey,a])}},dhtmlx.MouseEvents={_init:function(){this.on_click&&(dhtmlx.event(this._obj,"click",this._onClick,this),dhtmlx.event(this._obj,"contextmenu",this._onContext,this)),this.on_dblclick&&dhtmlx.event(this._obj,"dblclick",this._onDblClick,this),this.on_mouse_move&&(dhtmlx.event(this._obj,"mousemove",this._onMouse,this),dhtmlx.event(this._obj,dhtmlx._isIE?"mouseleave":"mouseout",this._onMouse,this))},_onClick:function(a){return this._mouseEvent(a,this.on_click,"ItemClick")},_onDblClick:function(a){return this._mouseEvent(a,this.on_dblclick,"ItemDblClick")},_onContext:function(a){var b=dhtmlx.html.locate(a,this._id);return b&&!this.callEvent("onBeforeContextMenu",[b,a])?dhtmlx.html.preventEvent(a):void 0},_onMouse:function(a){dhtmlx._isIE&&(a=document.createEventObject(event)),this._mouse_move_timer&&window.clearTimeout(this._mouse_move_timer),this.callEvent("onMouseMoving",[a]),this._mouse_move_timer=window.setTimeout(dhtmlx.bind(function(){"mousemove"==a.type?this._onMouseMove(a):this._onMouseOut(a)},this),500)},_onMouseMove:function(a){this._mouseEvent(a,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[a||event])},_onMouseOut:function(a){this.callEvent("onMouseOut",[a||event])},_mouseEvent:function(a,b,c){a=a||event;for(var d=a.target||a.srcElement,e="",f=null,g=!1;d&&d.parentNode;){if(!g&&d.getAttribute&&(f=d.getAttribute(this._id))){if(d.getAttribute("userdata")&&this.callEvent("onLocateData",[f,d]),!this.callEvent("on"+c,[f,a,d]))return;g=!0}if(e=d.className,e&&(e=e.split(" "),e=e[0]||e[1],b[e]))return b[e].call(this,a,f||dhtmlx.html.locate(a,this._id),d);d=d.parentNode}return g}},dhtmlx.Settings={_init:function(){this._settings=this.config={}},define:function(a,b){return"object"==typeof a?this._parseSeetingColl(a):this._define(a,b)},_define:function(a,b){dhtmlx.assert_settings.call(this,a,b);var c=this[a+"_setter"];return this._settings[a]=c?c.call(this,b):b},_parseSeetingColl:function(a){if(a)for(var b in a)this._define(b,a[b])},_parseSettings:function(a,b){var c=dhtmlx.extend({},b);"object"!=typeof a||a.tagName||dhtmlx.extend(c,a),this._parseSeetingColl(c)},_mergeSettings:function(a,b){for(var c in b)switch(typeof a[c]){case"object":a[c]=this._mergeSettings(a[c]||{},b[c]);break;case"undefined":a[c]=b[c]}return a},_parseContainer:function(a,b,c){"object"!=typeof a||a.tagName||(a=a.container),this._obj=this.$view=dhtmlx.toNode(a),!this._obj&&c&&(this._obj=c(a)),dhtmlx.assert(this._obj,"Incorrect html container"),this._obj.className+=" "+b,this._obj.onselectstart=function(){return!1},this._dataobj=this._obj},_set_type:function(a){return"object"==typeof a?this.type_setter(a):(dhtmlx.assert(this.types,"RenderStack :: Types are not defined"),dhtmlx.assert(this.types[a],"RenderStack :: Inccorect type name",a),this.type=dhtmlx.extend({},this.types[a]),void this.customize())},customize:function(a){a&&dhtmlx.extend(this.type,a),this.type._item_start=dhtmlx.Template.fromHTML(this.template_item_start(this.type)),this.type._item_end=this.template_item_end(this.type),this.render()},type_setter:function(a){return this._set_type("object"==typeof a?dhtmlx.Type.add(this,a):a),a},template_setter:function(a){return this.type_setter({template:a})},css_setter:function(a){return this._obj.className+=" "+a,a}},dhtmlx.Template={_cache:{},empty:function(){return""},setter:function(a){return dhtmlx.Template.fromHTML(a)},obj_setter:function(a){var b=dhtmlx.Template.setter(a),c=this;return function(){return b.apply(c,arguments)}},fromHTML:function(a){return"function"==typeof a?a:this._cache[a]?this._cache[a]:(a=(a||"").toString(),a=a.replace(/[\r\n]+/g,"\\n"),a=a.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"'),a=a.replace(/\{common\.([^}\(]*)\}/g,'"+common.$1+"'),a=a.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1(obj):"")+"'),a=a.replace(/\{obj\.([^}]*)\}/g,'"+obj.$1+"'),a=a.replace(/#([a-z0-9_]+)#/gi,'"+obj.$1+"'),a=a.replace(/\{obj\}/g,'"+obj+"'),a=a.replace(/\{-obj/g,"{obj"),a=a.replace(/\{-common/g,"{common"),a='return "'+a+'";',this._cache[a]=Function("obj","common",a))}},dhtmlx.Type={add:function(a,b){!a.types&&a.prototype.types&&(a=a.prototype),dhtmlx.assert_enabled()&&this.assert_event(b);var c=b.name||"default";return this._template(b),this._template(b,"edit"),this._template(b,"loading"),a.types[c]=dhtmlx.extend(dhtmlx.extend({},a.types[c]||this._default),b),c},_default:{css:"default",template:function(){return""},template_edit:function(){return""},template_loading:function(){return"..."},width:150,height:80,margin:5,padding:0},_template:function(a,b){b="template"+(b?"_"+b:"");var c=a[b];if(c&&"string"==typeof c){if(-1!=c.indexOf("->"))switch(c=c.split("->"),c[0]){case"html":c=dhtmlx.html.getValue(c[1]).replace(/\"/g,'\\"');break;case"http":c=(new dhtmlx.ajax).sync().get(c[1],{uid:(new Date).valueOf()}).responseText}a[b]=dhtmlx.Template.fromHTML(c)}}},dhtmlx.SingleRender={_init:function(){},_toHTML:function(a){return this.type._item_start(a,this.type)+this.type.template(a,this.type)+this.type._item_end},render:function(){(!this.callEvent||this.callEvent("onBeforeRender",[this.data]))&&(this.data&&(this._dataobj.innerHTML=this._toHTML(this.data)),this.callEvent&&this.callEvent("onAfterRender",[]))}},dhtmlx.ui.Tooltip=function(a){this.name="Tooltip",this.version="3.0",dhtmlx.assert_enabled()&&this._assert(),"string"==typeof a&&(a={template:a}),dhtmlx.extend(this,dhtmlx.Settings),dhtmlx.extend(this,dhtmlx.SingleRender),this._parseSettings(a,{type:"default",dy:0,dx:20}),this._dataobj=this._obj=document.createElement("DIV"),this._obj.className="dhx_tooltip",dhtmlx.html.insertBefore(this._obj,document.body.firstChild)
},dhtmlx.ui.Tooltip.prototype={show:function(a,b){this._disabled||(this.data!=a&&(this.data=a,this.render(a)),this._obj.style.top=b.y+this._settings.dy+"px",this._obj.style.left=b.x+this._settings.dx+"px",this._obj.style.display="block")},hide:function(){this.data=null,this._obj.style.display="none"},disable:function(){this._disabled=!0},enable:function(){this._disabled=!1},types:{"default":dhtmlx.Template.fromHTML("{obj.id}")},template_item_start:dhtmlx.Template.empty,template_item_end:dhtmlx.Template.empty},dhtmlx.AutoTooltip={tooltip_setter:function(a){var b=new dhtmlx.ui.Tooltip(a);return this.attachEvent("onMouseMove",function(a,c){b.show(this.get(a),dhtmlx.html.pos(c))}),this.attachEvent("onMouseOut",function(){b.hide()}),this.attachEvent("onMouseMoving",function(){b.hide()}),b}},dhtmlx.compat=function(a,b){dhtmlx.compat[a]&&dhtmlx.compat[a](b)},function(){if(!window.dhtmlxError){var a=function(){};window.dhtmlxError={catchError:a,throwError:a},window.convertStringToBoolean=function(a){return!!a},window.dhtmlxEventable=function(a){dhtmlx.extend(a,dhtmlx.EventSystem)};var b={getXMLTopNode:function(){},doXPath:function(a){return dhtmlx.DataDriver.xml.xpath(this.xml,a)},xmlDoc:{responseXML:!0}};dhtmlx.compat.dataProcessor=function(a){var c="_sendData",d="_in_progress",e="_tMode",f="_waitMode";a[c]=function(a,c){if(a){if(c&&(this[d][c]=(new Date).valueOf()),!this.callEvent("onBeforeDataSending",c?[c,this.getState(c)]:[]))return!1;var g=this,h=this.serverProcessor;"POST"!=this[e]?dhtmlx.ajax().get(h+(-1!=h.indexOf("?")?"&":"?")+this.serialize(a,c),"",function(a,c){b.xml=dhtmlx.DataDriver.xml.checkResponse(a,c),g.afterUpdate(g,null,null,null,b)}):dhtmlx.ajax().post(h,this.serialize(a,c),function(a,c){b.xml=dhtmlx.DataDriver.xml.checkResponse(a,c),g.afterUpdate(g,null,null,null,b)}),this[f]++}}}}}(),dhtmlx.attaches||(dhtmlx.attaches={}),dhtmlx.attaches.attachAbstract=function(a,b){var c=document.createElement("DIV");c.id="CustomObject_"+dhtmlx.uid(),c.style.width="100%",c.style.height="100%",c.cmp="grid",document.body.appendChild(c),this.attachObject(c.id),b.container=c.id;var d=this.vs[this.av];d.grid=new window[a](b),d.gridId=c.id,d.gridObj=c,d.grid.setSizes=function(){this.resize?this.resize():this.render()};var e="_viewRestore";return this.vs[this[e]()].grid},dhtmlx.attaches.attachDataView=function(a){return this.attachAbstract("dhtmlXDataView",a)},dhtmlx.attaches.attachChart=function(a){return this.attachAbstract("dhtmlXChart",a)},dhtmlx.compat.layout=function(){},dhtmlXCellObject.prototype.showView=function(a){if(this.conf.view==a)return!1;this._viewSave(this.conf.view),this._viewRestore(a),this._updateIdx(),this._adjustCont(),this.conf.view=a;var b="undefined"==typeof this.conf.views_loaded[this.conf.view];return this.conf.views_loaded[this.conf.view]=!0,b},dhtmlXCellObject.prototype.getViewName=function(){return this.conf.view},dhtmlXCellObject.prototype.unloadView=function(a){if(a==this.conf.view){var b=this.conf.unloading;return this.conf.unloading=!0,this.detachMenu(),this.detachToolbar(),this.detachStatusBar(),this.detachRibbon(),this._detachObject(null,!0),this.conf.unloading=b,void(this.conf.unloading||this._adjustCont(this._idd))}if(null!=this.views[a]){var c=this.views[a];for(var d in c.dataNodes)"function"==typeof c.dataNodes[d].unload&&c.dataNodes[d].unload(),c.dataNodes[d]=null,c.dataNodesCont[d]=null;"url"==c.dataType?null!=c.cellCont&&"null"!=c.cellCont[0]&&this._detachURLEvents(c.cellCont[0]):null!=c.dataObj&&("function"==typeof c.dataObj.unload?c.dataObj.unload():"function"==typeof c.dataObj.destructor&&c.dataObj.destructor(),c.dataObj=null),c=null,this._viewDelete(a),"undefined"!=typeof this.conf.views_loaded[a]&&delete this.conf.views_loaded[a]}},dhtmlXCellObject.prototype.getId=function(){return this._idd},dhtmlXCellObject.prototype.progressOn=function(){if(!this.conf.progress){this.conf.progress=!0;var a=document.createElement("DIV");a.className="dhx_cell_progress_bar",this.cell.appendChild(a);var b=document.createElement("DIV");b.className="dhx_cell_progress_img",this.cell.appendChild(b),a=b=null,this._updateIdx(),this._adjustProgress()}},dhtmlXCellObject.prototype.progressOff=function(){this.conf.progress&&(this.cell.childNodes[this.conf.idx.pr2].parentNode.removeChild(this.cell.childNodes[this.conf.idx.pr2]),this.cell.childNodes[this.conf.idx.pr1].parentNode.removeChild(this.cell.childNodes[this.conf.idx.pr1]),this.conf.progress=!1,this._updateIdx())},dhtmlXCellObject.prototype._adjustProgress=function(){if(null!=this.conf.idx.pr1){this.conf.pr||(this.conf.pr={});var a=this.cell.childNodes[this.conf.idx.pr1],b=this.cell.childNodes[this.conf.idx.pr2];this.conf.pr.ofs||(b.style.width=a.offsetWidth+"px",b.style.height=a.offsetHeight+"px",this.conf.pr.ofs={w:b.offsetWidth-b.clientWidth,h:b.offsetHeight-b.clientHeight}),b.style.width=a.offsetWidth-this.conf.pr.ofs.w+"px",b.style.height=a.offsetHeight-this.conf.pr.ofs.h+"px",a=b=null}},dhtmlXCellObject.prototype._showBorders=function(a){this.conf.borders||(this.conf.borders=!0,this.cell.childNodes[this.conf.idx.cont].className="dhx_cell_cont"+this.conf.css,this.conf.cells_cont=null,this._mtbUpdBorder(),this.callEvent("_onBorderChange",[!0]),a!==!0&&this._adjustCont(this._idd))},dhtmlXCellObject.prototype._hideBorders=function(a){this.conf.borders&&(this.conf.borders=!1,this.cell.childNodes[this.conf.idx.cont].className="dhx_cell_cont"+this.conf.css+" dhx_cell_cont_no_borders",this.conf.cells_cont=null,this._mtbUpdBorder(),this.callEvent("_onBorderChange",[!1]),a!==!0&&this._adjustCont(this._idd))},dhtmlXCellObject.prototype._getWidth=function(){return this.cell.offsetWidth},dhtmlXCellObject.prototype._getHeight=function(){return this.cell.offsetHeight},dhtmlXCellObject.prototype.showInnerScroll=function(){this.cell.childNodes[this.conf.idx.cont].style.overflow="auto"},dhtmlXCellObject.prototype._unload=function(){this.conf.unloading=!0,this.callEvent("_onCellUnload",[]),this.progressOff(),this.unloadView(this.conf.view),this.dataNodes=null,this.cell.parentNode.removeChild(this.cell),this.cell=null,window.dhx4._eventable(this,"clear");for(var a in this.views)this.unloadView(a);this.conf=null;for(var a in this)this[a]=null},dhtmlXCellObject.prototype.attachObject=function(a,b){if(!window.dhx4.s2b(b)||"undefined"!=typeof window.dhtmlXWindowsCell&&this instanceof window.dhtmlXWindowsCell||(b=!1),"string"==typeof a&&(a=document.getElementById(a)),a.parentNode==this.cell.childNodes[this.conf.idx.cont])return void(a=null);if(b){a.style.display="";var c=a.offsetWidth,d=a.offsetHeight}this._attachObject(a),this.dataType="obj",a.style.display="",a=null,b&&this._adjustByCont(c,d)},dhtmlXCellObject.prototype.appendObject=function(a){return"string"==typeof a&&(a=document.getElementById(a)),a.parentNode==this.cell.childNodes[this.conf.idx.cont]?void(a=null):(this.conf.append_mode||(this.cell.childNodes[this.conf.idx.cont].style.overflow="auto",this.conf.append_mode=!0),this._attachObject(a,null,null,!0),this.dataType="obj",a.style.display="",void(a=null))},dhtmlXCellObject.prototype.detachObject=function(a,b){this._detachObject(null,a,b)},dhtmlXCellObject.prototype.getAttachedMenu=function(){return this.dataNodes.menu},dhtmlXCellObject.prototype.getAttachedToolbar=function(){return this.dataNodes.toolbar},dhtmlXCellObject.prototype.getAttachedRibbon=function(){return this.dataNodes.ribbon},dhtmlXCellObject.prototype.getAttachedStatusBar=function(){return this.dataNodes.sb},dhtmlXCellObject.prototype.getAttachedObject=function(){return this.dataObj},dhtmlXCellObject.prototype.attachURL=function(a,b,c){1==c&&(c={});var d="undefined"!=typeof c&&0!=c&&null!=c;if(this.conf.url_data||(this.conf.url_data={}),this.conf.url_data.url=a,this.conf.url_data.ajax=1==b,this.conf.url_data.post_data=1==c?{}:c||null,1==b){var e=this;if(d){var f="";for(var g in c)f+="&"+encodeURIComponent(g)+"="+encodeURIComponent(c[g]);dhx4.ajax.post(a,f,function(a){e.attachHTMLString("<div style='position:relative;width:100%;height:100%;overflow:auto;'>"+a.xmlDoc.responseText+"</div>"),"function"==typeof e._doOnFrameContentLoaded&&e._doOnFrameContentLoaded(),e.dataType="url-ajax",e=a=null})}else dhx4.ajax.get(a,function(a){e.attachHTMLString("<div style='position:relative;width:100%;height:100%;overflow:auto;'>"+a.xmlDoc.responseText+"</div>"),"function"==typeof e._doOnFrameContentLoaded&&e._doOnFrameContentLoaded(),e.dataType="url-ajax",e=a=null})}else{if("url"==this.dataType)var h=this.getFrame();else{var h=document.createElement("IFRAME");h.frameBorder=0,h.border=0,h.style.width="100%",h.style.height="100%",h.style.position="relative",this._attachObject(h),this.dataType="url",this._attachURLEvents()}if(d){var i="undefined"==typeof this.conf.url_data.post_ifr;this.conf.url_data.post_ifr=!0,i&&this._attachURLEvents(),h.src="about:blank"}else h.src=a+(a.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime();h=null}h=null},dhtmlXCellObject.prototype.reloadURL=function(){("url"==this.dataType||"url-ajax"==this.dataType)&&null!=this.conf.url_data&&this.attachURL(this.conf.url_data.url,this.conf.url_data.ajax,this.conf.url_data.post_data)},dhtmlXCellObject.prototype.attachHTMLString=function(a){this._attachObject(null,null,a);for(var b=a.match(/<script[^>]*>[^\f]*?<\/script>/g)||[],c=0;c<b.length;c++){var d=b[c].replace(/<([\/]{0,1})script[^>]*>/gi,"");d&&(window.execScript?window.execScript(d):window.eval(d))}},dhtmlXCellObject.prototype.attachLayout=function(a){"dhx_skyblue"==this.conf.skin&&"undefined"!=typeof window.dhtmlXWindowsCell&&this instanceof dhtmlXWindowsCell,this instanceof dhtmlXLayoutCell&&this._hideBorders();var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.overflow="hidden",this._attachObject(b),"undefined"!=typeof this._layoutMainInst&&(b._layoutMainInst=this._layoutMainInst),this instanceof window.dhtmlXLayoutCell,"undefined"!=typeof window.dhtmlXLayoutCell&&this instanceof dhtmlXLayoutCell&&(b._isParentCell=!0),"undefined"!=typeof window.dhtmlXAccordionCell&&this instanceof window.dhtmlXAccordionCell&&(b._ofs={t:-1}),"string"==typeof a&&(a={pattern:a}),"undefined"==typeof a.skin&&(a.skin=this.conf.skin),a.parent=b,this.dataType="layout",this.dataObj=new dhtmlXLayoutObject(a),this instanceof dhtmlXLayoutCell&&(this.dataObj.parentLayout=this.layout),b._layoutMainInst=null,a.parent=null,b=a=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachTree=function(a){var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.overflow="hidden",this._attachObject(b),this.dataType="tree",this.dataObj=new dhtmlXTreeObject(b,"100%","100%",a||0),this.dataObj.setSkin(this.conf.skin),this.dataObj.allTree.childNodes[0].style.marginTop="2px",this.dataObj.allTree.childNodes[0].style.marginBottom="2px",b=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachGrid=function(){var a=document.createElement("DIV");return a.style.width="100%",a.style.height="100%",a.style.position="relative",a.style.overflow="hidden",this._attachObject(a),this.dataType="grid",this.dataObj=new dhtmlXGridObject(a),this.dataObj.setSkin(this.conf.skin),"dhx_skyblue"==this.conf.skin&&"undefined"!=typeof window.dhtmlXWindowsCell&&this instanceof window.dhtmlXWindowsCell?(this.dataObj.entBox.style.border="1px solid #a4bed4",this.dataObj._sizeFix=0):(this.dataObj.entBox.style.border="0px solid white",this.dataObj._sizeFix=2),a=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachTabbar=function(a){"undefined"!=typeof window.dhtmlXLayoutCell&&this instanceof dhtmlXLayoutCell&&this._hideBorders(),"string"==typeof a?a={mode:a}:("object"!=typeof a||null==a)&&(a={});var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.overflow="hidden","undefined"!=typeof window.dhtmlXAccordionCell&&this instanceof window.dhtmlXAccordionCell&&(b._ofs={t:-1}),this._attachObject(b),a.skin=this.conf.skin,a.parent=b,this.dataType="tabbar",this.dataObj=new dhtmlXTabBar(a),a.parent=b=null,a=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachAccordion=function(a){"undefined"!=typeof window.dhtmlXWindowsCell&&this instanceof dhtmlXWindowsCell||this._isCell&&this._hideBorders();var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",this._attachObject(b),"undefined"==typeof a&&(a={}),"undefined"==typeof a.skin&&(a.skin=this.conf.skin),a.parent=b,"undefined"!=typeof window.dhtmlXAccordionCell&&this instanceof window.dhtmlXAccordionCell&&(b._ofs={s:{first:-1},m:{first:4}}),this.dataType="acc",this.dataObj=new dhtmlXAccordion(a),a.obj=null,b=a=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachEditor=function(a){var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.overflow="hidden",this._attachObject(b),("object"!=typeof a||null==a)&&(a={}),a.parent=b,this.dataType="editor",this.dataObj=new dhtmlXEditor(a),b=null,a.parent=null,a=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachDataView=function(a){var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.overflow="hidden",this._attachObject(b),"undefined"==typeof a&&(a={}),b.id="DataViewObject_"+(new Date).getTime(),a.container=b.id,a.skin=this.conf.skin,this.dataType="dataview",this.dataObj=new dhtmlXDataView(a),this.dataObj.setSizes=function(){this.render()},b=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachScheduler=function(a,b,c,d){d=d||window.scheduler;var e=!1;if(c){var f=document.getElementById(c);f&&(e=!0)}if(!e){var g=c||'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>',f=document.createElement("DIV");f.id="dhxSchedObj_"+(new Date).getTime(),f.style.width="100%",f.style.height="100%",f.style.position="relative",f.style.overflow="hidden",f.className="dhx_cal_container",f.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+g+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>'}return this._attachObject(f),this.dataType="scheduler",this.dataObj=d,this.dataObj.setSizes=function(){this.update_view()},d.init(f.id,a,b),f=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachForm=function(a){var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",window.dhtmlx&&dhtmlx.$customScroll?dhtmlx.CustomScroll.enable(b):b.style.overflow="auto",this._attachObject(b),this.dataType="form",this.dataObj=new dhtmlXForm(b,a),this.dataObj.setSkin(this.conf.skin),b=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachMap=function(a){var b=document.createElement("DIV");return b.id="GMapsObj_"+this._genStr(12),b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.overflow="hidden",this._attachObject(b),a||(a={center:new google.maps.LatLng(40.719837,-73.992348),zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP}),this.dataType="maps",this.dataObj=new google.maps.Map(b,a),this.dataObj.setSizes=function(){google.maps.event.trigger(this,"resize")},b=null,this.callEvent("_onContentAttach",[]),this.dataObj},dhtmlXCellObject.prototype.attachChart=function(a){var b=document.createElement("DIV");return b.id="dhxChartObj_"+window.dhx4.newId(),b.style.width="100%",b.style.height="100%",document.body.appendChild(b),this._attachObject(b),a.container=b.id,this.dataType="chart",this.dataObj=new dhtmlXChart(a),this.dataObj.setSizes||(this.dataObj.setSizes=function(){this.resize?this.resize():this.render()}),this.dataObj},dhtmlXCellObject.prototype.attachMenu=function(a){return this.dataNodes.menu?void 0:("undefined"==typeof a&&(a={}),"undefined"==typeof a.skin&&(a.skin=this.conf.skin),a.parent=this._attachObject("menu").firstChild,this.dataNodes.menu=new dhtmlXMenuObject(a),this._adjustCont(this._idd),a.parent=null,a=null,this.dataNodes.menu)},dhtmlXCellObject.prototype.detachMenu=function(){this.dataNodes.menu&&(this.dataNodes.menu.unload(),this.dataNodes.menu=null,delete this.dataNodes.menu,this._detachObject("menu"))},dhtmlXCellObject.prototype.showMenu=function(){this._mtbShowHide("menu","")},dhtmlXCellObject.prototype.hideMenu=function(){this._mtbShowHide("menu","none")},dhtmlXCellObject.prototype.attachToolbar=function(a){return null==this.dataNodes.ribbon&&null==this.dataNodes.toolbar?("undefined"==typeof a?a={}:"string"==typeof a&&(a={skin:a}),"undefined"==typeof a.skin&&(a.skin=this.conf.skin),a.parent=this._attachObject("toolbar").firstChild,this.dataNodes.toolbar=new dhtmlXToolbarObject(a),this._adjustCont(this._idd),this.dataNodes.toolbar._masterCell=this,this.dataNodes.toolbar.attachEvent("_onIconSizeChange",function(){this._masterCell._adjustCont()}),a.parent=null,a=null,this.dataNodes.toolbar):void 0},dhtmlXCellObject.prototype.detachToolbar=function(){this.dataNodes.toolbar&&(this.dataNodes.toolbar._masterCell=null,this.dataNodes.toolbar.unload(),this.dataNodes.toolbar=null,delete this.dataNodes.toolbar,this._detachObject("toolbar"))},dhtmlXCellObject.prototype.showToolbar=function(){this._mtbShowHide("toolbar","")},dhtmlXCellObject.prototype.hideToolbar=function(){this._mtbShowHide("toolbar","none")},dhtmlXCellObject.prototype.attachRibbon=function(a){if(null==this.dataNodes.ribbon&&null==this.dataNodes.toolbar){"undefined"==typeof a&&(a={}),"undefined"==typeof a.skin&&(a.skin=this.conf.skin),a.parent=this._attachObject("ribbon").firstChild,this.dataNodes.ribbon=new dhtmlXRibbon(a);var b=this;return this.dataNodes.ribbon.attachEvent("_onHeightChanged",function(){b._adjustCont(b._idd)}),this._adjustCont(),a.parent=null,a=null,this.dataNodes.ribbon}},dhtmlXCellObject.prototype.detachRibbon=function(){this.dataNodes.ribbon&&(this.dataNodes.ribbon.unload(),this.dataNodes.ribbon=null,delete this.dataNodes.ribbon,this._detachObject("ribbon"))},dhtmlXCellObject.prototype.showRibbon=function(){this._mtbShowHide("ribbon","")},dhtmlXCellObject.prototype.hideRibbon=function(){this._mtbShowHide("ribbon","none")},dhtmlXCellObject.prototype.attachStatusBar=function(a){return this.dataNodes.sb?void 0:("dhx_skyblue"==this.conf.skin&&"undefined"!=typeof window.dhtmlXWindowsCell&&this instanceof dhtmlXWindowsCell&&(this.cell.childNodes[this.conf.idx.cont].className+=" dhx_cell_statusbar_attached"),this.dataNodes.sb=this._attachObject("sb",a),this.dataNodes.sb.setText=function(a){this.childNodes[0].innerHTML=a},this.dataNodes.sb.getText=function(){return this.childNodes[0].innerHTML},this.dataNodes.sb.onselectstart=function(){return!1},this.dataNodes.sb)},dhtmlXCellObject.prototype.detachStatusBar=function(){this.dataNodes.sb&&("dhx_skyblue"==this.conf.skin&&"undefined"!=typeof window.dhtmlXWindowsCell&&this instanceof dhtmlXWindowsCell&&(this.cell.childNodes[this.conf.idx.cont].className=this.cell.childNodes[this.conf.idx.cont].className.replace(/\s{0,}dhx_cell_statusbar_attached/,"")),this.dataNodes.sb.setText=this.dataNodes.sb.getText=this.dataNodes.sb.onselectstart=null,this.dataNodes.sb=null,delete this.dataNodes.sb,this._detachObject("sb"))},dhtmlXCellObject.prototype.showStatusBar=function(){this._mtbShowHide("sb","")},dhtmlXCellObject.prototype.hideStatusBar=function(){this._mtbShowHide("sb","none")},dhtmlXCellObject.prototype._mtbShowHide=function(a,b){this.dataNodes[a]&&(this.cell.childNodes[this.conf.idx[a]].style.display=b,this._adjustCont())},dhtmlXCellObject.prototype.getFrame=dhtmlXCellObject.prototype._getFrame=function(){return"url"!=this.dataType?null:this.cell.childNodes[this.conf.idx.cont].firstChild},dhtmlXCellObject.prototype._genStr=function(){return this._genStrId||(this._genStrId=(new Date).getTime()),this._genStrId++},dhtmlXCellObject.prototype._attachURLEvents=function(){if("url"==this.dataType){var a=this,b=this._idd,c=this.cell.childNodes[this.conf.idx.cont].firstChild;"function"!=typeof this._doOnFrameMouseDown&&(this._doOnFrameMouseDown=function(c){a.callEvent("_onContentMouseDown",[b,c||event])}),"function"==typeof window.addEventListener?c.onload=function(){try{"function"==typeof a._doOnFrameMouseDown&&this.contentWindow.document.body.addEventListener("mousedown",a._doOnFrameMouseDown,!1)}catch(b){}try{"function"==typeof a._doOnFrameContentLoaded&&a._doOnFrameContentLoaded()}catch(b){}}:c.onreadystatechange=function(){if("complete"==this.readyState){try{"function"==typeof a._doOnFrameMouseDown&&this.contentWindow.document.body.attachEvent("onmousedown",a._doOnFrameMouseDown)}catch(b){}try{"function"==typeof a._doOnFrameContentLoaded&&a._doOnFrameContentLoaded()}catch(b){}}}}},dhtmlXCellObject.prototype._doOnFrameContentLoaded=function(){if(1==this.conf.url_data.post_ifr){var a=this.getFrame().contentWindow.document,b=a.createElement("FORM");b.method="POST",b.action=this.conf.url_data.url,a.body.appendChild(b);var c={};c["dhxr"+(new Date).getTime()]="1";for(var d in this.conf.url_data.post_data)c[d]=this.conf.url_data.post_data[d];for(var d in c){var e=a.createElement("INPUT");e.type="hidden",e.name=d,e.value=c[d],b.appendChild(e),e=null}this.conf.url_data.post_ifr=!1,b.submit()}else this.callEvent("_onContentLoaded",[this._idd])},dhtmlXCellObject.prototype._detachURLEvents=function(a){if(null==a){if("url"!=this.dataType)return;a=this.cell.childNodes[this.conf.idx.cont].firstChild}if("function"==typeof window.addEventListener){a.onload=null;try{a.contentWindow.document.body.removeEventListener("mousedown",this._doOnFrameMouseDown,!1)}catch(b){}}else{a.onreadystatechange=null;try{a.contentWindow.document.body.detachEvent("onmousedown",this._doOnFrameMouseDown)}catch(b){}}a=null},dhtmlXCellObject.prototype._attachObject=function(a,b,c,d,e){if("menu"==a)return"undefined"!=typeof e?a=e:(a=document.createElement("DIV"),a.className="dhx_cell_menu_"+(this.conf.borders?"def":"no_borders"),a.appendChild(document.createElement("DIV"))),this.cell.insertBefore(a,this.cell.childNodes[this.conf.idx.toolbar||this.conf.idx.cont]),this.conf.ofs_nodes.t.menu=!0,this._updateIdx(),a;if("toolbar"==a)return"undefined"!=typeof e?a=e:(a=document.createElement("DIV"),a.className="dhx_cell_toolbar_"+(this.conf.borders?"def":"no_borders"),a.appendChild(document.createElement("DIV")),a.firstChild.className="dhx_toolbar_base_18_dhx_skyblue"),this.cell.insertBefore(a,this.cell.childNodes[this.conf.idx.cont]),this.conf.ofs_nodes.t.toolbar=!0,this._updateIdx(),a;if("ribbon"==a)return"undefined"!=typeof e?a=e:(a=document.createElement("DIV"),a.className="dhx_cell_ribbon_"+(this.conf.borders?"def":"no_borders"),a.appendChild(document.createElement("DIV"))),this.cell.insertBefore(a,this.cell.childNodes[this.conf.idx.cont]),this.conf.ofs_nodes.t.ribbon=!0,this._updateIdx(),this._adjustCont(this._idd),a;if("sb"==a){if("undefined"!=typeof e)a=e;else{var f=b||{},g="string"==typeof f.text&&f.text.length>0?f.text:"&nbsp;",h="number"==typeof f.height?f.height:!1,a=document.createElement("DIV");a.className="dhx_cell_statusbar_def",a.innerHTML="<div class='dhx_cell_statusbar_text'>"+g+"</div>",0!=h&&(a.firstChild.style.height=a.firstChild.style.lineHeight=h+"px")}return null!=this.conf.idx.pr1?this.cell.insertBefore(a,this.cell.childNodes[this.conf.idx.pr1]):this.cell.appendChild(a),this.conf.ofs_nodes.b.sb=!0,this._updateIdx(),this._adjustCont(this._idd),a}1!=d&&this._detachObject(null,!0,null),"string"==typeof c?this.cell.childNodes[this.conf.idx.cont].innerHTML=c:this.cell.childNodes[this.conf.idx.cont].appendChild(a),a=null},dhtmlXCellObject.prototype._detachObject=function(a,b,c){if(this.callEvent("_onBeforeContentDetach",[]),"menu"==a||"toolbar"==a||"ribbon"==a||"sb"==a){var d=this.cell.childNodes[this.conf.idx[a]];return d.parentNode.removeChild(d),d=null,this.conf.ofs_nodes["sb"==a?"b":"t"][a]=!1,this._updateIdx(),void(this.conf.unloading||this._adjustCont(this._idd))}1==b?c=!1:"undefined"==typeof c?c=document.body:"string"==typeof c&&(c=document.getElementById(c)),c===!1&&("url"==this.dataType?this._detachURLEvents():null!=this.dataObj&&("function"==typeof this.dataObj.unload?this.dataObj.unload():"function"==typeof this.dataObj.destructor&&this.dataObj.destructor()));for(var d=this.cell.childNodes[this.conf.idx.cont];d.childNodes.length>0;)c===!1?d.removeChild(d.lastChild):(d.firstChild.style.display="none",c.appendChild(d.firstChild));this.conf.append_mode&&(d.style.overflow="",this.conf.append_mode=!1);var e="tabbar"==this.dataType;this.dataObj=null,this.dataType=null,c=d=null,1!=this.conf.unloading&&e&&(this.showHeader(!0),this._showBorders())},dhtmlXCellObject.prototype._attachFromCell=function(a){this.detachObject(!0);var b="layout";"undefined"!=typeof window.dhtmlXWindowsCell&&this instanceof window.dhtmlXWindowsCell&&(b="window"),"undefined"!=typeof window.dhtmlXWindowsCell&&a instanceof window.dhtmlXWindowsCell&&a.wins.w[a._idd].conf.parked&&a.wins._winCellSetOpacity(a._idd,"open",!1),"undefined"!=typeof window.dhtmlXAccordionCell&&a instanceof window.dhtmlXAccordionCell&&0==a.conf.opened&&a._cellSetOpacity("open",!1);for(var c in a.dataNodes)this._attachObject(c,null,null,null,a.cell.childNodes[a.conf.idx[c]]),this.dataNodes[c]=a.dataNodes[c],a.dataNodes[c]=null,a.conf.ofs_nodes["sb"==c?"b":"t"][c]=!1,a._updateIdx();if(this._mtbUpdBorder(),null!=a.dataType&&null!=a.dataObj){for(this.dataType=a.dataType,this.dataObj=a.dataObj;a.cell.childNodes[a.conf.idx.cont].childNodes.length>0;)this.cell.childNodes[this.conf.idx.cont].appendChild(a.cell.childNodes[a.conf.idx.cont].firstChild);a.dataType=null,a.dataObj=null,"grid"==this.dataType&&("window"==b&&"dhx_skyblue"==this.conf.skin?(this.dataObj.entBox.style.border="1px solid #a4bed4",this.dataObj._sizeFix=0):(this.dataObj.entBox.style.border="0px solid white",this.dataObj._sizeFix=2))}else for(;a.cell.childNodes[a.conf.idx.cont].childNodes.length>0;)this.cell.childNodes[this.conf.idx.cont].appendChild(a.cell.childNodes[a.conf.idx.cont].firstChild);this.conf.view=a.conf.view,a.conf.view="def";for(var c in a.views)this.views[c]=a.views[c],a.views[c]=null,delete a.views[c];a._updateIdx(),a._adjustCont(),this._updateIdx(),this._adjustCont(),"window"==b&&this.wins.w[this._idd].conf.parked&&this.wins._winCellSetOpacity(this._idd,"close",!1)},dhtmlXLayoutObject.prototype.cells=function(a){for(var b in this.cdata){if(this.cdata[b].conf.name==a)return this.cdata[b];if("layout"==this.cdata[b].dataType&&1==this.cdata[b].dataNested&&null!=this.cdata[b].dataObj){var c=this.cdata[b].dataObj.cells(a);if(null!=c)return c}}return null},dhtmlXLayoutObject.prototype.forEachItem=function(a,b){if("function"==typeof a){"undefined"==typeof b&&(b=this);for(var c in this.cdata)"undefined"!=typeof this.cdata[c].conf.name&&a.apply(b,[this.cdata[c]]),"layout"==this.cdata[c].dataType&&1==this.cdata[c].dataNested&&null!=this.cdata[c].dataObj&&this.cdata[c].dataObj.forEachItem(a,b);b=null}},dhtmlXLayoutObject.prototype._forEachSep=function(a,b){if("function"==typeof a){"undefined"==typeof b&&(b=this),null!=this.sep&&a.apply(b,[this.sep]);for(var c in this.cdata)"layout"==this.cdata[c].dataType&&1==this.cdata[c].dataNested&&null!=this.cdata[c].dataObj&&this.cdata[c].dataObj._forEachSep(a,b);b=null}},dhtmlXLayoutObject.prototype.setOffsets=function(a){var b=!1;for(var c in a){var d=c.charAt(0);"undefined"==typeof this.conf.ofs[d]||isNaN(a[c])||(this.conf.ofs[d]=parseInt(a[c]),b=!0)}"function"==typeof this.setSizes&&1==b&&this.setSizes()},dhtmlXLayoutObject.prototype._detectSW=function(){if(null==dhtmlXLayoutObject.prototype._confGlob.sw&&(dhtmlXLayoutObject.prototype._confGlob.sw={}),null==dhtmlXLayoutObject.prototype._confGlob.sw[this.conf.skin]){var a=document.createElement("DIV");a.className="dhxlayout_sep_sw_"+this.conf.skin,null!=document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):document.body.appendChild(a),dhtmlXLayoutObject.prototype._confGlob.sw[this.conf.skin]=a.offsetWidth,document.body.removeChild(a),a=null}return dhtmlXLayoutObject.prototype._confGlob.sw[this.conf.skin]},dhtmlXLayoutObject.prototype._confGlob={},dhtmlXLayoutObject.prototype.attachHeader=function(a,b){null==this.dataNodes.haObj&&("object"!=typeof a&&(a=document.getElementById(a)),this.dataNodes.haObj=document.createElement("DIV"),this.dataNodes.haObj.className="dhxlayout_hdr_attached",this.dataNodes.haObj.style.height=(b||a.offsetHeight)+"px",this.base.insertBefore(this.dataNodes.haObj,this.dataNodes.menuObj||this.dataNodes.toolbarObj||this.cdata.a.cell),this.dataNodes.haObj.appendChild(a),a.style.visibility="visible",a=null,this.dataNodes.haEv=this.attachEvent("_onSetSizes",function(){this.dataNodes.haObj.style.left=this.conf.ofs.l+"px",this.dataNodes.haObj.style.marginTop=this.conf.ofs.t+"px",this.dataNodes.haObj.style.width=this.base.offsetWidth-this.conf.ofs.l-this.conf.ofs.r+"px"}),this.conf.ofs_nodes.t.haObj=!0,this.setSizes())},dhtmlXLayoutObject.prototype.detachHeader=function(){if(this.dataNodes.haObj){for(;this.dataNodes.haObj.childNodes.length>0;)this.dataNodes.haObj.lastChild.style.visibility="hidden",document.body.appendChild(this.dataNodes.haObj.lastChild);this.dataNodes.haObj.parentNode.removeChild(this.dataNodes.haObj),this.dataNodes.haObj=null,this.detachEvent(this.dataNodes.haEv),this.dataNodes.haEv=null,this.conf.ofs_nodes.t.haObj=!1,delete this.dataNodes.haEv,delete this.dataNodes.haObj,this.conf.unloading||this.setSizes()}},dhtmlXLayoutObject.prototype.attachFooter=function(a,b){if(null==this.dataNodes.faObj){"object"!=typeof a&&(a=document.getElementById(a)),this.dataNodes.faObj=document.createElement("DIV"),this.dataNodes.faObj.className="dhxlayout_ftr_attached",this.dataNodes.faObj.style.height=(b||a.offsetHeight)+"px";var c=this.dataNodes.sbObj||("1C"==this.conf.pattern?this.cdata.a:this.sep.sep);this.base.lastChild==c?this.base.appendChild(this.dataNodes.faObj):this.base.insertBefore(this.dataNodes.faObj,c.nextSibling),this.dataNodes.faEv=this.attachEvent("_onSetSizes",function(){this.dataNodes.faObj.style.left=this.conf.ofs.l+"px",this.dataNodes.faObj.style.bottom=this.conf.ofs.t+"px",this.dataNodes.faObj.style.width=this.base.offsetWidth-this.conf.ofs.l-this.conf.ofs.r+"px"}),this.dataNodes.faObj.appendChild(a),a.style.visibility="visible",c=a=null,this.conf.ofs_nodes.b.faObj=!0,this.setSizes()}},dhtmlXLayoutObject.prototype.detachFooter=function(){if(this.dataNodes.faObj){for(;this.dataNodes.faObj.childNodes.length>0;)this.dataNodes.faObj.lastChild.style.visibility="hidden",document.body.appendChild(this.dataNodes.faObj.lastChild);this.dataNodes.faObj.parentNode.removeChild(this.dataNodes.faObj),this.dataNodes.faObj=null,this.detachEvent(this.dataNodes.faEv),this.dataNodes.faEv=null,this.conf.ofs_nodes.b.faObj=!1,delete this.dataNodes.faEv,delete this.dataNodes.faObj,this.conf.unloading||this.setSizes()}},dhtmlXLayoutObject.prototype.attachMenu=function(a){return null==this.dataNodes.menu?(this.dataNodes.menuObj=document.createElement("DIV"),this.dataNodes.menuObj.className="dhxlayout_menu",this.base.insertBefore(this.dataNodes.menuObj,this.dataNodes.toolbarObj||this.dataNodes.ribbonObj||this.cdata.a.cell),("object"!=typeof a||null==a)&&(a={}),a.skin=this.conf.skin,a.parent=this.dataNodes.menuObj,this.dataNodes.menu=new dhtmlXMenuObject(a),this.dataNodes.menuEv=this.attachEvent("_onSetSizes",function(){"none"!=this.dataNodes.menuObj.style.display&&(this.dataNodes.menuObj.style.left=this.conf.ofs.l+"px",this.dataNodes.menuObj.style.marginTop=(null!=this.dataNodes.haObj?0:this.conf.ofs.t)+"px",this.dataNodes.menuObj.style.width=this.base.offsetWidth-this.conf.ofs.l-this.conf.ofs.r+"px")
}),this.conf.ofs_nodes.t.menuObj=!0,this.setSizes(),a.parnt=null,a=null,this.dataNodes.menu):void 0},dhtmlXLayoutObject.prototype.detachMenu=function(){null!=this.dataNodes.menu&&(this.dataNodes.menu.unload(),this.dataNodes.menu=null,this.dataNodes.menuObj.parentNode.removeChild(this.dataNodes.menuObj),this.dataNodes.menuObj=null,this.detachEvent(this.dataNodes.menuEv),this.dataNodes.menuEv=null,delete this.dataNodes.menu,delete this.dataNodes.menuObj,delete this.dataNodes.menuEv,this.conf.ofs_nodes.t.menuObj=!1,this.conf.unloading||this.setSizes())},dhtmlXLayoutObject.prototype.attachToolbar=function(a){return null==this.dataNodes.ribbon&&null==this.dataNodes.toolbar?(this.dataNodes.toolbarObj=document.createElement("DIV"),this.dataNodes.toolbarObj.className="dhxlayout_toolbar",this.base.insertBefore(this.dataNodes.toolbarObj,this.cdata.a.cell),this.dataNodes.toolbarObj.appendChild(document.createElement("DIV")),("object"!=typeof a||null==a)&&(a={}),a.skin=this.conf.skin,a.parent=this.dataNodes.toolbarObj.firstChild,this.dataNodes.toolbar=new dhtmlXToolbarObject(a),this.dataNodes.toolbarEv=this.attachEvent("_onSetSizes",function(){"none"!=this.dataNodes.toolbarObj.style.display&&(this.dataNodes.toolbarObj.style.left=this.conf.ofs.l+"px",this.dataNodes.toolbarObj.style.marginTop=(null!=this.dataNodes.haObj||null!=this.dataNodes.menuObj?0:this.conf.ofs.t)+"px",this.dataNodes.toolbarObj.style.width=this.base.offsetWidth-this.conf.ofs.l-this.conf.ofs.r+"px")}),this.dataNodes.toolbar._masterCell=this,this.dataNodes.toolbar.attachEvent("_onIconSizeChange",function(){this._masterCell.setSizes()}),this.conf.ofs_nodes.t.toolbarObj=!0,this.setSizes(),a.parnt=null,a=null,this.dataNodes.toolbar):void 0},dhtmlXLayoutObject.prototype.detachToolbar=function(){null!=this.dataNodes.toolbar&&(this.dataNodes.toolbar._masterCell=null,this.dataNodes.toolbar.unload(),this.dataNodes.toolbar=null,this.dataNodes.toolbarObj.parentNode.removeChild(this.dataNodes.toolbarObj),this.dataNodes.toolbarObj=null,this.detachEvent(this.dataNodes.toolbarEv),this.dataNodes.toolbarEv=null,this.conf.ofs_nodes.t.toolbarObj=!1,delete this.dataNodes.toolbar,delete this.dataNodes.toolbarObj,delete this.dataNodes.toolbarEv,this.conf.unloading||this.setSizes())},dhtmlXLayoutObject.prototype.attachRibbon=function(a){if(null==this.dataNodes.ribbon&&null==this.dataNodes.toolbar){this.dataNodes.ribbonObj=document.createElement("DIV"),this.dataNodes.ribbonObj.className="dhxlayout_ribbon",this.base.insertBefore(this.dataNodes.ribbonObj,this.cdata.a.cell),this.dataNodes.ribbonObj.appendChild(document.createElement("DIV")),("object"!=typeof a||null==a)&&(a={}),a.skin=this.conf.skin,a.parent=this.dataNodes.ribbonObj.firstChild,this.dataNodes.ribbon=new dhtmlXRibbon(a),this.dataNodes.ribbonEv=this.attachEvent("_onSetSizes",function(){"none"!=this.dataNodes.ribbonObj.style.display&&(this.dataNodes.ribbonObj.style.left=this.conf.ofs.l+"px",this.dataNodes.ribbonObj.style.marginTop=(null!=this.dataNodes.haObj||null!=this.dataNodes.menuObj?0:this.conf.ofs.t)+"px",this.dataNodes.ribbonObj.style.width=this.base.offsetWidth-this.conf.ofs.l-this.conf.ofs.r+"px",this.dataNodes.ribbon.setSizes())}),this.conf.ofs_nodes.t.ribbonObj=!0;var b=this;return this.dataNodes.ribbon.attachEvent("_onHeightChanged",function(){b.setSizes()}),this.setSizes(),a.parnt=null,a=null,this.dataNodes.ribbon}},dhtmlXLayoutObject.prototype.detachRibbon=function(){null!=this.dataNodes.ribbon&&(this.dataNodes.ribbon.unload(),this.dataNodes.ribbon=null,this.dataNodes.ribbonObj.parentNode.removeChild(this.dataNodes.ribbonObj),this.dataNodes.ribbonObj=null,this.detachEvent(this.dataNodes.ribbonEv),this.dataNodes.ribbonEv=null,this.conf.ofs_nodes.t.ribbonObj=!1,delete this.dataNodes.ribbon,delete this.dataNodes.ribbonObj,delete this.dataNodes.ribbonEv,this.conf.unloading||this.setSizes())},dhtmlXLayoutObject.prototype.attachStatusBar=function(a){return this.dataNodes.sbObj?void 0:("undefined"==typeof a&&(a={}),this.dataNodes.sbObj=document.createElement("DIV"),this.dataNodes.sbObj.className="dhxlayout_statusbar",null!=this.dataNodes.faObj?this.base.insertBefore(this.dataNodes.sbObj,this.dataNodes.faObj):null==this.sep||this.base.lastChild==this.sep.sep?this.base.appendChild(this.dataNodes.sbObj):this.base.insertBefore(this.dataNodes.sbObj,this.sep.sep.nextSibling),this.dataNodes.sbObj.innerHTML="<div class='dhxcont_statusbar'>"+("string"==typeof a.text&&a.text.length>0?a.text:"&nbsp;")+"</div>","number"==typeof a.height&&(this.dataNodes.sbObj.firstChild.style.height=this.dataNodes.sbObj.firstChild.style.lineHeight=a.height+"px"),this.dataNodes.sbObj.setText=function(a){this.childNodes[0].innerHTML=a},this.dataNodes.sbObj.getText=function(){return this.childNodes[0].innerHTML},this.dataNodes.sbObj.onselectstart=function(){return!1},this.dataNodes.sbEv=this.attachEvent("_onSetSizes",function(){"none"!=this.dataNodes.sbObj.style.display&&(this.dataNodes.sbObj.style.left=this.conf.ofs.l+"px",this.dataNodes.sbObj.style.bottom=(null!=this.dataNodes.faObj?this.dataNodes.faObj.offsetHeight:0)+this.conf.ofs.t+"px",this.dataNodes.sbObj.style.width=this.base.offsetWidth-this.conf.ofs.l-this.conf.ofs.r+"px")}),this.conf.ofs_nodes.b.sbObj=!0,this.setSizes(),this.dataNodes.sbObj)},dhtmlXLayoutObject.prototype.detachStatusBar=function(){this.dataNodes.sbObj&&(this.dataNodes.sbObj.setText=this.dataNodes.sbObj.getText=this.dataNodes.sbObj.onselectstart=null,this.dataNodes.sbObj.parentNode.removeChild(this.dataNodes.sbObj),this.dataNodes.sbObj=null,this.detachEvent(this.dataNodes.sbEv),this.dataNodes.sbEv=null,this.conf.ofs_nodes.b.sbObj=!1,delete this.dataNodes.sb,delete this.dataNodes.sbObj,delete this.dataNodes.sbEv,this.conf.unloading||this.setSizes())},dhtmlXLayoutObject.prototype.showMenu=function(){this._mtbShowHide("menuObj","")},dhtmlXLayoutObject.prototype.hideMenu=function(){this._mtbShowHide("menuObj","none")},dhtmlXLayoutObject.prototype.showToolbar=function(){this._mtbShowHide("toolbarObj","")},dhtmlXLayoutObject.prototype.hideToolbar=function(){this._mtbShowHide("toolbarObj","none")},dhtmlXLayoutObject.prototype.showRibbon=function(){this._mtbShowHide("ribbonObj","")},dhtmlXLayoutObject.prototype.hideRibbon=function(){this._mtbShowHide("ribbonObj","none")},dhtmlXLayoutObject.prototype.showStatusBar=function(){this._mtbShowHide("sbObj","")},dhtmlXLayoutObject.prototype.hideStatusBar=function(){this._mtbShowHide("sbObj","none")},dhtmlXLayoutObject.prototype._mtbShowHide=function(a,b){null!=this.dataNodes[a]&&(this.dataNodes[a].style.display=b,this.setSizes())},dhtmlXLayoutObject.prototype._mtbUnload=function(){this.detachMenu(),this.detachToolbar(),this.detachStatusBar(),this.detachRibbon()},dhtmlXLayoutObject.prototype.getAttachedMenu=function(){return this.dataNodes.menu},dhtmlXLayoutObject.prototype.getAttachedToolbar=function(){return this.dataNodes.toolbar},dhtmlXLayoutObject.prototype.getAttachedRibbon=function(){return this.dataNodes.ribbon},dhtmlXLayoutObject.prototype.getAttachedStatusBar=function(){return this.dataNodes.sbObj},dhtmlXLayoutObject.prototype.progressOn=function(){if(!this.conf.progress){this.conf.progress=!0;var a=document.createElement("DIV");a.className="dhxlayout_progress",this.base.appendChild(a);var b=document.createElement("DIV");b.className="dhxlayout_progress_img",this.base.appendChild(b),a=b=null}},dhtmlXLayoutObject.prototype.progressOff=function(){if(this.conf.progress){for(var a={dhxlayout_progress:!0,dhxlayout_progress_img:!0},b=0;b<this.base.childNodes.length;b++)"undefined"!=typeof this.base.childNodes[b].className&&1==a[this.base.childNodes[b].className]&&(a[this.base.childNodes[b].className]=this.base.childNodes[b]);for(var c in a)1!=a[c]&&this.base.removeChild(a[c]),a[c]=null;this.conf.progress=!1,a=null}},dhtmlXLayoutObject.prototype.listPatterns=function(){var a=[];for(var b in this.tplData)a.push(b);return a},dhtmlXLayoutObject.prototype.listAutoSizes=function(){var a=null!=this.conf.as_cells?this.conf.as_cells.h.join(";"):"",b=null!=this.conf.as_cells?this.conf.as_cells.v.join(";"):"",c=this._availAutoSize[this.conf.pattern].h,d=this._availAutoSize[this.conf.pattern].v;return[a,b,c,d]},dhtmlXLayoutObject.prototype._getCellsNames=function(a){var b={};if(null!=this.cdata[a].conf.name&&(b[this.cdata[a].conf.name]=!0),"layout"==this.cdata[a].dataType&&null!=this.cdata[a].dataObj&&this.cdata[a].dataObj.mainInst==this){var c=this.cdata[a].dataObj._getCellsNames("a"),d=this.cdata[a].dataObj._getCellsNames("b");for(var e in c)b[e]=c[e];for(var e in d)b[e]=d[e]}return b},dhtmlXLayoutObject.prototype.setAutoSize=function(a,b,c){if(c!==!0){var d=this.listAutoSizes();if(d[0]==a&&d[1]==b)return;for(var e=!1,f=!1,g=0;g<d[2].length;g++)e=e||d[2][g]==a;for(var g=0;g<d[3].length;g++)f=f||d[3][g]==b;if(!e||!f)return}this.conf.as_cells={h:a.split(";"),v:b.split(";")};var h="v"==this.conf.mode?"h":"v";for(var i in this.cdata){for(var j=this._getCellsNames(i),k=!1,g=0;g<this.conf.as_cells[h].length;g++)k=k||j[this.conf.as_cells[h][g]];k&&(this.conf.autosize=i),"layout"==this.cdata[i].dataType&&null!=this.cdata[i].dataObj&&this.cdata[i].dataObj.setAutoSize(a,b,!0)}},dhtmlXLayoutObject.prototype.tplData={"1C":{mode:"c",cells:{a:{name:"a"}}},"2E":{mode:"h",cells:{a:{name:"a",fsize:{v:1}},b:{name:"b",fsize:{v:1}}}},"2U":{mode:"v",cells:{a:{name:"a",fsize:{h:1}},b:{name:"b",fsize:{h:1}}}},"3E":{mode:"h",cells:{a:{name:"a",height:1/3,fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{name:"b",fsize:{v:[1,2]}},b:{name:"c",fsize:{v:2}}}}}}},"3W":{mode:"v",cells:{a:{name:"a",width:1/3,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{name:"b",fsize:{h:[1,2]}},b:{name:"c",fsize:{h:2}}}}}}},"3J":{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"a",fsize:{h:1,v:2}},b:{name:"c",fsize:{h:1,v:2}}}}},b:{name:"b",fsize:{h:1}}}},"3L":{mode:"v",cells:{a:{name:"a",fsize:{h:1}},b:{layout:{mode:"h",cells:{a:{name:"b",fsize:{h:1,v:2}},b:{name:"c",fsize:{h:1,v:2}}}}}}},"3T":{mode:"h",cells:{a:{name:"a",fsize:{v:1}},b:{layout:{mode:"v",cells:{a:{name:"b",fsize:{h:2,v:1}},b:{name:"c",fsize:{h:2,v:1}}}}}}},"3U":{mode:"h",cells:{a:{layout:{mode:"v",cells:{a:{name:"a",fsize:{h:2,v:1}},b:{name:"b",fsize:{h:2,v:1}}}}},b:{name:"c",fsize:{v:1}}}},"4H":{mode:"v",cells:{a:{name:"a",width:1/3,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"b",fsize:{h:[1,2],v:3}},b:{name:"c",fsize:{h:[1,2],v:3}}}}},b:{name:"d",fsize:{h:2}}}}}}},"4I":{mode:"h",cells:{a:{name:"a",height:1/3,fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{layout:{mode:"v",cells:{a:{name:"b",fsize:{h:3,v:[1,2]}},b:{name:"c",fsize:{h:3,v:[1,2]}}}}},b:{name:"d",fsize:{v:2}}}}}}},"4T":{mode:"h",cells:{a:{name:"a",fsize:{v:1}},b:{layout:{mode:"v",cells:{a:{name:"b",width:1/3,fsize:{h:2,v:1}},b:{layout:{mode:"v",cells:{a:{name:"c",fsize:{h:[2,3],v:1}},b:{name:"d",fsize:{h:3,v:1}}}}}}}}}},"4U":{mode:"h",cells:{a:{layout:{mode:"v",cells:{a:{name:"a",width:1/3,fsize:{h:2,v:1}},b:{layout:{mode:"v",cells:{a:{name:"b",fsize:{h:[2,3],v:1}},b:{name:"c",fsize:{h:3,v:1}}}}}}}},b:{name:"d",fsize:{v:1}}}},"4E":{mode:"h",cells:{a:{name:"a",height:.25,fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{name:"b",height:1/3,fsize:{v:[1,2]}},b:{layout:{mode:"h",cells:{a:{name:"c",fsize:{v:[2,3]}},b:{name:"d",fsize:{v:3}}}}}}}}}},"4W":{mode:"v",cells:{a:{name:"a",width:.25,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{name:"b",width:1/3,fsize:{h:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"c",fsize:{h:[2,3]}},b:{name:"d",fsize:{h:3}}}}}}}}}},"4A":{mode:"v",cells:{a:{width:1/3,layout:{mode:"h",cells:{a:{name:"a",fsize:{h:1,v:2}},b:{name:"b",fsize:{h:1,v:2}}}}},b:{layout:{mode:"v",cells:{a:{name:"c",fsize:{h:[1,3]}},b:{name:"d",fsize:{h:3}}}}}}},"4L":{mode:"v",cells:{a:{name:"a",width:1/3,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{name:"b",fsize:{h:[1,2]}},b:{layout:{mode:"h",cells:{a:{name:"c",fsize:{h:2,v:3}},b:{name:"d",fsize:{h:2,v:3}}}}}}}}}},"4J":{mode:"h",cells:{a:{name:"a",height:1/3,fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{name:"b",fsize:{v:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"c",fsize:{h:3,v:2}},b:{name:"d",fsize:{h:3,v:2}}}}}}}}}},"4F":{mode:"h",cells:{a:{height:1/3,layout:{mode:"v",cells:{a:{name:"a",fsize:{h:2,v:1}},b:{name:"b",fsize:{h:2,v:1}}}}},b:{layout:{mode:"h",cells:{a:{name:"c",fsize:{v:[1,3]}},b:{name:"d",fsize:{v:3}}}}}}},"4G":{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"a",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:"h",cells:{a:{name:"b",fsize:{h:1,v:[2,3]}},b:{name:"c",fsize:{h:1,v:3}}}}}}}},b:{name:"d",fsize:{h:1}}}},"4C":{mode:"v",cells:{a:{name:"a",fsize:{h:1}},b:{layout:{mode:"h",cells:{a:{name:"b",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:"h",cells:{a:{name:"c",fsize:{h:1,v:[2,3]}},b:{name:"d",fsize:{h:1,v:3}}}}}}}}}},"5H":{mode:"v",cells:{a:{width:1/3,name:"a",fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"b",height:1/3,fsize:{h:[1,2],v:3}},b:{layout:{mode:"h",cells:{a:{name:"c",fsize:{h:[1,2],v:[3,4]}},b:{name:"d",fsize:{h:[1,2],v:4}}}}}}}},b:{name:"e",fsize:{h:2}}}}}}},"5I":{mode:"h",cells:{a:{height:1/3,name:"a",fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{layout:{mode:"v",cells:{a:{name:"b",width:1/3,fsize:{h:3,v:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"c",fsize:{h:[3,4],v:[1,2]}},b:{name:"d",fsize:{h:4,v:[1,2]}}}}}}}},b:{name:"e",fsize:{v:2}}}}}}},"5U":{mode:"h",cells:{a:{layout:{mode:"v",cells:{a:{name:"a",width:.25,fsize:{h:2,v:1}},b:{layout:{mode:"v",cells:{a:{name:"b",width:1/3,fsize:{h:[2,3],v:1}},b:{layout:{mode:"v",cells:{a:{name:"c",fsize:{h:[3,4],v:1}},b:{name:"d",fsize:{h:4,v:1}}}}}}}}}}},b:{name:"e",fsize:{v:1}}}},"5E":{mode:"h",cells:{a:{name:"a",height:.2,fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{name:"b",height:.25,fsize:{v:[1,2]}},b:{layout:{mode:"h",cells:{a:{name:"c",height:1/3,fsize:{v:[2,3]}},b:{layout:{mode:"h",cells:{a:{name:"d",fsize:{v:[3,4]}},b:{name:"e",fsize:{v:4}}}}}}}}}}}}},"5W":{mode:"v",cells:{a:{name:"a",width:.2,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{name:"b",width:.25,fsize:{h:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"c",width:1/3,fsize:{h:[2,3]}},b:{layout:{mode:"v",cells:{a:{name:"d",fsize:{h:[3,4]}},b:{name:"e",fsize:{h:4}}}}}}}}}}}}},"5K":{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"a",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:"h",cells:{a:{name:"b",fsize:{h:1,v:[2,3]}},b:{name:"c",fsize:{h:1,v:3}}}}}}}},b:{layout:{mode:"h",cells:{a:{name:"d",fsize:{h:1,v:4}},b:{name:"e",fsize:{h:1,v:4}}}}}}},"5S":{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"a",fsize:{h:1,v:2}},b:{name:"b",fsize:{h:1,v:2}}}}},b:{layout:{mode:"h",cells:{a:{name:"c",height:1/3,fsize:{h:1,v:3}},b:{layout:{mode:"h",cells:{a:{name:"d",fsize:{h:1,v:[3,2]}},b:{name:"e",fsize:{h:1,v:4}}}}}}}}}},"5G":{mode:"v",cells:{a:{width:1/3,layout:{mode:"h",cells:{a:{name:"a",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:"h",cells:{a:{name:"b",fsize:{h:1,v:[2,3]}},b:{name:"c",fsize:{h:1,v:3}}}}}}}},b:{layout:{mode:"v",cells:{a:{name:"d",fsize:{h:[1,4]}},b:{name:"e",fsize:{h:4}}}}}}},"5C":{mode:"v",cells:{a:{width:2/3,layout:{mode:"v",cells:{a:{name:"a",fsize:{h:2}},b:{name:"b",fsize:{h:[2,1]}}}}},b:{layout:{mode:"h",cells:{a:{name:"c",height:1/3,fsize:{h:1,v:3}},b:{layout:{mode:"h",cells:{a:{name:"d",fsize:{h:1,v:[3,4]}},b:{name:"e",fsize:{h:1,v:4}}}}}}}}}},"6H":{mode:"v",cells:{a:{width:1/3,name:"a",fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"b",height:.25,fsize:{h:[1,2],v:3}},b:{layout:{mode:"h",cells:{a:{name:"c",height:1/3,fsize:{h:[1,2],v:[3,4]}},b:{layout:{mode:"h",cells:{a:{name:"d",fsize:{h:[1,2],v:[4,5]}},b:{name:"e",fsize:{h:[1,2],v:5}}}}}}}}}}},b:{name:"f",fsize:{h:2}}}}}}},"6I":{mode:"h",cells:{a:{height:1/3,name:"a",fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{layout:{mode:"v",cells:{a:{name:"b",width:.25,fsize:{h:3,v:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"c",width:1/3,fsize:{h:[3,4],v:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"d",fsize:{h:[4,5],v:[1,2]}},b:{name:"e",fsize:{h:5,v:[1,2]}}}}}}}}}}},b:{name:"f",fsize:{v:2}}}}}}},"6A":{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"a",height:.2,fsize:{h:1,v:2}},b:{layout:{mode:"h",cells:{a:{name:"b",height:.25,fsize:{h:1,v:[2,3]}},b:{layout:{mode:"h",cells:{a:{name:"c",height:1/3,fsize:{h:1,v:[3,4]}},b:{layout:{mode:"h",cells:{a:{name:"d",fsize:{h:1,v:[4,5]}},b:{name:"e",fsize:{h:1,v:5}}}}}}}}}}}}}},b:{name:"f",fsize:{h:1}}}},"6C":{mode:"v",cells:{a:{name:"a",fsize:{h:1}},b:{layout:{mode:"h",cells:{a:{name:"b",height:.2,fsize:{h:1,v:2}},b:{layout:{mode:"h",cells:{a:{name:"c",height:.25,fsize:{h:1,v:[2,3]}},b:{layout:{mode:"h",cells:{a:{name:"d",height:1/3,fsize:{h:1,v:[3,4]}},b:{layout:{mode:"h",cells:{a:{name:"e",fsize:{h:1,v:[4,5]}},b:{name:"f",fsize:{h:1,v:5}}}}}}}}}}}}}}}},"6J":{mode:"v",cells:{a:{width:1/3,layout:{mode:"h",cells:{a:{name:"a",height:.25,fsize:{h:1,v:2}},b:{layout:{mode:"h",cells:{a:{name:"b",height:1/3,fsize:{h:1,v:[2,3]}},b:{layout:{mode:"h",cells:{a:{name:"c",fsize:{h:1,v:[3,4]}},b:{name:"d",fsize:{h:1,v:4}}}}}}}}}}},b:{layout:{mode:"v",cells:{a:{name:"e",fsize:{h:[1,5]}},b:{name:"f",fsize:{h:5}}}}}}},"6E":{mode:"v",cells:{a:{name:"a",width:1/3,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{name:"b",fsize:{h:[1,2]}},b:{layout:{mode:"h",cells:{a:{name:"c",height:.25,fsize:{h:2,v:3}},b:{layout:{mode:"h",cells:{a:{name:"d",height:1/3,fsize:{h:2,v:[3,4]}},b:{layout:{mode:"h",cells:{a:{name:"e",fsize:{h:2,v:[4,5]}},b:{name:"f",fsize:{h:2,v:5}}}}}}}}}}}}}}}},"6W":{mode:"v",cells:{a:{name:"a",width:1/6,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{name:"b",width:.2,fsize:{h:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"c",width:.25,fsize:{h:[2,3]}},b:{layout:{mode:"v",cells:{a:{name:"d",width:1/3,fsize:{h:[3,4]}},b:{layout:{mode:"v",cells:{a:{name:"e",fsize:{h:[4,5]}},b:{name:"f",fsize:{h:5}}}}}}}}}}}}}}}},"7H":{mode:"v",cells:{a:{name:"a",width:1/3,fsize:{h:1}},b:{layout:{mode:"v",cells:{a:{layout:{mode:"h",cells:{a:{name:"b",height:.2,fsize:{h:[1,2],v:3}},b:{layout:{mode:"h",cells:{a:{name:"c",height:.25,fsize:{h:[1,2],v:[3,4]}},b:{layout:{mode:"h",cells:{a:{name:"d",height:1/3,fsize:{h:[1,2],v:[4,5]}},b:{layout:{mode:"h",cells:{a:{name:"e",fsize:{h:[1,2],v:[5,6]}},b:{name:"f",fsize:{h:[1,2],v:6}}}}}}}}}}}}}},b:{name:"g",fsize:{h:2}}}}}}},"7I":{mode:"h",cells:{a:{name:"a",height:1/3,fsize:{v:1}},b:{layout:{mode:"h",cells:{a:{layout:{mode:"v",cells:{a:{name:"b",width:.2,fsize:{h:3,v:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"c",width:.25,fsize:{h:[3,4],v:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"d",width:1/3,fsize:{h:[4,5],v:[1,2]}},b:{layout:{mode:"v",cells:{a:{name:"e",fsize:{h:[5,6],v:[1,2]}},b:{name:"f",fsize:{h:6,v:[1,2]}}}}}}}}}}}}}},b:{name:"g",fsize:{v:2}}}}}}}},dhtmlXLayoutObject.prototype._availAutoSize={"1C":{h:["a"],v:["a"]},"2E":{h:["a;b"],v:["a","b"]},"2U":{h:["a","b"],v:["a;b"]},"3E":{h:["a;b;c"],v:["a","b","c"]},"3W":{h:["a","b","c"],v:["a;b;c"]},"3J":{h:["a;c","b"],v:["a;b","b;c"]},"3L":{h:["a","b;c"],v:["a;b","a;c"]},"3T":{h:["a;b","a;c"],v:["a","b;c"]},"3U":{h:["a;c","b;c"],v:["a;b","c"]},"4H":{h:["a","b;c","d"],v:["a;b;d","a;c;d"]},"4I":{h:["a;b;d","a;c;d"],v:["a","b;c","d"]},"4T":{h:["a;b","a;c","a;d"],v:["a","b;c;d"]},"4U":{h:["a;d","b;d","c;d"],v:["a;b;c","d"]},"4E":{h:["a;b;c;d"],v:["a","b","c","d"]},"4W":{h:["a","b","c","d"],v:["a;b;c;d"]},"4A":{h:["a;b","c","d"],v:["a;c;d","b;c;d"]},"4L":{h:["a","b","c;d"],v:["a;b;c","a;b;d"]},"4J":{h:["a;b;c","a;b;d"],v:["a","b","c;d"]},"4F":{h:["a;c;d","b;c;d"],v:["a;b","c","d"]},"4G":{h:["a;b;c","d"],v:["a;d","b;d","c;d"]},"4C":{h:["a","b;c;d"],v:["a;b","a;c","a;d"]},"5H":{h:["a","b;c;d","e"],v:["a;b;e","a;c;e","a;d;e"]},"5I":{h:["a;b;e","a;c;e","a;d;e"],v:["a","b;c;d","e"]},"5U":{h:["a;e","b;e","c;e","d;e"],v:["a;b;c;d","e"]},"5E":{h:["a;b;c;d;e"],v:["a","b","c","d","e"]},"5W":{h:["a","b","c","d","e"],v:["a;b;c;d;e"]},"5K":{h:["a;b;c","d;e"],v:["a;d","b;d","c;d","a;e","b;e","c;e"]},"5S":{h:["a;b","c;d;e"],v:["a;c","a;d","a;e","b;c","b;d","b;e"]},"5G":{h:["a;b;c","d","e"],v:["a;d;e","b;d;e","c;d;e"]},"5C":{h:["a","b","c;d;e"],v:["a;b;c","a;b;d","a;b;e"]},"6H":{h:["a","b;c;d;e","f"],v:["a;b;f","a;c;f","a;d;f","a;e;f"]},"6I":{h:["a;b;f","a;c;f","a;d;f","a;e;f"],v:["a","b;c;d;e","f"]},"6A":{h:["a;b;c;d;e","f"],v:["a;f","b;f","c;f","d;f","e;f"]},"6C":{h:["a","b;c;d;e;f"],v:["a;b","a;c","a;d","a;e","a;f"]},"6J":{h:["a;b;c;d","e","f"],v:["a;e;f","b;e;f","c;e;f","d;e;f"]},"6E":{h:["a","b","c;d;e;f"],v:["a;b;c","a;b;d","a;b;e","a;b;f"]},"6W":{h:["a","b","c","d","e","f"],v:["a;b;c;d;e;f"]},"7H":{h:["a","b;c;d;e;f","g"],v:["a;b;g","a;c;g","a;d;g","a;e;g","a;f;g"]},"7I":{h:["a;b;g","a;c;g","a;d;g","a;e;g","a;f;g"],v:["a","b;c;d;e;f","g"]}},window.dhtmlXLayoutCell=function(a,b){dhtmlXCellObject.apply(this,[a,"_layout"]);var c=this;if(this.layout=b,this.conf.skin=this.layout.conf.skin,this.conf.mode=this.layout.conf.mode,this.conf.collapsed=!1,this.conf.fixed={w:!1,h:!1},this.conf.docked=!0,this.attachEvent("_onCellUnload",function(){this.cell.childNodes[this.conf.idx.hdr].ondblclick=null,this._unloadDocking(),this.layout=null,c=null}),this._hdrInit(),this.cell.childNodes[this.conf.idx.hdr].ondblclick=function(){var a=c.layout._getMainInst();a._callMainEvent("onDblClick",[c.conf.name]),a=null},this.attachEvent("_onContentLoaded",function(){var a=this.layout._getMainInst();a._callMainEvent("onContentLoaded",[this.conf.name]),a=null}),"c"!=this.conf.mode){var d=document.createElement("DIV");d.className="dhxlayout_arrow dhxlayout_arrow_"+this.conf.mode+this._idd,this.cell.childNodes[this.conf.idx.hdr].appendChild(d),d.onclick=function(){c.conf.collapsed?c.expand():c.collapse()},d=null}return this._initDocking(),this},dhtmlXLayoutCell.prototype=new dhtmlXCellObject,dhtmlXLayoutCell.prototype.getId=function(){return this.conf.name},dhtmlXLayoutCell.prototype._initDocking=function(){var a=this;this.dock=function(){var a=this.layout._getMainInst();if(null==a.dhxWins||this.conf.docked)return void(a=null);var b=a.dhxWins.window(this.conf.name);b.close(),this._attachFromCell(b),this.conf.docked=!0,this.conf.dock_collapsed||this.expand(),a._callMainEvent("onDock",[this.conf.name]),a=b=null},this.undock=function(a,b,c,d){var e=this.layout._getMainInst();if(null==e.dhxWins||0==this.conf.docked)return void(e=null);if(this.conf.dock_collapsed=this.conf.collapsed,this.conf.collapsed||this.collapse(),null!=e.dhxWins.window(this.conf.name)){var f=e.dhxWins.window(this.conf.name);f.show()}else{null==a&&(a=20),null==b&&(b=20),null==c&&(c=320),null==d&&(d=200);var f=e.dhxWins.createWindow(this.conf.name,a,b,c,d);f.button("close").hide(),f.addUserButton("dock",99,"Dock"),f.button("dock").show(),f.button("dock").attachEvent("onClick",this._doOnDockClick),f.setText(this.getText()),f.attachEvent("onClose",this._doOnDockWinClose)}this.conf.docked=!1,f._attachFromCell(this),e._callMainEvent("onUnDock",[this.conf.name]),e=f=null},this._doOnDockClick=function(){a.dock()},this._doOnDockWinClose=function(a){return a.hide(),!1},this._unloadDocking=function(){a=null}},dhtmlXLayoutCell.prototype._hdrInit=function(){var a="";window.dhx4.isIE?-1!=navigator.userAgent.indexOf("MSIE 8.0")?a=" dhx_cell_hdr_text_ie8":-1!=navigator.userAgent.indexOf("MSIE 7.0")?a=" dhx_cell_hdr_text_ie7":-1!=navigator.userAgent.indexOf("MSIE 6.0")&&(a=" dhx_cell_hdr_text_ie6"):window.dhx4.isChrome&&(a=" dhx_cell_hdr_text_chrome");var b=document.createElement("DIV");b.className="dhx_cell_hdr",b.innerHTML="<div class='dhx_cell_hdr_text"+a+"'></div>",this.cell.insertBefore(b,this.cell.childNodes[this.conf.idx.cont]),b=null,this.conf.ofs_nodes.t._getHdrHeight="func",this.conf.hdr={visible:!0},this.conf.idx_data.hdr="dhx_cell_hdr",this._updateIdx(),this.attachEvent("_onSetSize",this._hdrOnSetSize),this.attachEvent("_onBorderChange",this._hdrOnBorderChange),this.attachEvent("_onViewSave",this._hdrOnViewSave),this.attachEvent("_onViewRestore",this._hdrOnViewRestore)},dhtmlXLayoutCell.prototype.showHeader=function(a){this.conf.hdr.visible||this.conf.collapsed||this.conf.hdr.w_saved>this._getAvailWidth()||this.conf.hdr.h_saved>this._getAvailHeight()||(this.conf.hdr.w_saved=this.conf.hdr.h_saved=null,this.conf.hdr.visible=!0,this.cell.childNodes[this.conf.idx.hdr].className="dhx_cell_hdr",a!==!0&&this._adjustCont(this._idd))},dhtmlXLayoutCell.prototype.hideHeader=function(a){this.conf.hdr.visible&&!this.conf.collapsed&&(this.conf.hdr.w_saved=this._getMinWidth(),this.conf.hdr.h_saved=this._getMinHeight(),this.conf.hdr.visible=!1,this.cell.childNodes[this.conf.idx.hdr].className="dhx_cell_hdr dhx_cell_hdr_hidden",this._hdrUpdBorder(),this._mtbUpdBorder(),a!==!0&&this._adjustCont(this._idd))},dhtmlXLayoutCell.prototype.isHeaderVisible=function(){return 1==this.conf.hdr.visible},dhtmlXLayoutCell.prototype.showArrow=function(){this.cell.childNodes[this.conf.idx.hdr].childNodes[1].style.display=""},dhtmlXLayoutCell.prototype.hideArrow=function(){this.cell.childNodes[this.conf.idx.hdr].childNodes[1].style.display="none"},dhtmlXLayoutCell.prototype.isArrowVisible=function(){return""==this.cell.childNodes[this.conf.idx.hdr].childNodes[1].style.display},dhtmlXLayoutCell.prototype.setText=function(a){this.conf.hdr.text=a,this._hdrUpdText()},dhtmlXLayoutCell.prototype.getText=function(){return this.conf.hdr.text},dhtmlXLayoutCell.prototype.setCollapsedText=function(a){this.conf.hdr.text_collapsed=a,this._hdrUpdText()},dhtmlXLayoutCell.prototype.getCollapsedText=function(){return null!=this.conf.hdr.text_collapsed?this.conf.hdr.text_collapsed:this.conf.hdr.text},dhtmlXLayoutCell.prototype._hdrUpdText=function(){var a=1==this.conf.collapsed&&null!=this.conf.hdr.text_collapsed?this.conf.hdr.text_collapsed:this.conf.hdr.text;this.cell.childNodes[this.conf.idx.hdr].firstChild.innerHTML="<span>"+a+"</span>"},dhtmlXLayoutCell.prototype._hdrUpdBorder=function(){1==this.conf.borders?this.cell.childNodes[this.conf.idx.hdr].className="dhx_cell_hdr"+(this.conf.hdr.visible?"":" dhx_cell_hdr_hidden"):this.conf.hdr.visible||(this.cell.childNodes[this.conf.idx.hdr].className="dhx_cell_hdr dhx_cell_hdr_hidden_no_borders")},dhtmlXLayoutCell.prototype._hdrOnSetSize=function(){this.conf.collapsed&&"v"==this.conf.mode&&this._fitHdr()},dhtmlXLayoutCell.prototype._hdrOnBorderChange=function(){this.hideHeader(!0),this._hdrUpdBorder()},dhtmlXLayoutCell.prototype._hdrOnViewSave=function(a){this.views[a].hdr_vis=this.conf.hdr.visible},dhtmlXLayoutCell.prototype._hdrOnViewRestore=function(a){this.conf.hdr.visible!=this.views[a].hdr_vis&&this[this.views[a].hdr_vis?"showHeader":"hideHeader"](!0),this.views[a].hdr_vis=null,delete this.views[a].hdr_vis},dhtmlXLayoutCell.prototype._getHdrHeight=function(a){return this.conf.collapsed&&"v"==this.conf.mode&&a!==!0?27:this.cell.childNodes[this.conf.idx.hdr].offsetHeight},dhtmlXLayoutCell.prototype._fitHdr=function(){this.conf.collapsed?("undefined"==typeof dhtmlXLayoutObject.prototype._confGlob.hdrColH&&(this.cell.childNodes[this.conf.idx.hdr].style.height=this.cell.offsetHeight+"px",dhtmlXLayoutObject.prototype._confGlob.hdrColH=parseInt(this.cell.childNodes[this.conf.idx.hdr].style.height)-this._getHdrHeight(!0)),this.cell.childNodes[this.conf.idx.hdr].style.height=this.cell.offsetHeight+dhtmlXLayoutObject.prototype._confGlob.hdrColH+"px"):this.cell.childNodes[this.conf.idx.hdr].style.height=null},dhtmlXLayoutCell.prototype.expand=function(a){if(!this.conf.collapsed)return!0;var b=this.layout;if("v"==this.conf.mode){var c=a?b.conf.hh:b.cdata[b.conf.nextCell[this._idd]]._getMinWidth(this._idd),d=b.base.offsetWidth-b.conf.sw;if(c+this.conf.size.w_avl>d)return b=null,!1}else{var e=a?b.conf.hh:b.cdata[b.conf.nextCell[this._idd]]._getMinHeight(this._idd)+b.cdata[b.conf.nextCell[this._idd]]._getHdrHeight(),f=b.base.offsetHeight-b.conf.sw;if(e+this.conf.size.h_avl>f)return b=null,!1}if(0==this.conf.docked)return void this.dock();this.cell.className=String(this.cell.className).replace(/\s{0,}dhxlayout_collapsed_[hv]/gi,""),this.conf.collapsed=!1,"v"==this.conf.mode?(this.conf.size.w=Math.min(d-c,this.conf.size.w_saved),this.conf.size.w_saved=this.conf.size.w_avl=null):(this.conf.size.h=Math.min(f-e,this.conf.size.h_saved),this.conf.size.h_saved=this.conf.size.h_avl=null),"v"==this.conf.mode&&this._fitHdr(),b.setSizes(b.conf.nextCell[this._idd],b.conf.nextCell[this._idd],1==a,"expand"),b.sep._blockSep(),b=null,this._hdrUpdText();var g=this.layout._getMainInst();return g._callMainEvent("onExpand",[this.conf.name]),g=null,!0},dhtmlXLayoutCell.prototype.collapse=function(){if(this.conf.collapsed)return!1;var a=this.layout;if(0==a.cdata[a.conf.nextCell[this._idd]].expand(!0))return!1;"v"==this.conf.mode?(this.conf.size.w_saved=this.conf.size.w,this.conf.size.w_avl=this._getMinWidth(this._idd)):(this.conf.size.h_saved=this.conf.size.h,this.conf.size.h_avl=this._getMinHeight(this._idd)+this._getHdrHeight()),this.cell.className+=" dhxlayout_collapsed_"+this.conf.mode,this.conf.collapsed=!0,"v"==this.conf.mode?this.conf.size.w=a.conf.hh:this.conf.size.h=this._getHdrHeight(),a.setSizes(a.conf.nextCell[this._idd],a.conf.nextCell[this._idd],!1,"collapse"),a.sep._blockSep(),a=null,this._hdrUpdText();var b=this.layout._getMainInst();return b._callMainEvent("onCollapse",[this.conf.name]),b=null,!0},dhtmlXLayoutCell.prototype.isCollapsed=function(){return 1==this.conf.collapsed},dhtmlXLayoutCell.prototype._getMinWidth=function(a){if("layout"==this.dataType&&null!=this.dataObj){if("1C"==this.dataObj.conf.pattern)return this.dataObj.cdata.a._getMinWidth(a);if("v"==this.dataObj.conf.mode){var b=a;return this.dataObj.cdata[b].conf.collapsed&&(b=this.dataObj.conf.nextCell[b]),this.dataObj.cdata[b]._getMinWidth(a)+this.dataObj.cdata[this.dataObj.conf.nextCell[b]]._getWidth()+this.dataObj.conf.sw}return Math.max(this.dataObj.cdata.a._getMinWidth(a),this.dataObj.cdata.b._getMinWidth(a))}return 26},dhtmlXLayoutCell.prototype._getMinHeight=function(a){var b=26;if(null!=this.conf.idx.menu&&(b+=this.cell.childNodes[this.conf.idx.menu].offsetHeight),"layout"==this.dataType&&null!=this.dataObj){if("1C"==this.dataObj.conf.pattern)return this.dataObj.cdata.a._getMinHeight(a);if("h"==this.dataObj.conf.mode){var c=a;return this.dataObj.cdata[c].conf.collapsed&&(c=this.dataObj.conf.nextCell[c]),this.dataObj.cdata[c]._getMinHeight(a)+this.dataObj.cdata[c]._getHdrHeight()+this.dataObj.cdata[this.dataObj.conf.nextCell[c]]._getHeight()+this.dataObj.conf.sw}return Math.max(this.dataObj.cdata.a._getMinHeight(a)+this.dataObj.cdata.a._getHdrHeight(),this.dataObj.cdata.b._getMinHeight(a)+this.dataObj.cdata.b._getHdrHeight())}return b},dhtmlXLayoutCell.prototype._getAvailWidth=function(a){if("layout"==this.dataType&&null!=this.dataObj){if("1C"==this.dataObj.conf.pattern)return this.dataObj.cdata.a._getAvailWidth(a);if("v"==this.dataObj.conf.mode){var b=1==this.dataObj.cdata.a.conf.collapsed,c=1==this.dataObj.cdata.b.conf.collapsed;return"a"==a?this.dataObj.cdata[c?"a":"b"]._getAvailWidth(a):this.dataObj.cdata[b?"b":"a"]._getAvailWidth(a)}return Math.min(this.dataObj.cdata.a._getAvailWidth(a),this.dataObj.cdata.b._getAvailWidth(a))}return this.cell.offsetWidth-this._getMinWidth()},dhtmlXLayoutCell.prototype._getAvailHeight=function(a){if("layout"==this.dataType&&null!=this.dataObj){if("1C"==this.dataObj.conf.pattern)return this.dataObj.cdata.a._getAvailHeight(a);if("h"==this.dataObj.conf.mode){var b=1==this.dataObj.cdata.a.conf.collapsed,c=1==this.dataObj.cdata.b.conf.collapsed;return"a"==a?this.dataObj.cdata[c?"a":"b"]._getAvailHeight(a):this.dataObj.cdata[b?"b":"a"]._getAvailHeight(a)}return Math.min(this.dataObj.cdata.a._getAvailHeight(a),this.dataObj.cdata.b._getAvailHeight(a))}var d=this._getHdrHeight();return"v"==this.conf.mode&&this.conf.collapsed&&(d=this.conf.hh),this.cell.offsetHeight-d-this._getMinHeight()},dhtmlXLayoutCell.prototype.setWidth=function(a){if("v"==this.conf.mode){if(this.conf.collapsed)return;var b=this.layout,c=b.cdata[b.conf.nextCell[this._idd]];if(c.conf.collapsed)return a=a+b.conf.sw+c._getWidth(),void(f=b=c=null);var d=this._getMinWidth(this._idd),e=b.base.offsetWidth-c._getMinWidth(this._idd)-b.conf.sw;
a=Math.max(d,Math.min(a,e)),this.conf.size.w=a,b.setSizes(c._idd,c._idd),b=c=null}else{if(null==this.layout||null==this.layout.parentLayout)return;var f=this.layout.parentLayout,b=this.layout,c=b.cdata[b.conf.nextCell[this._idd]];for(var g in f.cdata)f.cdata[g].dataObj==b&&f.cdata[g].setWidth(a);f=b=null}},dhtmlXLayoutCell.prototype.setHeight=function(a){if("h"==this.conf.mode){if(this.conf.collapsed)return;var b=this.layout,c=b.cdata[b.conf.nextCell[this._idd]];if(c.conf.collapsed){a=a+b.conf.sw+c._getHeight();var d=null!=this.layout&&null!=this.layout.parentLayout?this.layout.parentLayout:null;if(null!=d)for(var e in d.cdata)d.cdata[e].dataObj==b&&d.cdata[e].setHeight(a);return void(d=b=c=null)}var f=this._getMinHeight(this._idd)+this._getHdrHeight(),g=b.base.offsetHeight-c._getMinHeight(this._idd)-c._getHdrHeight()-b.conf.sw;a=Math.max(f,Math.min(a,g)),this.conf.size.h=a,b.setSizes(c._idd,c._idd),b=c=null}else{if(null==this.layout||null==this.layout.parentLayout)return;var d=this.layout.parentLayout,b=this.layout,c=b.cdata[b.conf.nextCell[this._idd]];for(var e in d.cdata)d.cdata[e].dataObj==b&&d.cdata[e].setHeight(a);d=b=null}},dhtmlXLayoutCell.prototype.getWidth=function(){return this.conf.size.w},dhtmlXLayoutCell.prototype.getHeight=function(){return this.conf.size.h},dhtmlXLayoutCell.prototype.fixSize=function(a,b){this.conf.fixed.w=window.dhx4.s2b(a),this.conf.fixed.h=window.dhx4.s2b(b);var c=this.layout._getMainInst(),d={};c.forEachItem(function(a){if(null!=a.conf.fsize){var b=(a.getId(),{h:1==a.conf.fixed.w,v:1==a.conf.fixed.h});for(var c in b)if(1==b[c]&&null!=a.conf.fsize[c]){a.conf.fsize[c]instanceof Array||(a.conf.fsize[c]=[a.conf.fsize[c]]);for(var e=0;e<a.conf.fsize[c].length;e++)d[a.conf.fsize[c][e]]=!0}}a=null}),c._forEachSep(function(a){a._lockSep(1==d[a.conf.idx]),a=null}),c=null},dhtmlXAccordionCell.prototype=new dhtmlXCellObject,dhtmlXAccordionCell.prototype._initHeader=function(){var a=document.createElement("DIV");a.className="dhx_cell_hdr",a.innerHTML="<div class='dhx_cell_hdr_text'></div><div class='dhx_cell_hdr_arrow'></div>",this.cell.insertBefore(a,this.cell.childNodes[this.conf.idx.cont]),a=null,this.conf.ofs_nodes.t._getHdrHeight="func",this.conf.hdr={visible:!0},this.conf.idx_data.hdr="dhx_cell_hdr",this._updateIdx()},dhtmlXAccordionCell.prototype._getHdrHeight=function(){return this.cell.childNodes[this.conf.idx.hdr].offsetHeight},dhtmlXAccordionCell.prototype.setText=function(a){this.conf.text=a,this.cell.childNodes[this.conf.idx.hdr].firstChild.innerHTML="<span>"+a+"</span>"},dhtmlXAccordionCell.prototype.getText=function(){return this.conf.text},dhtmlXAccordionCell.prototype.setIcon=function(a){var b=this.cell.childNodes[this.conf.idx.hdr];if("dhx_cell_hdr_icon"!=b.firstChild.className){b.firstChild.className+=" dhx_cell_hdr_icon";var c=document.createElement("IMG");c.className="dhx_cell_hdr_icon",b.insertBefore(c,b.firstChild),c=null}b.firstChild.src=this.acc.conf.icons_path+a,b=null},dhtmlXAccordionCell.prototype.clearIcon=function(){var a=this.cell.childNodes[this.conf.idx.hdr];"dhx_cell_hdr_icon"==a.firstChild.className&&(a.removeChild(a.firstChild),a.firstChild.className=String(a.firstChild.className).replace(/\s{1,}dhx_cell_hdr_icon/gi,"")),a=null},dhtmlXAccordionCell.prototype._open=function(a){var b={};if(this.acc.conf.multi_mode){var c={};c[this._idd]=!0,b=this.acc._getDynData(c),this.acc._openId=this._idd,this.acc._openCache={},this.acc._openMode="open"}else b[this._idd]=this.conf.size.h;for(var d in b){null!=this.acc._openCache&&(this.acc._openCache[d]=!0);var e=this.acc.t[d].cell;e.cell.className=String(e.cell.className).replace(/\s{1,}dhx_cell_closed/gi,""),e.conf.opened=!0,e._trInitEv("open",a),e.conf.size.h=b[d],e.cell.style.height=e.conf.size.h+"px",e=null}0==this.conf.tr.prop&&(this.acc._openId=this.acc._openCache=this.acc._openMode=null,this._onActiveCall(!0))},dhtmlXAccordionCell.prototype._close=function(a){var b={};if(this.acc.conf.multi_mode){var c={};c[this._idd]=!0,b=this.acc._getDynData(null,c),this.acc._openId=this._idd,this.acc._openCache={},this.acc._openMode="close"}else b[this._idd]=this._getHdrHeight();for(var d in b){var e=this.acc.t[d].cell;null!=this.acc._openCache&&(this.acc._openCache[d]=!0),d==this._idd?(e.cell.className+=" dhx_cell_closed",e.conf.opened=!1,e._trInitEv("close",a)):(e.conf.size.h=b[d],e._adjustCell(),e._trInitEv("open",a)),e.cell.style.height=b[d]+"px",e=null}0==this.conf.tr.prop&&(this.acc._openId=this.acc._openCache=this.acc._openMode=null,this._onActiveCall(!1))},dhtmlXAccordionCell.prototype.isOpened=function(){return 1==this.conf.opened},dhtmlXAccordionCell.prototype._trInitEv=function(a,b){0!=this.conf.tr.prop&&(this._trAttachEv(),this.cell._accObj||(this.cell._accObj=this.acc),b&&(this.cell.style[this.conf.tr.prop]=this.conf.tr["height_"+a]),this._cellSetOpacity(a,b))},dhtmlXAccordionCell.prototype._trAttachEv=function(){this.conf.tr.ev_attached||(this.cell._trProp=this.conf.tr.prop,this.cell.addEventListener(this.conf.tr.ev,this._trOnEnd,!1),this.conf.tr.ev_attached=!0)},dhtmlXAccordionCell.prototype._trDetachEv=function(){this.conf.tr.ev_attached&&(this.cell.addEventListener(this.conf.tr.ev,this._trOnEnd,!1),this.conf.tr.ev_attached=!1)},dhtmlXAccordionCell.prototype._trOnEnd=function(a){a.stopPropagation&&a.stopPropagation(),"height"==a.propertyName&&(this.style[this._trProp]="",this._accObj.conf.multi_mode&&(null!=this._accObj._openCache&&(this._accObj._openCache[this._accId]=!1),this._accObj._adjustOpened()),1==this._accObj.conf.on_active_click&&(this._accObj.conf.multi_mode?(this._accObj._callMainEvent("onActive",[this._accId,this._accObj.t[this._accId].cell.conf.opened]),this._accObj.conf.on_active_click=!1):(this._accObj._callMainEvent("onActive",[this._accObj.conf.on_active_id,!0]),this._accObj.conf.on_active_id=null,this._accObj.conf.on_active_click=!1)),this._accObj=null)},dhtmlXAccordionCell.prototype._cellSetOpacity=function(a,b){for(var c in this.conf.idx)1!={hdr:!0,pr1:!0,pr2:!0}[c]&&(b&&(this.cell.childNodes[this.conf.idx[c]].style[this.conf.tr.prop]=this.conf.tr["op_"+a]),this.cell.childNodes[this.conf.idx[c]].style.opacity=this.conf.tr["op_v_"+a])},dhtmlXAccordionCell.prototype._onActiveCall=function(a){0!=this.acc.conf.on_active_click&&(1==this.acc.conf.multi_mode?(this.acc._callMainEvent("onActive",[this._idd,this.conf.opened]),this.acc.conf.on_active_click=!1):1==a&&(this.acc._callMainEvent("onActive",[this._idd,!0]),this.acc.conf.on_active_click=!1))},dhtmlXAccordionCell.prototype.show=function(){if(!this.conf.visible){if(0==this.conf.docked)return void this.dock();this.cell.style.display="",this.conf.visible=!0,this.acc.conf.multi_mode||(this.acc.conf.hiden_count--,this.acc._updateCellsHeight(),this.acc._updateCellsMargin()),this.acc.conf.size_changed?(this.acc.setSizes(),this.acc.conf.size_changed=!1):this.acc._adjustOpened()}},dhtmlXAccordionCell.prototype.hide=function(){this.conf.visible&&(!this.acc.conf.multi_mode&&this.conf.opened&&(this._close(!1),this.acc.conf.last_opened=null),this.cell.style.display="none",this.conf.visible=!1,this.acc.conf.multi_mode||(this.acc.conf.hiden_count++,this.acc._updateCellsHeight(),this.acc._updateCellsMargin()),this.acc._adjustOpened())},dhtmlXAccordionCell.prototype.isVisible=function(){return 1==this.conf.visible},dhtmlXAccordionCell.prototype.setHeight=function(a){this.acc.conf.multi_mode&&("*"==a?this.conf.h_auto=!0:(this.conf.h_auto=!1,this.conf.size.h=a),this.conf.opened&&("*"!=a&&(this.cell.style.height=a+"px"),this.acc._adjustOpened()))},dhtmlXAccordionCell.prototype.moveOnTop=function(){this.cell.parentNode.firstChild!=this.cell&&(this.cell.parentNode.insertBefore(this.cell,this.cell.parentNode.firstChild),this.acc._updateCellsMargin())},dhtmlXAccordionCell.prototype._initDocking=function(){var a=this;this.dock=function(){if(null!=this.acc.dhxWins&&1!=this.conf.docked){var a=this.acc.dhxWins.window(this._idd);a.close(),this._attachFromCell(a),this.conf.docked=!0,this.show(),this.conf.dock_opened&&this.open(),a=null,this.acc._callMainEvent("onDock",[this._idd])}},this.undock=function(a,b,c,d){if(null!=this.acc.dhxWins&&0!=this.conf.docked){if(this.conf.dock_opened=this.conf.opened,null!=this.acc.dhxWins.window(this._idd)){var e=this.acc.dhxWins.window(this._idd);e.show()}else{null==a&&(a=20),null==b&&(b=20),null==c&&(c=320),null==d&&(d=200);var e=this.acc.dhxWins.createWindow(this._idd,a,b,c,d);e.button("close").hide(),e.addUserButton("dock",99,"Dock"),e.button("dock").show(),e.button("dock").attachEvent("onClick",this._doOnDockClick),e.setText(this.getText()),e.attachEvent("onClose",this._doOnDockWinClose)}this.conf.docked=!1,this.hide(),e._attachFromCell(this),e=null,this.acc._callMainEvent("onUnDock",[this._idd])}},this._doOnDockClick=function(){a.dock()},this._doOnDockWinClose=function(a){return a.hide(),!1},this._unloadDocking=function(){a=null}},dhtmlXTabBar.prototype._fixTabsOfs=function(){this.conf.tabsOfs="dhx_web"==this.conf.skin?0:1},dhtmlXTabBar.prototype.cells=dhtmlXTabBar.prototype.tabs=function(a){return this.t[a]?this.t[a].cell:null},dhtmlXTabBar.prototype.getAllTabs=function(){var a=[];for(var b in this.t)a.push(b);return a},dhtmlXTabBar.prototype._setTabActive=function(a,b){this.t[a]&&this.t[a].conf.visible&&!this.t[a].conf.active&&("undefined"==typeof b&&(b=!0),(1!=b||this.callEvent("onSelect",[a,this.conf.lastActive])===!0)&&(this.setTabInActive(),this.t[a].conf.active=!0,this.conf.contZone&&(this.t[a].cell.cell.style.visibility="visible",this.t[a].cell.cell.style.top="0px",this.t[a].cell.cell.style.zIndex=1),this.t[a].tab.className=this._tabCss(a),this.conf.lastActive=a,this.setSizes()))},dhtmlXTabBar.prototype.setTabInActive=function(){this.conf.lastActive&&this.t[this.conf.lastActive]&&(this.t[this.conf.lastActive].conf.active=!1,this.conf.contZone&&(this.t[this.conf.lastActive].cell.cell.style.visibility="hidden",this.t[this.conf.lastActive].cell.cell.style.top="-5000px",this.t[this.conf.lastActive].cell.cell.style.zIndex=0),this.t[this.conf.lastActive].tab.className=this._tabCss(this.conf.lastActive),this.conf.lastActive=null)},dhtmlXTabBar.prototype._isTabActive=function(a){return a==this.conf.lastActive&&null!=this.conf.lastActive},dhtmlXTabBar.prototype.getActiveTab=function(){return this.conf.lastActive},dhtmlXTabBar.prototype.goToNextTab=function(){var a=this._getNextVisible(this.conf.lastActive,!0);null!=a&&this._setTabActive(a)},dhtmlXTabBar.prototype.goToPrevTab=function(){var a=this._getPrevVisible(this.conf.lastActive,!0);null!=a&&this._setTabActive(a)},dhtmlXTabBar.prototype._enableTab=function(a,b){this.t[a]&&!this.t[a].conf.enabled&&(this.t[a].conf.enabled=!0,this.t[a].tab.className=this._tabCss(a),1==b&&this._setTabActive(a))},dhtmlXTabBar.prototype._disableTab=function(a,b){this.t[a]&&this.t[a].conf.enabled&&(this.t[a].conf.enabled=!1,this.t[a].tab.className=this._tabCss(a),b!==!1&&this.conf.lastActive==a&&(1==b&&(b=this._getNextVisible(a)||this._getPrevVisible(a)),this._setTabActive(b)))},dhtmlXTabBar.prototype._isTabEnabled=function(a){return null!=this.t[a]&&1==this.t[a].conf.enabled},dhtmlXTabBar.prototype._setTabText=function(a,b,c){if(this.t[a]){var d=!1;("undefined"==typeof c||null==c)&&(c=this._getLabelWidth(b,this.t[a].conf.close),d=!0),this.t[a].tab.style.width=c+"px",this.t[a].tab.childNodes[0].innerHTML=b,this.t[a].conf.text=b,this.t[a].conf.width=c,this.t[a].conf.autowidth=d}},dhtmlXTabBar.prototype._getTabText=function(a){return this.t[a]?this.t[a].conf.text:null},dhtmlXTabBar.prototype._removeTab=function(a,b,c){if(this.t[a]){if(1!=c&&1!=this.t[a].conf.remove)return this.t[a].conf.remove=!0,void this._hideTab(a,b);"undefined"==typeof b&&(b=!0);var d=this._getNextVisible(a),e=this._getPrevVisible(a);1==this.t[a].conf.transEv&&(this.t[a].tab.removeEventListener(this.conf.transEv,this._doOnTrEnd),this.t[a].conf.transEv=!1);for(var f in this.t[a].conf)this.t[a].conf[f]=null;if(this.t[a].conf=null,delete this.t[a].conf,this.t[a].cell._unload(),this.t[a].cell=null,this.t[a].tab.parentNode.removeChild(this.t[a].tab),this.t[a].tab=null,this.t[a]=null,delete this.t[a],this.conf.lastActive==a&&0!=b){this.conf.lastActive=null;var g=1==b?d||e||this._getFirstVisible():b;null!=g&&this._setTabActive(g)}else 1!=c&&this._adjustTabs()}},dhtmlXTabBar.prototype.clearAll=function(){for(var a in this.t)this._removeTab(a,!1,!0);this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]="0px"},dhtmlXTabBar.prototype.moveTab=function(a,b){if(this.t[a]&&!(0>b)){b+=1;var c=this.tabsArea.childNodes[1].firstChild;c.childNodes[b]!=this.t[a].tab&&(c.removeChild(this.t[a].tab),b>=c.childNodes.length?c.appendChild(this.t[a].tab):c.insertBefore(this.t[a].tab,c.childNodes[b])),c=null}},dhtmlXTabBar.prototype._getIndex=function(a){for(var b=-1,c=this.tabsArea.childNodes[1].firstChild,d=1;d<c.childNodes.length;d++)c.childNodes[d]._tabId==a&&(b=d-1);return c=null,b},dhtmlXTabBar.prototype.getNumberOfTabs=function(a){var b=0;for(var c in this.t)b+=1!=a?1:1==this.t[c].conf.visible?1:0;return b},dhtmlXTabBar.prototype.forEachCell=dhtmlXTabBar.prototype.forEachTab=function(a){for(var b in this.t)a.apply(window,[this.t[b].cell])},dhtmlXTabBar.prototype.enableAutoReSize=function(){this._initFullScreenResize()},dhtmlXTabBar.prototype.setArrowsMode=function(a){a={auto:"auto",always:"always"}[String(a)],null!=a&&a!=this.conf.mode&&(this.conf.arwMode=a,"always"==a&&(this.tabsArea.childNodes[0].className="dhxtabbar_tabs_ar_left",this.tabsArea.childNodes[2].className="dhxtabbar_tabs_ar_right"),this.setSizes())},dhtmlXTabBar.prototype._checkArrows=function(){var a=!1;if("auto"==this.conf.arwMode){var b=0;for(var c in this.t)b+=this.t[c].tab.offsetWidth;var d=this.tabsArea.childNodes[0],e=this.tabsArea.childNodes[2];b>this.base.offsetWidth?d.className.search(/dhxtabbar_tabs_ar_hidden/)>=0&&(d.className=d.className.replace(/\s{0,}dhxtabbar_tabs_ar_hidden/,""),e.className=e.className.replace(/\s{0,}dhxtabbar_tabs_ar_hidden/,""),a=!0):d.className.search(/dhxtabbar_tabs_ar_hidden/)<1&&(d.className+=" dhxtabbar_tabs_ar_hidden",e.className+=" dhxtabbar_tabs_ar_hidden",a=!0),d=e=null}return a},window.dhtmlXTabBarCell=function(a,b){dhtmlXCellObject.apply(this,[a,"_tabbar"]),this.tabbar=b,this.conf.skin=this.tabbar.conf.skin,this.conf.tabbar_funcs={show:"_showTab",hide:"_hideTab",isVisible:"_isTabVisible",enable:"_enableTab",disable:"_disableTab",isEnabled:"_isTabEnabled",getIndex:"_getIndex",getText:"_getTabText",setText:"_setTabText",setActive:"_setTabActive",isActive:"_isTabActive",close:"_removeTab"},this._tabbarCall=function(a){return function(){for(var b=[this._idd],c=0;c<arguments.length;c++)b.push(arguments[c]);return this.tabbar[a].apply(this.tabbar,b)}};for(var c in this.conf.tabbar_funcs)this[c]=this._tabbarCall(this.conf.tabbar_funcs[c]);this.attachEvent("_onCellUnload",function(){this.tabbar=null;for(var a in this.conf.tabbar_funcs)this[a]=null,this.conf.tabbar_funcs[a]=null;this.conf.tabbar_funcs=null}),this.attachEvent("_onContentLoaded",function(){this.tabbar._callMainEvent("onContentLoaded",arguments),this.tabbar._callMainEvent("onTabContentLoaded",arguments)}),this.attachEvent("_onContentAttach",function(){this.tabbar._adjustCell(this.tabbar.conf.lastActive)})},window.dhtmlXTabBarCell.prototype=new dhtmlXCellObject,dhtmlXCellObject.prototype.attachTabbar=function(a){"undefined"!=typeof window.dhtmlXLayoutCell&&this instanceof dhtmlXLayoutCell&&this._hideBorders(),"undefined"!=typeof window.dhtmlXPortalCell&&this instanceof window.dhtmlXPortalCell&&(this.hideHeader(!0),this._hideBorders()),"string"==typeof a?a={mode:a}:("object"!=typeof a||null==a)&&(a={});var b=document.createElement("DIV");return b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.overflow="hidden","undefined"!=typeof window.dhtmlXAccordionCell&&this instanceof window.dhtmlXAccordionCell&&(b._ofs={t:-1}),this._attachObject(b),a.skin=this.conf.skin,a.parent=b,this.dataType="tabbar",this.dataObj=new dhtmlXTabBar(a),a.parent=b=null,a=null,this.callEvent("_onContentAttach",[]),this.dataObj},xmlPointer.prototype={text:function(){if(!_isFF)return this.d.xml;var a=new XMLSerializer;return a.serializeToString(this.d)},get:function(a){return this.d.getAttribute(a)},exists:function(){return!!this.d},content:function(){return this.d.firstChild?this.d.firstChild.wholeText||this.d.firstChild.data:""},each:function(a,b,c,d){var e=this.d.childNodes,f=new xmlPointer;if(e.length)for(d=d||0;d<e.length;d++)if(e[d].tagName==a&&(f.d=e[d],-1==b.apply(c,[f,d])))return},get_all:function(){for(var a={},b=this.d.attributes,c=0;c<b.length;c++)a[b[c].name]=b[c].value;return a},sub:function(a){var b=this.d.childNodes,c=new xmlPointer;if(b.length)for(var d=0;d<b.length;d++)if(b[d].tagName==a)return c.d=b[d],c},up:function(){return new xmlPointer(this.d.parentNode)},set:function(a,b){this.d.setAttribute(a,b)},clone:function(){return new xmlPointer(this.d)},sub_exists:function(a){var b=this.d.childNodes;if(b.length)for(var c=0;c<b.length;c++)if(b[c].tagName==a)return!0;return!1},through:function(a,b,c,d,e){var f=this.d.childNodes;if(f.length)for(var g=0;g<f.length;g++){if(f[g].tagName==a&&null!=f[g].getAttribute(b)&&""!=f[g].getAttribute(b)&&(!c||f[g].getAttribute(b)==c)){var h=new xmlPointer(f[g]);d.apply(e,[h,g])}var i=this.d;this.d=f[g],this.through(a,b,c,d,e),this.d=i}}},dhtmlXTreeObject.prototype.setDataMode=function(a){this._datamode=a},dhtmlXTreeObject.prototype._doContClick=function(a,b){if(!b&&2!=a.button)return this._acMenu&&(this._acMenu.hideContextMenu?this._acMenu.hideContextMenu():this.cMenu._contextEnd()),!0;for(var c=_isIE?a.srcElement:a.target;c&&"BODY"!=c.tagName&&!c.parentObject;)c=c.parentNode;if(!c||!c.parentObject)return!0;var d=c.parentObject;if(this.callEvent("onRightClick",[d.id,a])||((a.srcElement||a.target).oncontextmenu=function(a){return(a||event).cancelBubble=!0,!1}),this._acMenu=d.cMenu||this.cMenu,this._acMenu){if(!this.callEvent("onBeforeContextMenu",[d.id]))return!0;if(_isMacOS||((a.srcElement||a.target).oncontextmenu=function(a){return(a||event).cancelBubble=!0,!1}),this._acMenu.showContextMenu){var e=window.document.documentElement,f=window.document.body,g=new Array(e.scrollLeft||f.scrollLeft,e.scrollTop||f.scrollTop);if(_isIE)var h=a.clientX+g[0],i=a.clientY+g[1];else var h=a.pageX,i=a.pageY;this._acMenu.showContextMenu(h-1,i-1),this.contextID=d.id,a.cancelBubble=!0,this._acMenu._skip_hide=!0}else c.contextMenuId=d.id,c.contextMenu=this._acMenu,c.a=this._acMenu._contextStart,c.a(c,a),c.a=null;return!1}return!0},dhtmlXTreeObject.prototype.enableIEImageFix=function(a){a?(this._getImg=function(){var a=document.createElement("DIV");return a.innerHTML="&nbsp;",a.className="dhx_bg_img_fix",a},this._setSrc=function(a,b){a.style.backgroundImage="url("+b+")"},this._getSrc=function(a){var b=a.style.backgroundImage;return b.substr(4,b.length-5).replace(/(^")|("$)/g,"")}):(this._getImg=function(a){return document.createElement(a==this.rootId?"div":"img")},this._setSrc=function(a,b){a.src=b},this._getSrc=function(a){return a.src})},dhtmlXTreeObject.prototype.destructor=function(){for(var a in this._idpull){var b=this._idpull[a];b&&(b.parentObject=null,b.treeNod=null,b.childNodes=null,b.span=null,b.tr.nodem=null,b.tr=null,b.htmlNode.objBelong=null,b.htmlNode=null,this._idpull[a]=null)}this.parentObject.innerHTML="",this.XMLLoader&&this.XMLLoader.destructor(),this.allTree.onselectstart=null,this.allTree.oncontextmenu=null,this.allTree.onmousedown=null;for(var a in this)this[a]=null},cObject.prototype=new Object,cObject.prototype.clone=function(){function a(){}return a.prototype=this,new a},dhtmlXTreeObject.prototype._globalIdStorageAdd=function(a,b){return this._globalIdStorageFind(a,1,1)?(a=a+"_"+(new Date).valueOf(),this._globalIdStorageAdd(a,b)):(this._idpull[a]=b,this._pullSize++,a)},dhtmlXTreeObject.prototype._globalIdStorageSub=function(a){this._idpull[a]&&(this._unselectItem(this._idpull[a]),this._idpull[a]=null,this._pullSize--),this._locker&&this._locker[a]&&(this._locker[a]=!1)},dhtmlXTreeObject.prototype._globalIdStorageFind=function(a,b,c,d){var e=this._idpull[a];if(e){if(e.unParsed&&!c&&this.reParse(e,0),this._srnd&&!e.htmlNode&&this._buildSRND(e,c),d&&this._edsbpsA)for(var f=0;f<this._edsbpsA.length;f++)if(this._edsbpsA[f][2]==a)return dhtmlxError.throwError("getItem","Requested item still in parsing process.",a),null;return e}return this.slowParse&&0!=a&&!b?this.preParse(a):null},dhtmlXTreeObject.prototype._getSubItemsXML=function(a){var b=[];return a.each("item",function(a){b.push(a.get("id"))},this),b.join(this.dlmtr)},dhtmlXTreeObject.prototype.enableSmartXMLParsing=function(a){this.slowParse=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.findXML=function(){},dhtmlXTreeObject.prototype._getAllCheckedXML=function(a,b,c){var d=[];return 2==c&&a.through("item","checked",-1,function(a){d.push(a.get("id"))},this),1==c&&a.through("item","id",null,function(a){a.get("checked")&&-1!=a.get("checked")&&d.push(a.get("id"))},this),0==c&&a.through("item","id",null,function(a){a.get("checked")&&0!=a.get("checked")||d.push(a.get("id"))},this),d.length?b+(b?this.dlmtr:"")+d.join(this.dlmtr):b?b:""},dhtmlXTreeObject.prototype._setSubCheckedXML=function(a,b){var c=a?"1":"";b.through("item","id",null,function(a){a.get("disabled")&&0!=a.get("disabled")||a.set("checked",c)},this)},dhtmlXTreeObject.prototype._getAllScraggyItemsXML=function(a){var b=[],c=function(a){a.sub_exists("item")?a.each("item",c,this):b.push(a.get("id"))};return c(a),b.join(",")},dhtmlXTreeObject.prototype._getAllFatItemsXML=function(a){var b=[],c=function(a){a.sub_exists("item")&&(b.push(a.get("id")),a.each("item",c,this))};return c(a),b.join(",")},dhtmlXTreeObject.prototype._getAllSubItemsXML=function(a,b,c){var b=[];return c.through("item","id",null,function(a){b.push(a.get("id"))},this),b.join(",")},dhtmlXTreeObject.prototype.reParse=function(a){var b=this;this.parsCount||b.callEvent("onXLS",[b,a.id]),this.xmlstate=1;var c=a.unParsed;a.unParsed=0,this.XMLloadingWarning=1;var d=this.parsingOn,e=this.waitUpdateXML,f=this.parsedArray;this.parsedArray=new Array,this.waitUpdateXML=!1,this.parsingOn=a.id,this.parsedArray=new Array,this.setCheckList="",this._parse(c,a.id,2);for(var g=this.setCheckList.split(this.dlmtr),h=0;h<this.parsedArray.length;h++)a.htmlNode.childNodes[0].appendChild(this.parsedArray[h]);c.get("order")&&"none"!=c.get("order")&&this._reorderBranch(a,c.get("order"),!0),this.oldsmcheck=this.smcheck,this.smcheck=!1;for(var i=0;i<g.length;i++)g[i]&&this.setCheck(g[i],1);return this.smcheck=this.oldsmcheck,this.parsingOn=d,this.waitUpdateXML=e,this.parsedArray=f,this.XMLloadingWarning=0,this._redrawFrom(this,a),this._srnd&&!a._sready&&this.prepareSR(a.id),this.xmlstate=0,!0},dhtmlXTreeObject.prototype.preParse=function(a){if(!a||!this._p)return null;var b=!1;if(this._p.clone().through("item","id",a,function(a){return this._globalIdStorageFind(a.up().get("id")),b=!0},this),b){var c=this._globalIdStorageFind(a,!0,!1);c||dhtmlxError.throwError("getItem","The item "+a+" not operable. Seems you have non-unique|incorrect IDs in tree's XML.",a)}return c},dhtmlXTreeObject.prototype._escape=function(a){switch(this.utfesc){case"none":return a;case"utf8":return encodeURIComponent(a);default:return escape(a)}},dhtmlXTreeObject.prototype._drawNewTr=function(a){var b=document.createElement("tr"),c=document.createElement("td"),d=document.createElement("td");return c.appendChild(document.createTextNode(" ")),d.colSpan=3,d.appendChild(a),b.appendChild(c),b.appendChild(d),b},dhtmlXTreeObject.prototype.loadXMLString=function(a,b){var c=this;this.parsCount||this.callEvent("onXLS",[c,null]),this.xmlstate=1,b&&(this.XMLLoader.waitCall=b),this.XMLLoader.loadXMLString(a)},dhtmlXTreeObject.prototype.loadXML=function(a,b){if(this._datamode&&"xml"!=this._datamode)return this["load"+this._datamode.toUpperCase()](a,b);var c=this;this.parsCount||this.callEvent("onXLS",[c,this._ld_id]),this._ld_id=null,this.xmlstate=1,this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe),b&&(this.XMLLoader.waitCall=b),this.XMLLoader.loadXML(a)},dhtmlXTreeObject.prototype._attachChildNode=function(a,b,c,d,e,f,g,h,i,j,k){j&&j.parentObject&&(a=j.parentObject),0==a.XMLload&&this.XMLsource&&!this.XMLloadingWarning&&(a.XMLload=1,this._loadDynXML(a.id));var l=a.childsCount,m=a.childNodes;if(k&&k.tr.previousSibling&&(k.tr.previousSibling.previousSibling?j=k.tr.previousSibling.nodem:h=h.replace("TOP","")+",TOP"),j){var n,o;for(n=0;l>n;n++)if(m[n]==j){for(o=l;o!=n;o--)m[1+o]=m[o];break}n++,l=n}if(h)for(var p=h.split(","),q=0;q<p.length;q++)switch(p[q]){case"TOP":for(a.childsCount>0&&(j=new Object,j.tr=a.childNodes[0].tr.previousSibling),a._has_top=!0,n=l;n>0;n--)m[n]=m[n-1];l=0}var r;(r=this._idpull[b])&&-1==r.span||(r=m[l]=new dhtmlXTreeItemObject(b,c,a,this,d,1),b=m[l].id,a.childsCount++),r.htmlNode||(r.label=c,r.htmlNode=this._createItem(this.checkBoxOff?1:0,r),r.htmlNode.objBelong=r),e&&(r.images[0]=e),f&&(r.images[1]=f),g&&(r.images[2]=g);var s=this._drawNewTr(r.htmlNode);if((this.XMLloadingWarning||this._hAdI)&&(r.htmlNode.parentNode.parentNode.style.display="none"),j&&j.tr&&j.tr.nextSibling?a.htmlNode.childNodes[0].insertBefore(s,j.tr.nextSibling):this.parsingOn==a.id?this.parsedArray[this.parsedArray.length]=s:a.htmlNode.childNodes[0].appendChild(s),j&&!j.span&&(j=null),this.XMLsource&&(r.XMLload=i&&0!=i?0:1),r.tr=s,s.nodem=r,0==a.itemId&&(s.childNodes[0].className="hiddenRow"),(a._r_logic||this._frbtr)&&this._setSrc(r.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.imPath+this.radioArray[0]),h)for(var p=h.split(","),q=0;q<p.length;q++)switch(p[q]){case"SELECT":this.selectItem(b,!1);break;case"CALL":this.selectItem(b,!0);break;case"CHILD":r.XMLload=0;break;case"CHECKED":this.XMLloadingWarning?this.setCheckList+=this.dlmtr+b:this.setCheck(b,1);break;case"HCHECKED":this._setCheck(r,"unsure");break;case"OPEN":r.openMe=1}if(!this.XMLloadingWarning&&(this._getOpenState(a)<0&&!this._hAdI&&this.openItem(a.id),j&&(this._correctPlus(j),this._correctLine(j)),this._correctPlus(a),this._correctLine(a),this._correctPlus(r),a.childsCount>=2&&(this._correctPlus(m[a.childsCount-2]),this._correctLine(m[a.childsCount-2])),2!=a.childsCount&&this._correctPlus(m[0]),this.tscheck&&this._correctCheckStates(a),this._onradh))if(1==this.xmlstate){var t=this.onXLE;this.onXLE=function(a){this._onradh(b),t&&t(a)}}else this._onradh(b);return r},dhtmlXTreeObject.prototype.enableContextMenu=function(a){a&&(this.cMenu=a)},dhtmlXTreeObject.prototype.setItemContextMenu=function(a,b){for(var c=a.toString().split(this.dlmtr),d=0;d<c.length;d++){var e=this._globalIdStorageFind(c[d]);e&&(e.cMenu=b)}},dhtmlXTreeObject.prototype.insertNewItem=function(a,b,c,d,e,f,g,h,i){var j=this._globalIdStorageFind(a);if(!j)return-1;var k=this._attachChildNode(j,b,c,d,e,f,g,h,i);return this._idpull[this.rootId].XMLload||(this._idpull[this.rootId].XMLload=1),!this.XMLloadingWarning&&this.childCalc&&this._fixChildCountLabel(j),k},dhtmlXTreeObject.prototype.insertNewChild=function(a,b,c,d,e,f,g,h,i){return this.insertNewItem(a,b,c,d,e,f,g,h,i)},dhtmlXTreeObject.prototype._parseXMLTree=function(a,b,c,d,e){var f=new xmlPointer(e.getXMLTopNode("tree"));a._parse(f),a._p=f},dhtmlXTreeObject.prototype._parseItem=function(a,b,c,d){var e;if(this._srnd&&(!this._idpull[e=a.get("id")]||!this._idpull[e].span))return void this._addItemSRND(b.id,e,a);var f=a.get_all();if("object"==typeof this.waitUpdateXML&&!this.waitUpdateXML[f.id])return void this._parse(a,f.id,1);(null===f.text||"undefined"==typeof f.text)&&(f.text=a.sub("itemtext"),f.text&&(f.text=f.text.content()));var g=[];if(f.select&&g.push("SELECT"),f.top&&g.push("TOP"),f.call&&(this.nodeAskingCall=f.id),-1==f.checked?g.push("HCHECKED"):f.checked&&g.push("CHECKED"),f.open&&g.push("OPEN"),this.waitUpdateXML)if(this._globalIdStorageFind(f.id))var h=this.updateItem(f.id,f.text,f.im0,f.im1,f.im2,f.checked,f.child);else{0==this.npl?g.push("TOP"):c=b.childNodes[this.npl];var h=this._attachChildNode(b,f.id,f.text,0,f.im0,f.im1,f.im2,g.join(","),f.child,0,c);f.id=h.id,c=null}else var h=this._attachChildNode(b,f.id,f.text,0,f.im0,f.im1,f.im2,g.join(","),f.child,d||0,c);if(f.tooltip&&(h.span.parentNode.parentNode.title=f.tooltip),f.style&&(h.span.style.cssText?h.span.style.cssText+=";"+f.style:h.span.setAttribute("style",h.span.getAttribute("style")+"; "+f.style)),f.radio&&(h._r_logic=!0),f.nocheckbox){var i=h.span.parentNode.previousSibling.previousSibling;i.style.display="none",h.nocheckbox=!0}f.disabled&&(null!=f.checked&&this._setCheck(h,f.checked),this.disableCheckbox(h,1)),h._acc=f.child||0,this.parserExtension&&this.parserExtension._parseExtension.call(this,a,f,b?b.id:0),this.setItemColor(h,f.aCol,f.sCol),"1"==f.locked&&this.lockItem(h.id,!0,!0),(f.imwidth||f.imheight)&&this.setIconSize(f.imwidth,f.imheight,h),("0"==f.closeable||"1"==f.closeable)&&this.setItemCloseable(h,f.closeable);var j="";f.topoffset&&this.setItemTopOffset(h,f.topoffset),this.slowParse&&"object"!=typeof this.waitUpdateXML?(!h.childsCount&&a.sub_exists("item")&&(h.unParsed=a.clone()),a.each("userdata",function(a){this.setUserData(f.id,a.get("name"),a.content())},this)):a.sub_exists("item")&&(j=this._parse(a,f.id,1)),""!=j&&(this.nodeAskingCall=j),a.each("userdata",function(b){this.setUserData(a.get("id"),b.get("name"),b.content())},this)},dhtmlXTreeObject.prototype._parse=function(a,b,c,d){if(this._srnd&&!this.parentObject.offsetHeight){var e=this;return window.setTimeout(function(){e._parse(a,b,c,d)},100)}if(a.exists()){if(this.skipLock=!0,!b){b=a.get("id");var f=a.get("dhx_security");f&&(dhtmlx.security_key=f),a.get("radio")&&(this.htmlNode._r_logic=!0),this.parsingOn=b,this.parsedArray=new Array,this.setCheckList="",this.nodeAskingCall=""}var g=this._globalIdStorageFind(b);if(!g)return dhtmlxError.throwError("DataStructure","XML refers to not existing parent");if(this.parsCount=this.parsCount?this.parsCount+1:1,this.XMLloadingWarning=1,!g.childsCount||d||this._edsbps||g._has_top)var h=0;else var h=0;if(this.npl=0,a.each("item",function(d,e){return g.XMLload=1,this._parseItem(d,g,0,h),this._edsbps&&this.npl==this._edsbpsC?(this._distributedStart(a,e+1,b,c,g.childsCount),-1):void this.npl++},this,d),!c){if(a.each("userdata",function(b){this.setUserData(a.get("id"),b.get("name"),b.content())},this),g.XMLload=1,this.waitUpdateXML){this.waitUpdateXML=!1;for(var i=g.childsCount-1;i>=0;i--)g.childNodes[i]._dmark&&this.deleteItem(g.childNodes[i].id)}for(var i=(this._globalIdStorageFind(this.parsingOn),0);i<this.parsedArray.length;i++)g.htmlNode.childNodes[0].appendChild(this.parsedArray[i]);this.parsedArray=[],this.lastLoadedXMLId=b,this.XMLloadingWarning=0;for(var j=this.setCheckList.split(this.dlmtr),k=0;k<j.length;k++)j[k]&&this.setCheck(j[k],1);this.XMLsource&&this.tscheck&&this.smcheck&&g.id!=this.rootId&&(0===g.checkstate?this._setSubChecked(0,g):1===g.checkstate&&this._setSubChecked(1,g)),this._redrawFrom(this,null,d),a.get("order")&&"none"!=a.get("order")&&this._reorderBranch(g,a.get("order"),!0),""!=this.nodeAskingCall&&this.callEvent("onClick",[this.nodeAskingCall,this.getSelectedItemId()]),this._branchUpdate&&this._branchUpdateNext(a)}if(1==this.parsCount){if(this.parsingOn=null,this._srnd&&g.id!=this.rootId&&(this.prepareSR(g.id),this.XMLsource&&this.openItem(g.id)),a.through("item","open",null,function(a){this.openItem(a.get("id"))},this),!this._edsbps||!this._edsbpsA.length){var l=this;window.setTimeout(function(){l.callEvent("onXLE",[l,b])},1),this.xmlstate=0}this.skipLock=!1}this.parsCount--;var l=this;return this._edsbps&&window.setTimeout(function(){l._distributedStep(b)},this._edsbpsD),!c&&this.onXLE&&this.onXLE(this,b),this.nodeAskingCall}},dhtmlXTreeObject.prototype._branchUpdateNext=function(a){a.each("item",function(a){var b=a.get("id");(!this._idpull[b]||this._idpull[b].XMLload)&&(this._branchUpdate++,this.smartRefreshItem(a.get("id"),a))},this),this._branchUpdate--
},dhtmlXTreeObject.prototype.checkUserData=function(a,b){if(1==a.nodeType&&"userdata"==a.tagName){var c=a.getAttribute("name");c&&a.childNodes[0]&&this.setUserData(b,c,a.childNodes[0].data)}},dhtmlXTreeObject.prototype._redrawFrom=function(a,b,c,d){if(b)e=b;else{var e=a._globalIdStorageFind(a.lastLoadedXMLId);if(a.lastLoadedXMLId=-1,!e)return 0}for(var f=0,g=c?c-1:0;g<e.childsCount;g++)if(this._branchUpdate&&1!=this._getOpenState(e)||b&&1!=d||(e.childNodes[g].htmlNode.parentNode.parentNode.style.display=""),1==e.childNodes[g].openMe&&(this._openItem(e.childNodes[g]),e.childNodes[g].openMe=0),a._redrawFrom(a,e.childNodes[g]),null!=this.childCalc){if((e.childNodes[g].unParsed||!e.childNodes[g].XMLload&&this.XMLsource)&&(e.childNodes[g].span.innerHTML=e.childNodes[g]._acc?e.childNodes[g].label+this.htmlcA+e.childNodes[g]._acc+this.htmlcB:e.childNodes[g].label),e.childNodes[g].childNodes.length&&this.childCalc){if(1==this.childCalc&&(e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+e.childNodes[g].childsCount+this.htmlcB),2==this.childCalc){var h=e.childNodes[g].childsCount-(e.childNodes[g].pureChilds||0);h&&(e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+h+this.htmlcB),e.pureChilds?e.pureChilds++:e.pureChilds=1}if(3==this.childCalc&&(e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+e.childNodes[g]._acc+this.htmlcB),4==this.childCalc){var h=e.childNodes[g]._acc;h&&(e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+h+this.htmlcB)}}else 4==this.childCalc&&f++;f+=e.childNodes[g]._acc,3==this.childCalc&&f++}e.unParsed||!e.XMLload&&this.XMLsource||(e._acc=f),a._correctLine(e),a._correctPlus(e),this.childCalc&&!b&&a._fixChildCountLabel(e)},dhtmlXTreeObject.prototype._createSelf=function(){var a=document.createElement("div");return a.className="containerTableStyle",a.style.width=this.width,a.style.height=this.height,this.parentObject.appendChild(a),a},dhtmlXTreeObject.prototype._xcloseAll=function(a){if(!a.unParsed){if(this.rootId!=a.id){if(!a.htmlNode)return;for(var b=a.htmlNode.childNodes[0].childNodes,c=b.length,d=1;c>d;d++)b[d].style.display="none";this._correctPlus(a)}for(var d=0;d<a.childsCount;d++)a.childNodes[d].childsCount&&this._xcloseAll(a.childNodes[d])}},dhtmlXTreeObject.prototype._xopenAll=function(a){this._HideShow(a,2);for(var b=0;b<a.childsCount;b++)this._xopenAll(a.childNodes[b])},dhtmlXTreeObject.prototype._correctPlus=function(a){if(a.htmlNode){var b=a.htmlNode.childNodes[0].childNodes[0].childNodes[0].lastChild,c=a.htmlNode.childNodes[0].childNodes[0].childNodes[2].childNodes[0],d=this.lineArray;if(this.XMLsource&&!a.XMLload){var d=this.plusArray;if(this._setSrc(c,this.iconURL+a.images[2]),this._txtimg)return b.innerHTML="[+]"}else if(a.childsCount||a.unParsed)if(a.htmlNode.childNodes[0].childNodes[1]&&"none"!=a.htmlNode.childNodes[0].childNodes[1].style.display){if(!a.wsign)var d=this.minusArray;if(this._setSrc(c,this.iconURL+a.images[1]),this._txtimg)return b.innerHTML="[-]"}else{if(!a.wsign)var d=this.plusArray;if(this._setSrc(c,this.iconURL+a.images[2]),this._txtimg)return b.innerHTML="[+]"}else this._setSrc(c,this.iconURL+a.images[0]);var e=2;a.treeNod.treeLinesOn?(a.parentObject&&(e=this._getCountStatus(a.id,a.parentObject)),this._setSrc(b,this.imPath+d[e])):this._setSrc(b,this.imPath+d[3])}},dhtmlXTreeObject.prototype._correctLine=function(a){if(a.htmlNode){var b=a.parentObject;if(b)if(0!=this._getLineStatus(a.id,b)&&this.treeLinesOn)for(var c=1;c<=a.childsCount&&a.htmlNode.childNodes[0].childNodes[c];c++)a.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundImage="url("+this.imPath+this.lineArray[5]+")",a.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundRepeat="repeat-y";else for(var c=1;c<=a.childsCount&&a.htmlNode.childNodes[0].childNodes[c];c++)a.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundImage="",a.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundRepeat=""}},dhtmlXTreeObject.prototype._getCountStatus=function(a,b){return b.childsCount<=1?b.id==this.rootId?4:0:b.childNodes[0].id==a?b.id==this.rootId?2:1:b.childNodes[b.childsCount-1].id==a?0:1},dhtmlXTreeObject.prototype._getLineStatus=function(a,b){return b.childNodes[b.childsCount-1].id==a?0:1},dhtmlXTreeObject.prototype._HideShow=function(a,b){if(this.XMLsource&&!a.XMLload){if(1==b)return;return a.XMLload=1,void this._loadDynXML(a.id)}a.unParsed&&this.reParse(a);var c=a.htmlNode.childNodes[0].childNodes,d=c.length;if(d>1){"none"==c[1].style.display&&1!=b||2==b?nodestyle="":(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0",nodestyle="none");for(var e=1;d>e;e++)c[e].style.display=nodestyle}this._correctPlus(a)},dhtmlXTreeObject.prototype._getOpenState=function(a){if(!a.htmlNode)return 0;var b=a.htmlNode.childNodes[0].childNodes;return b.length<=1?0:"none"!=b[1].style.display?1:-1},dhtmlXTreeObject.prototype.onRowClick2=function(){var a=this.parentObject.treeNod;return a.callEvent("onDblClick",[this.parentObject.id,a])?(this.parentObject.closeble&&"0"!=this.parentObject.closeble?a._HideShow(this.parentObject):a._HideShow(this.parentObject,2),a.checkEvent("onOpenEnd")&&(a.xmlstate?(a._oie_onXLE.push(a.onXLE),a.onXLE=a._epnFHe):a.callEvent("onOpenEnd",[this.parentObject.id,a._getOpenState(this.parentObject)])),!1):!1},dhtmlXTreeObject.prototype.onRowClick=function(){var a=this.parentObject.treeNod;return a.callEvent("onOpenStart",[this.parentObject.id,a._getOpenState(this.parentObject)])?(this.parentObject.closeble&&"0"!=this.parentObject.closeble?a._HideShow(this.parentObject):a._HideShow(this.parentObject,2),void(a.checkEvent("onOpenEnd")&&(a.xmlstate?(a._oie_onXLE.push(a.onXLE),a.onXLE=a._epnFHe):a.callEvent("onOpenEnd",[this.parentObject.id,a._getOpenState(this.parentObject)])))):0},dhtmlXTreeObject.prototype._epnFHe=function(a,b,c){b!=this.rootId&&this.callEvent("onOpenEnd",[b,a.getOpenState(b)]),a.onXLE=a._oie_onXLE.pop(),c||a._oie_onXLE.length||a.onXLE&&a.onXLE(a,b)},dhtmlXTreeObject.prototype.onRowClickDown=function(a){a=a||window.event;var b=this.parentObject.treeNod;b._selectItem(this.parentObject,a)},dhtmlXTreeObject.prototype.getSelectedItemId=function(){for(var a=new Array,b=0;b<this._selected.length;b++)a[b]=this._selected[b].id;return a.join(this.dlmtr)},dhtmlXTreeObject.prototype._selectItem=function(a,b){if(this.checkEvent("onSelect")&&(this._onSSCFold=this.getSelectedItemId()),this._amsel&&b&&(b.ctrlKey||b.metaKey||b.shiftKey)||this._unselectItems(),a.i_sel&&this._amsel&&b&&(b.ctrlKey||b.metaKey))this._unselectItem(a);else if(!(a.i_sel||this._amselS&&0!=this._selected.length&&this._selected[0].parentObject!=a.parentObject))if(this._amsel&&b&&b.shiftKey&&0!=this._selected.length&&this._selected[this._selected.length-1].parentObject==a.parentObject){var c=this._getIndex(this._selected[this._selected.length-1]),d=this._getIndex(a);if(c>d){var e=c;c=d,d=e}for(var f=c;d>=f;f++)a.parentObject.childNodes[f].i_sel||this._markItem(a.parentObject.childNodes[f])}else this._markItem(a);if(this.checkEvent("onSelect")){var g=this.getSelectedItemId();g!=this._onSSCFold&&this.callEvent("onSelect",[g])}},dhtmlXTreeObject.prototype._markItem=function(a){a.scolor&&(a.span.style.color=a.scolor),a.span.className="selectedTreeRow",a.i_sel=!0,this._selected[this._selected.length]=a},dhtmlXTreeObject.prototype.getIndexById=function(a){var b=this._globalIdStorageFind(a);return b?this._getIndex(b):null},dhtmlXTreeObject.prototype._getIndex=function(a){for(var b=a.parentObject,c=0;c<b.childsCount;c++)if(b.childNodes[c]==a)return c},dhtmlXTreeObject.prototype._unselectItem=function(a){if(a&&a.i_sel){a.span.className="standartTreeRow",a.acolor&&(a.span.style.color=a.acolor),a.i_sel=!1;for(var b=0;b<this._selected.length;b++)if(!this._selected[b].i_sel){this._selected.splice(b,1);break}}},dhtmlXTreeObject.prototype._unselectItems=function(){for(var a=0;a<this._selected.length;a++){var b=this._selected[a];b.span.className="standartTreeRow",b.acolor&&(b.span.style.color=b.acolor),b.i_sel=!1}this._selected=new Array},dhtmlXTreeObject.prototype.onRowSelect=function(a,b,c){a=a||window.event;var d=this.parentObject;b&&(d=b.parentObject);var e=d.treeNod,f=e.getSelectedItemId();a&&a.skipUnSel||e._selectItem(d,a),c||(d.actionHandler?d.actionHandler(d.id,f):e.callEvent("onClick",[d.id,f]))},dhtmlXTreeObject.prototype._correctCheckStates=function(a){if(this.tscheck&&a&&a.id!=this.rootId){var b=a.childNodes,c=0,d=0;if(0!=a.childsCount){for(var e=0;e<a.childsCount;e++)if(!b[e].dscheck)if(0==b[e].checkstate)c=1;else{if(1!=b[e].checkstate){c=1,d=1;break}d=1}c&&d?this._setCheck(a,"unsure"):c?this._setCheck(a,!1):this._setCheck(a,!0),this._correctCheckStates(a.parentObject)}}},dhtmlXTreeObject.prototype.onCheckBoxClick=function(){return this.treeNod.callEvent("onBeforeCheck",[this.parentObject.id,this.parentObject.checkstate])?this.parentObject.dscheck?!0:(this.treeNod.tscheck?1==this.parentObject.checkstate?this.treeNod._setSubChecked(!1,this.parentObject):this.treeNod._setSubChecked(!0,this.parentObject):1==this.parentObject.checkstate?this.treeNod._setCheck(this.parentObject,!1):this.treeNod._setCheck(this.parentObject,!0),this.treeNod._correctCheckStates(this.parentObject.parentObject),this.treeNod.callEvent("onCheck",[this.parentObject.id,this.parentObject.checkstate])):void 0},dhtmlXTreeObject.prototype._createItem=function(a,b,c){var d=document.createElement("table");d.cellSpacing=0,d.cellPadding=0,d.border=0,this.hfMode&&(d.style.tableLayout="fixed"),d.style.margin=0,d.style.padding=0;var e=document.createElement("tbody"),f=document.createElement("tr"),g=document.createElement("td");if(g.className="standartTreeImage",this._txtimg){var h=document.createElement("div");g.appendChild(h),h.className="dhx_tree_textSign"}else{var h=this._getImg(b.id);h.border="0","IMG"==h.tagName&&(h.align="absmiddle"),g.appendChild(h),h.style.padding=0,h.style.margin=0,h.style.width=this.def_line_img_x,h.style.height=this.def_line_img_y}var i=document.createElement("td"),j=this._getImg(this.cBROf?this.rootId:b.id);j.checked=0,this._setSrc(j,this.imPath+this.checkArray[0]),j.style.width="18px",j.style.height="18px",a||(i.style.display="none"),i.appendChild(j),this.cBROf||"IMG"!=j.tagName||(j.align="absmiddle"),j.onclick=this.onCheckBoxClick,j.treeNod=this,j.parentObject=b,i.width=window._KHTMLrv?"16px":"20px";var k=document.createElement("td");k.className="standartTreeImage";var l=this._getImg(this.timgen?b.id:this.rootId);l.onmousedown=this._preventNsDrag,l.ondragstart=this._preventNsDrag,l.border="0",this._aimgs&&(l.parentObject=b,"IMG"==l.tagName&&(l.align="absmiddle"),l.onclick=this.onRowSelect),c||this._setSrc(l,this.iconURL+this.imageArray[0]),k.appendChild(l),l.style.padding=0,l.style.margin=0,this.timgen?(k.style.width=l.style.width=this.def_img_x,l.style.height=this.def_img_y):(l.style.width="0px",l.style.height="0px",(_isOpera||window._KHTMLrv)&&(k.style.display="none"));var m=document.createElement("td");return m.className="standartTreeRow",b.span=document.createElement("span"),b.span.className="standartTreeRow",this.mlitems?(b.span.style.width=this.mlitems,b.span.style.display="block"):m.noWrap=!0,_isIE&&_isIE>7?m.style.width="999999px":window._KHTMLrv||(m.style.width="100%"),b.span.innerHTML=b.label,m.appendChild(b.span),m.parentObject=b,g.parentObject=b,m.onclick=this.onRowSelect,g.onclick=this.onRowClick,m.ondblclick=this.onRowClick2,this.ettip&&(f.title=b.label),this.dragAndDropOff&&(this._aimgs&&(this.dragger.addDraggableItem(k,this),k.parentObject=b),this.dragger.addDraggableItem(m,this)),b.span.style.paddingLeft="5px",b.span.style.paddingRight="5px",m.style.verticalAlign="",m.style.fontSize="10pt",m.style.cursor=this.style_pointer,f.appendChild(g),f.appendChild(i),f.appendChild(k),f.appendChild(m),e.appendChild(f),d.appendChild(e),(this.ehlt||this.checkEvent("onMouseIn")||this.checkEvent("onMouseOut"))&&(f.onmousemove=this._itemMouseIn,f[_isIE?"onmouseleave":"onmouseout"]=this._itemMouseOut),d},dhtmlXTreeObject.prototype.setImagePath=function(a){this.imPath=a,this.iconURL=a},dhtmlXTreeObject.prototype.setIconPath=function(a){this.iconURL=a},dhtmlXTreeObject.prototype._getLeafCount=function(a){for(var b=0,c=0;c<a.childsCount;c++)0==a.childNodes[c].childsCount&&b++;return b},dhtmlXTreeObject.prototype._getChildCounterValue=function(a){var b=this._globalIdStorageFind(a);if(!b)return 0;if(b.unParsed||!b.XMLload&&this.XMLsource)return b._acc;switch(this.childCalc){case 1:return b.childsCount;case 2:return this._getLeafCount(b);case 3:return b._acc;case 4:return b._acc}},dhtmlXTreeObject.prototype._fixChildCountLabel=function(a){if(null!=this.childCalc){if(a.unParsed||!a.XMLload&&this.XMLsource)return void(a.span.innerHTML=a._acc?a.label+this.htmlcA+a._acc+this.htmlcB:a.label);switch(this.childCalc){case 1:a.span.innerHTML=0!=a.childsCount?a.label+this.htmlcA+a.childsCount+this.htmlcB:a.label;break;case 2:var b=this._getLeafCount(a);a.span.innerHTML=0!=b?a.label+this.htmlcA+b+this.htmlcB:a.label;break;case 3:if(0!=a.childsCount){for(var c=0,d=0;d<a.childsCount;d++)a.childNodes[d]._acc||(a.childNodes[d]._acc=0),c+=1*a.childNodes[d]._acc;c+=1*a.childsCount,a.span.innerHTML=a.label+this.htmlcA+c+this.htmlcB,a._acc=c}else a.span.innerHTML=a.label,a._acc=0;a.parentObject&&a.parentObject!=this.htmlNode&&this._fixChildCountLabel(a.parentObject);break;case 4:if(0!=a.childsCount){for(var c=0,d=0;d<a.childsCount;d++)a.childNodes[d]._acc||(a.childNodes[d]._acc=1),c+=1*a.childNodes[d]._acc;a.span.innerHTML=a.label+this.htmlcA+c+this.htmlcB,a._acc=c}else a.span.innerHTML=a.label,a._acc=1;a.parentObject&&a.parentObject!=this.htmlNode&&this._fixChildCountLabel(a.parentObject)}}},dhtmlXTreeObject.prototype.setChildCalcMode=function(a){switch(a){case"child":this.childCalc=1;break;case"leafs":this.childCalc=2;break;case"childrec":this.childCalc=3;break;case"leafsrec":this.childCalc=4;break;case"disabled":this.childCalc=null;break;default:this.childCalc=4}},dhtmlXTreeObject.prototype.setChildCalcHTML=function(a,b){this.htmlcA=a,this.htmlcB=b},dhtmlXTreeObject.prototype.setOnRightClickHandler=function(a){this.attachEvent("onRightClick",a)},dhtmlXTreeObject.prototype.setOnClickHandler=function(a){this.attachEvent("onClick",a)},dhtmlXTreeObject.prototype.setOnSelectStateChange=function(a){this.attachEvent("onSelect",a)},dhtmlXTreeObject.prototype.setXMLAutoLoading=function(a){this.XMLsource=a},dhtmlXTreeObject.prototype.setOnCheckHandler=function(a){this.attachEvent("onCheck",a)},dhtmlXTreeObject.prototype.setOnOpenHandler=function(a){this.attachEvent("onOpenStart",a)},dhtmlXTreeObject.prototype.setOnOpenStartHandler=function(a){this.attachEvent("onOpenStart",a)},dhtmlXTreeObject.prototype.setOnOpenEndHandler=function(a){this.attachEvent("onOpenEnd",a)},dhtmlXTreeObject.prototype.setOnDblClickHandler=function(a){this.attachEvent("onDblClick",a)},dhtmlXTreeObject.prototype.openAllItems=function(a){var b=this._globalIdStorageFind(a);return b?void this._xopenAll(b):0},dhtmlXTreeObject.prototype.getOpenState=function(a){var b=this._globalIdStorageFind(a);return b?this._getOpenState(b):""},dhtmlXTreeObject.prototype.closeAllItems=function(a){a===window.undefined&&(a=this.rootId);var b=this._globalIdStorageFind(a);return b?(this._xcloseAll(b),this.allTree.childNodes[0].border="1",void(this.allTree.childNodes[0].border="0")):0},dhtmlXTreeObject.prototype.setUserData=function(a,b,c){var d=this._globalIdStorageFind(a,0,!0);d&&("hint"==b&&(d.htmlNode.childNodes[0].childNodes[0].title=c),"undefined"==typeof d.userData["t_"+b]&&(d._userdatalist?d._userdatalist+=","+b:d._userdatalist=b),d.userData["t_"+b]=c)},dhtmlXTreeObject.prototype.getUserData=function(a,b){var c=this._globalIdStorageFind(a,0,!0);if(c)return c.userData["t_"+b]},dhtmlXTreeObject.prototype.getItemColor=function(a){var b=this._globalIdStorageFind(a);if(!b)return 0;var c=new Object;return b.acolor&&(c.acolor=b.acolor),b.scolor&&(c.scolor=b.scolor),c},dhtmlXTreeObject.prototype.setItemColor=function(a,b,c){if(a&&a.span)var d=a;else var d=this._globalIdStorageFind(a);return d?(d.i_sel?c&&(d.span.style.color=c):b&&(d.span.style.color=b),c&&(d.scolor=c),b&&(d.acolor=b),void 0):0},dhtmlXTreeObject.prototype.getItemText=function(a){var b=this._globalIdStorageFind(a);return b?b.htmlNode.childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML:0},dhtmlXTreeObject.prototype.getParentId=function(a){var b=this._globalIdStorageFind(a);return b&&b.parentObject?b.parentObject.id:""},dhtmlXTreeObject.prototype.changeItemId=function(a,b){if(a!=b){var c=this._globalIdStorageFind(a);if(!c)return 0;c.id=b,c.span.contextMenuId=b,this._idpull[b]=this._idpull[a],delete this._idpull[a]}},dhtmlXTreeObject.prototype.doCut=function(){this.nodeCut&&this.clearCut(),this.nodeCut=(new Array).concat(this._selected);for(var a=0;a<this.nodeCut.length;a++){var b=this.nodeCut[a];b._cimgs=new Array,b._cimgs[0]=b.images[0],b._cimgs[1]=b.images[1],b._cimgs[2]=b.images[2],b.images[0]=b.images[1]=b.images[2]=this.cutImage,this._correctPlus(b)}},dhtmlXTreeObject.prototype.doPaste=function(a){var b=this._globalIdStorageFind(a);if(!b)return 0;for(var c=0;c<this.nodeCut.length;c++)this._checkPNodes(b,this.nodeCut[c])||this._moveNode(this.nodeCut[c],b);this.clearCut()},dhtmlXTreeObject.prototype.clearCut=function(){for(var a=0;a<this.nodeCut.length;a++){var b=this.nodeCut[a];b.images[0]=b._cimgs[0],b.images[1]=b._cimgs[1],b.images[2]=b._cimgs[2],this._correctPlus(b)}this.nodeCut=new Array},dhtmlXTreeObject.prototype._moveNode=function(a,b){var c=this.dadmodec;if(1==c){var d=b;if(this.dadmodefix<0){for(;;){if(d=this._getPrevNode(d),-1==d){d=this.htmlNode;break}if(0==d.tr||""==d.tr.style.display||!d.parentObject)break}var e=d,f=b}else{d.tr&&d.tr.nextSibling&&d.tr.nextSibling.nodem&&this._getOpenState(d)<1?d=d.tr.nextSibling.nodem:(d=this._getNextNode(d),-1==d&&(d=this.htmlNode));var f=d,e=b}return this._getNodeLevel(e,0)>this._getNodeLevel(f,0)?this.dropLower?f.id!=this.rootId?this._moveNodeTo(a,f.parentObject,f):this._moveNodeTo(a,this.htmlNode,null):this._moveNodeTo(a,e.parentObject):this._moveNodeTo(a,f.parentObject,f)}return this._moveNodeTo(a,b)},dhtmlXTreeObject.prototype._fixNodesCollection=function(a,b){var c=0,d=a.childNodes,e=a.childsCount-1;if(b!=d[e]){for(var f=0;e>f;f++)d[f]==d[e]&&(d[f]=d[f+1],d[f+1]=d[e]);for(var f=0;e+1>f;f++)if(c){var g=d[f];d[f]=c,c=g}else d[f]==b&&(c=d[f],d[f]=d[e])}},dhtmlXTreeObject.prototype._recreateBranch=function(a,b,c,d){var e,f="";if(c){for(e=0;e<b.childsCount&&b.childNodes[e]!=c;e++);0!=e?c=b.childNodes[e-1]:(f="TOP",c="")}var g=this._onradh;this._onradh=null;var h=this._attachChildNode(b,a.id,a.label,0,a.images[0],a.images[1],a.images[2],f,0,c);if(h._userdatalist=a._userdatalist,h.userData=a.userData.clone(),a._attrs){h._attrs={};for(var i in a._attrs)h._attrs[i]=a._attrs[i]}h.XMLload=a.XMLload,g&&(this._onradh=g,this._onradh(h.id)),a.treeNod.dpcpy?a.treeNod._globalIdStorageFind(a.id):h.unParsed=a.unParsed,this._correctPlus(h);for(var e=0;e<a.childsCount;e++)this._recreateBranch(a.childNodes[e],h,0,1);return!d&&this.childCalc&&this._redrawFrom(this,b),h},dhtmlXTreeObject.prototype._moveNodeTo=function(a,b,c){if(a.treeNod._nonTrivialNode)return a.treeNod._nonTrivialNode(this,b,c,a);if(this._checkPNodes(b,a))return!1;if(b.mytype)var d=a.treeNod.lWin!=b.lWin;else var d=a.treeNod.lWin!=b.treeNod.lWin;if(!this.callEvent("onDrag",[a.id,b.id,c?c.id:null,a.treeNod,b.treeNod]))return!1;0==b.XMLload&&this.XMLsource&&(b.XMLload=1,this._loadDynXML(b.id)),this.openItem(b.id);var e=a.treeNod,f=a.parentObject.childsCount,g=a.parentObject;if(d||e.dpcpy){var h=a.id;a=this._recreateBranch(a,b,c),e.dpcpy||e.deleteItem(h)}else{var i=b.childsCount,j=b.childNodes;0==i&&(b._open=!0),e._unselectItem(a),j[i]=a,a.treeNod=b.treeNod,b.childsCount++;var k=this._drawNewTr(j[i].htmlNode);c?(b.htmlNode.childNodes[0].insertBefore(k,c.tr),this._fixNodesCollection(b,c),j=b.childNodes):(b.htmlNode.childNodes[0].appendChild(k),1==this.dadmode&&this._fixNodesCollection(b,c))}if(!e.dpcpy&&!d){var l=a.tr;if(document.all&&-1!=navigator.appVersion.search(/MSIE\ 5\.0/gi)?window.setTimeout(function(){l.parentNode.removeChild(l)},250):a.parentObject.htmlNode.childNodes[0].removeChild(a.tr),c&&b==a.parentObject)g.childNodes[g.childsCount-1]=0;else for(var m=0;m<g.childsCount;m++)if(g.childNodes[m].id==a.id){g.childNodes[m]=0;break}e._compressChildList(g.childsCount,g.childNodes),g.childsCount--}if(!d&&!e.dpcpy){if(a.tr=k,k.nodem=a,a.parentObject=b,e!=b.treeNod){if(a.treeNod._registerBranch(a,e))return;this._clearStyles(a),this._redrawFrom(this,a.parentObject),this._onradh&&this._onradh(a.id)}this._correctPlus(b),this._correctLine(b),this._correctLine(a),this._correctPlus(a),c?this._correctPlus(c):b.childsCount>=2&&(this._correctPlus(j[b.childsCount-2]),this._correctLine(j[b.childsCount-2])),this._correctPlus(j[b.childsCount-1]),this.tscheck&&this._correctCheckStates(b),e.tscheck&&e._correctCheckStates(g)}return f>1&&(e._correctPlus(g.childNodes[f-2]),e._correctLine(g.childNodes[f-2])),e._correctPlus(g),e._correctLine(g),this._fixChildCountLabel(b),e._fixChildCountLabel(g),this.callEvent("onDrop",[a.id,b.id,c?c.id:null,e,b.treeNod]),a.id},dhtmlXTreeObject.prototype._clearStyles=function(a){if(a.htmlNode){var b=a.htmlNode.childNodes[0].childNodes[0].childNodes[1],c=b.nextSibling.nextSibling;a.span.innerHTML=a.label,a.i_sel=!1,a._aimgs&&this.dragger.removeDraggableItem(b.nextSibling),this.checkBoxOff?(b.childNodes[0].style.display="",b.childNodes[0].onclick=this.onCheckBoxClick,this._setSrc(b.childNodes[0],this.imPath+this.checkArray[a.checkstate])):b.style.display="none",b.childNodes[0].treeNod=this,this.dragger.removeDraggableItem(c),this.dragAndDropOff&&this.dragger.addDraggableItem(c,this),this._aimgs&&this.dragger.addDraggableItem(b.nextSibling,this),c.childNodes[0].className="standartTreeRow",c.onclick=this.onRowSelect,c.ondblclick=this.onRowClick2,b.previousSibling.onclick=this.onRowClick,this._correctLine(a),this._correctPlus(a);for(var d=0;d<a.childsCount;d++)this._clearStyles(a.childNodes[d])}},dhtmlXTreeObject.prototype._registerBranch=function(a,b){b&&b._globalIdStorageSub(a.id),a.id=this._globalIdStorageAdd(a.id,a),a.treeNod=this;for(var c=0;c<a.childsCount;c++)this._registerBranch(a.childNodes[c],b);return 0},dhtmlXTreeObject.prototype.enableThreeStateCheckboxes=function(a){this.tscheck=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.setOnMouseInHandler=function(a){this.ehlt=!0,this.attachEvent("onMouseIn",a)},dhtmlXTreeObject.prototype.setOnMouseOutHandler=function(a){this.ehlt=!0,this.attachEvent("onMouseOut",a)},dhtmlXTreeObject.prototype.enableMercyDrag=function(a){this.dpcpy=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.enableTreeImages=function(a){this.timgen=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.enableFixedMode=function(a){this.hfMode=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.enableCheckBoxes=function(a,b){this.checkBoxOff=convertStringToBoolean(a),this.cBROf=!(this.checkBoxOff||convertStringToBoolean(b))},dhtmlXTreeObject.prototype.setStdImages=function(a,b,c){this.imageArray[0]=a,this.imageArray[1]=b,this.imageArray[2]=c},dhtmlXTreeObject.prototype.enableTreeLines=function(a){this.treeLinesOn=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.setImageArrays=function(a,b,c,d,e,f){switch(a){case"plus":this.plusArray[0]=b,this.plusArray[1]=c,this.plusArray[2]=d,this.plusArray[3]=e,this.plusArray[4]=f;break;case"minus":this.minusArray[0]=b,this.minusArray[1]=c,this.minusArray[2]=d,this.minusArray[3]=e,this.minusArray[4]=f}},dhtmlXTreeObject.prototype.openItem=function(a){this.skipLock=!0;var b=this._globalIdStorageFind(a);return b?this._openItem(b):0},dhtmlXTreeObject.prototype._openItem=function(a){var b=this._getOpenState(a);if(0>b||this.XMLsource&&!a.XMLload){if(!this.callEvent("onOpenStart",[a.id,b]))return 0;this._HideShow(a,2),this.checkEvent("onOpenEnd")&&(this.onXLE==this._epnFHe&&this._epnFHe(this,a.id,!0),this.xmlstate&&this.XMLsource?(this._oie_onXLE.push(this.onXLE),this.onXLE=this._epnFHe):this.callEvent("onOpenEnd",[a.id,this._getOpenState(a)]))}else this._srnd&&this._HideShow(a,2);a.parentObject&&!this._skip_open_parent&&this._openItem(a.parentObject)},dhtmlXTreeObject.prototype.closeItem=function(a){if(this.rootId==a)return 0;this.skipLock=!0;var b=this._globalIdStorageFind(a);return b?(b.closeble&&this._HideShow(b,1),void(this.skipLock=!1)):0},dhtmlXTreeObject.prototype.getLevel=function(a){var b=this._globalIdStorageFind(a);return b?this._getNodeLevel(b,0):0},dhtmlXTreeObject.prototype.setItemCloseable=function(a,b){if(b=convertStringToBoolean(b),a&&a.span)var c=a;else var c=this._globalIdStorageFind(a);return c?void(c.closeble=b):0},dhtmlXTreeObject.prototype._getNodeLevel=function(a,b){return a.parentObject?this._getNodeLevel(a.parentObject,b+1):b},dhtmlXTreeObject.prototype.hasChildren=function(a){var b=this._globalIdStorageFind(a);return b?this.XMLsource&&!b.XMLload?!0:b.childsCount:0},dhtmlXTreeObject.prototype._getLeafCount=function(a){for(var b=0,c=0;c<a.childsCount;c++)0==a.childNodes[c].childsCount&&b++;return b},dhtmlXTreeObject.prototype.setItemText=function(a,b,c){var d=this._globalIdStorageFind(a);return d?(d.label=b,d.span.innerHTML=b,this.childCalc&&this._fixChildCountLabel(d),void(d.span.parentNode.parentNode.title=c||"")):0},dhtmlXTreeObject.prototype.getItemTooltip=function(a){var b=this._globalIdStorageFind(a);return b?b.span.parentNode.parentNode._dhx_title||b.span.parentNode.parentNode.title||"":""},dhtmlXTreeObject.prototype.refreshItem=function(a){a||(a=this.rootId);this._globalIdStorageFind(a);this.deleteChildItems(a),this._loadDynXML(a)},dhtmlXTreeObject.prototype.setItemImage2=function(a,b,c,d){var e=this._globalIdStorageFind(a);return e?(e.images[1]=c,e.images[2]=d,e.images[0]=b,void this._correctPlus(e)):0},dhtmlXTreeObject.prototype.setItemImage=function(a,b,c){var d=this._globalIdStorageFind(a);return d?(c?(d.images[1]=b,d.images[2]=c):d.images[0]=b,void this._correctPlus(d)):0},dhtmlXTreeObject.prototype.getSubItems=function(a){var b=this._globalIdStorageFind(a,0,1);if(!b)return 0;if(b.unParsed)return this._getSubItemsXML(b.unParsed);var c="";for(i=0;i<b.childsCount;i++)c?c+=this.dlmtr+b.childNodes[i].id:c=""+b.childNodes[i].id;return c},dhtmlXTreeObject.prototype._getAllScraggyItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||a.childNodes[c].childsCount>0){if(a.childNodes[c].unParsed)var d=this._getAllScraggyItemsXML(a.childNodes[c].unParsed,1);else var d=this._getAllScraggyItems(a.childNodes[c]);d&&(b?b+=this.dlmtr+d:b=d)}else b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id;return b},dhtmlXTreeObject.prototype._getAllFatItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||a.childNodes[c].childsCount>0){if(b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id,a.childNodes[c].unParsed)var d=this._getAllFatItemsXML(a.childNodes[c].unParsed,1);else var d=this._getAllFatItems(a.childNodes[c]);d&&(b+=this.dlmtr+d)}return b},dhtmlXTreeObject.prototype._getAllSubItems=function(a,b,c){if(c)d=c;else var d=this._globalIdStorageFind(a);if(!d)return 0;b="";for(var e=0;e<d.childsCount;e++){b?b+=this.dlmtr+d.childNodes[e].id:b=""+d.childNodes[e].id;var f=this._getAllSubItems(0,b,d.childNodes[e]);f&&(b+=this.dlmtr+f)}return d.unParsed&&(b=this._getAllSubItemsXML(a,b,d.unParsed)),b},dhtmlXTreeObject.prototype.selectItem=function(a,b,c){b=convertStringToBoolean(b);var d=this._globalIdStorageFind(a);if(!d||!d.parentObject)return 0;this.XMLloadingWarning?d.parentObject.openMe=1:this._openItem(d.parentObject);var e=null;c&&(e=new Object,e.ctrlKey=!0,d.i_sel&&(e.skipUnSel=!0)),b?this.onRowSelect(e,d.htmlNode.childNodes[0].childNodes[0].childNodes[3],!1):this.onRowSelect(e,d.htmlNode.childNodes[0].childNodes[0].childNodes[3],!0)},dhtmlXTreeObject.prototype.getSelectedItemText=function(){for(var a=new Array,b=0;b<this._selected.length;b++)a[b]=this._selected[b].span.innerHTML;return a.join(this.dlmtr)},dhtmlXTreeObject.prototype._compressChildList=function(a,b){a--;for(var c=0;a>c;c++)0==b[c]&&(b[c]=b[c+1],b[c+1]=0)},dhtmlXTreeObject.prototype._deleteNode=function(a,b,c){if(!b||!b.parentObject)return 0;var d=0,e=0;b.tr.nextSibling&&(d=b.tr.nextSibling.nodem),b.tr.previousSibling&&(e=b.tr.previousSibling.nodem);for(var f=b.parentObject,g=f.childsCount,h=f.childNodes,i=0;g>i;i++)if(h[i].id==a){c||f.htmlNode.childNodes[0].removeChild(h[i].tr),h[i]=0;break}this._compressChildList(g,h),c||f.childsCount--,d&&(this._correctPlus(d),this._correctLine(d)),e&&(this._correctPlus(e),this._correctLine(e)),this.tscheck&&this._correctCheckStates(f),c||this._globalIdStorageRecSub(b)},dhtmlXTreeObject.prototype.setCheck=function(a,b){var c=this._globalIdStorageFind(a,0,1);c&&("unsure"===b?this._setCheck(c,b):(b=convertStringToBoolean(b),this.tscheck&&this.smcheck?this._setSubChecked(b,c):this._setCheck(c,b)),this.smcheck&&this._correctCheckStates(c.parentObject))},dhtmlXTreeObject.prototype._setCheck=function(a,b){if(a){if((a.parentObject._r_logic||this._frbtr)&&b)if(this._frbtrs)this._frbtrL&&this.setCheck(this._frbtrL.id,0),this._frbtrL=a;else for(var c=0;c<a.parentObject.childsCount;c++)this._setCheck(a.parentObject.childNodes[c],0);var d=a.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];a.checkstate="unsure"==b?2:b?1:0,a.dscheck&&(a.checkstate=a.dscheck),this._setSrc(d,this.imPath+(a.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[a.checkstate])}},dhtmlXTreeObject.prototype.setSubChecked=function(a,b){var c=this._globalIdStorageFind(a);this._setSubChecked(b,c),this._correctCheckStates(c.parentObject)},dhtmlXTreeObject.prototype._setSubChecked=function(a,b){if(a=convertStringToBoolean(a),b){if((b.parentObject._r_logic||this._frbtr)&&a)for(var c=0;c<b.parentObject.childsCount;c++)this._setSubChecked(0,b.parentObject.childNodes[c]);if(b.unParsed&&this._setSubCheckedXML(a,b.unParsed),b._r_logic||this._frbtr)this._setSubChecked(a,b.childNodes[0]);else for(var c=0;c<b.childsCount;c++)this._setSubChecked(a,b.childNodes[c]);var d=b.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];b.checkstate=a?1:0,b.dscheck&&(b.checkstate=b.dscheck),this._setSrc(d,this.imPath+(b.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[b.checkstate])}},dhtmlXTreeObject.prototype.isItemChecked=function(a){var b=this._globalIdStorageFind(a);if(b)return b.checkstate},dhtmlXTreeObject.prototype.deleteChildItems=function(a){var b=this._globalIdStorageFind(a);if(b)for(var c=b.childsCount,d=0;c>d;d++)this._deleteNode(b.childNodes[0].id,b.childNodes[0])},dhtmlXTreeObject.prototype.deleteItem=function(a,b){if(!this._onrdlh||this._onrdlh(a)){var c=this._deleteItem(a,b);c&&this._fixChildCountLabel(c)}this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0"},dhtmlXTreeObject.prototype._deleteItem=function(a,b,c){b=convertStringToBoolean(b);var d=this._globalIdStorageFind(a);if(d){var e=this.getParentId(a),f=d.parentObject;return this._deleteNode(a,d,c),this._editCell&&this._editCell.id==a&&(this._editCell=null),this._correctPlus(f),this._correctLine(f),b&&e!=this.rootId&&this.selectItem(e,1),f}},dhtmlXTreeObject.prototype._globalIdStorageRecSub=function(a){for(var b=0;b<a.childsCount;b++)this._globalIdStorageRecSub(a.childNodes[b]),this._globalIdStorageSub(a.childNodes[b].id);this._globalIdStorageSub(a.id);var c=a;c.span=null,c.tr.nodem=null,c.tr=null,c.htmlNode=null},dhtmlXTreeObject.prototype.insertNewNext=function(a,b,c,d,e,f,g,h,i){var j=this._globalIdStorageFind(a);if(!j||!j.parentObject)return 0;var k=this._attachChildNode(0,b,c,d,e,f,g,h,i,j);return!this.XMLloadingWarning&&this.childCalc&&this._fixChildCountLabel(j.parentObject),k},dhtmlXTreeObject.prototype.getItemIdByIndex=function(a,b){var c=this._globalIdStorageFind(a);return!c||b>=c.childsCount?null:c.childNodes[b].id},dhtmlXTreeObject.prototype.getChildItemIdByIndex=function(a,b){var c=this._globalIdStorageFind(a);
return!c||b>=c.childsCount?null:c.childNodes[b].id},dhtmlXTreeObject.prototype.setDragHandler=function(a){this.attachEvent("onDrag",a)},dhtmlXTreeObject.prototype._clearMove=function(){this._lastMark&&(this._lastMark.className=this._lastMark.className.replace(/dragAndDropRow/g,""),this._lastMark=null),this.selectionBar.style.display="none",this.allTree.className=this.allTree.className.replace(" selectionBox","")},dhtmlXTreeObject.prototype.enableDragAndDrop=function(a,b){"temporary_disabled"==a?(this.dADTempOff=!1,a=!0):this.dADTempOff=!0,this.dragAndDropOff=convertStringToBoolean(a),this.dragAndDropOff&&this.dragger.addDragLanding(this.allTree,this),arguments.length>1&&(this._ddronr=!convertStringToBoolean(b))},dhtmlXTreeObject.prototype._setMove=function(a,b,c){if(a.parentObject.span){var d=getAbsoluteTop(a),e=getAbsoluteTop(this.allTree)-this.allTree.scrollTop;if(this.dadmodec=this.dadmode,this.dadmodefix=0,2==this.dadmode){var f=c-d+(document.body.scrollTop||document.documentElement.scrollTop)-2-a.offsetHeight/2;Math.abs(f)-a.offsetHeight/6>0?(this.dadmodec=1,0>f&&(this.dadmodefix=0-a.offsetHeight)):this.dadmodec=0}if(0==this.dadmodec){var g=a.parentObject.span;g.className+=" dragAndDropRow",this._lastMark=g}else this._clearMove(),this.selectionBar.style.top=d-e+((parseInt(a.parentObject.span.parentNode.previousSibling.childNodes[0].style.height)||18)-1)+this.dadmodefix+"px",this.selectionBar.style.left="5px",this.allTree.offsetWidth>20&&(this.selectionBar.style.width=this.allTree.offsetWidth-(_isFF?30:25)+"px"),this.selectionBar.style.display="";this._autoScroll(null,d,e)}},dhtmlXTreeObject.prototype._autoScroll=function(a,b,c){this.autoScroll&&(a&&(b=getAbsoluteTop(a),c=getAbsoluteTop(this.allTree)-this.allTree.scrollTop),b-c-parseInt(this.allTree.scrollTop)>parseInt(this.allTree.offsetHeight)-50&&(this.allTree.scrollTop=parseInt(this.allTree.scrollTop)+20),b-c<parseInt(this.allTree.scrollTop)+30&&(this.allTree.scrollTop=parseInt(this.allTree.scrollTop)-20))},dhtmlXTreeObject.prototype._createDragNode=function(a,b){if(!this.dADTempOff)return null;var c=a.parentObject;if(!this.callEvent("onBeforeDrag",[c.id,b]))return null;c.i_sel||this._selectItem(c,b),this._checkMSelectionLogic();var d=document.createElement("div"),e=new Array;if(this._itim_dg)for(var f=0;f<this._selected.length;f++)e[f]="<table cellspacing='0' cellpadding='0'><tr><td><img width='18px' height='18px' src='"+this._getSrc(this._selected[f].span.parentNode.previousSibling.childNodes[0])+"'></td><td>"+this._selected[f].span.innerHTML+"</td></tr></table>";else e=this.getSelectedItemText().split(this.dlmtr);return d.innerHTML=e.join(""),d.style.position="absolute",d.className="dragSpanDiv",this._dragged=(new Array).concat(this._selected),d},dhtmlXTreeObject.prototype._focusNode=function(a){var b=getAbsoluteTop(a.htmlNode)-getAbsoluteTop(this.allTree);(b>this.allTree.offsetHeight-30||0>b)&&(this.allTree.scrollTop=b+this.allTree.scrollTop)},dhtmlXTreeObject.prototype._preventNsDrag=function(a){return a&&a.preventDefault?(a.preventDefault(),!1):!1},dhtmlXTreeObject.prototype._drag=function(a,b,c){this._autoOpenTimer&&clearTimeout(this._autoOpenTimer),c.parentObject||(c=this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.dadmodec=0),this._clearMove();var d=a.parentObject.treeNod;if(d&&d._clearMove&&d._clearMove(""),!this.dragMove||this.dragMove()){if(d&&d._clearMove&&d._dragged)var e=d._dragged;else var e=new Array(a.parentObject);for(var f=c.parentObject,g=0;g<e.length;g++){var h=this._moveNode(e[g],f);this.dadmodec&&h!==!1&&(f=this._globalIdStorageFind(h,!0,!0)),h&&!this._sADnD&&this.selectItem(h,0,1)}}d&&(d._dragged=new Array)},dhtmlXTreeObject.prototype._dragIn=function(a,b,c,d){if(!this.dADTempOff)return 0;var e=b.parentObject,f=a.parentObject;if(f||!this._ddronr){if(!this.callEvent("onDragIn",[e.id,f?f.id:null,e.treeNod,this]))return f&&this._autoScroll(a),0;if(f){if(null==e.childNodes)return this._setMove(a,c,d),a;for(var g=e.treeNod,h=0;h<g._dragged.length;h++)if(this._checkPNodes(f,g._dragged[h]))return this._autoScroll(a),0;this.selectionBar.parentNode.removeChild(this.selectionBar),f.span.parentNode.appendChild(this.selectionBar),this._setMove(a,c,d),this._getOpenState(f)<=0&&(this._autoOpenId=f.id,this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1e3))}else this.allTree.className+=" selectionBox";return a}},dhtmlXTreeObject.prototype._autoOpenItem=function(a,b){b.openItem(b._autoOpenId)},dhtmlXTreeObject.prototype._dragOut=function(){this._clearMove(),this._autoOpenTimer&&clearTimeout(this._autoOpenTimer)},dhtmlXTreeObject.prototype._getNextNode=function(a,b){return!b&&a.childsCount?a.childNodes[0]:a==this.htmlNode?-1:a.tr&&a.tr.nextSibling&&a.tr.nextSibling.nodem?a.tr.nextSibling.nodem:this._getNextNode(a.parentObject,!0)},dhtmlXTreeObject.prototype._lastChild=function(a){return a.childsCount?this._lastChild(a.childNodes[a.childsCount-1]):a},dhtmlXTreeObject.prototype._getPrevNode=function(a){return a.tr&&a.tr.previousSibling&&a.tr.previousSibling.nodem?this._lastChild(a.tr.previousSibling.nodem):a.parentObject?a.parentObject:-1},dhtmlXTreeObject.prototype.findItem=function(a,b,c){var d=this._findNodeByLabel(a,b,c?this.htmlNode:null);return d?(this.selectItem(d.id,!0),this._focusNode(d),d.id):null},dhtmlXTreeObject.prototype.findItemIdByLabel=function(a,b,c){var d=this._findNodeByLabel(a,b,c?this.htmlNode:null);return d?d.id:null},dhtmlXTreeObject.prototype.findStrInXML=function(a,b,c){if(!a.childNodes&&a.item)return this.findStrInJSON(a,b,c);if(!a.childNodes)return!1;for(var d=0;d<a.childNodes.length;d++)if(1==a.childNodes[d].nodeType){var e=a.childNodes[d].getAttribute(b);if(e||"itemtext"!=a.childNodes[d].tagName||(e=a.childNodes[d].firstChild.data),e&&-1!=e.toLowerCase().search(c))return!0;if(this.findStrInXML(a.childNodes[d],b,c))return!0}return!1},dhtmlXTreeObject.prototype.findStrInJSON=function(a,b,c){for(var d=0;d<a.item.length;d++){var e=a.item[d].text;if(e&&-1!=e.toLowerCase().search(c))return!0;if(a.item[d].item&&this.findStrInJSON(a.item[d],b,c))return!0}return!1},dhtmlXTreeObject.prototype._findNodeByLabel=function(a,b,c){var a=a.replace(new RegExp("^( )+"),"").replace(new RegExp("( )+$"),"");a=new RegExp(a.replace(/([\^\.\?\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi"),c||(c=this._selected[0],c||(c=this.htmlNode));var d=c;if(b){var e=this._getPrevNode(d);-1==e&&(e=this._lastChild(this.htmlNode)),e.unParsed&&this.findStrInXML(e.unParsed.d,"text",a)?(this.reParse(e),c=this._getPrevNode(d)):c=e,-1==c&&(c=this._lastChild(this.htmlNode))}else c.unParsed&&this.findStrInXML(c.unParsed.d,"text",a)&&this.reParse(c),c=this._getNextNode(d),-1==c&&(c=this.htmlNode.childNodes[0]);for(;c&&c!=d;){if(c.label&&-1!=c.label.search(a))return c;if(b){var e=this._getPrevNode(c);-1==e&&(e=this._lastChild(this.htmlNode)),e.unParsed&&this.findStrInXML(e.unParsed.d,"text",a)?(this.reParse(e),c=this._getPrevNode(c)):c=e,-1==c&&(c=this._lastChild(this.htmlNode))}else{if(-1==c){if(d==this.htmlNode)break;c=this.htmlNode.childNodes[0]}c.unParsed&&this.findStrInXML(c.unParsed.d,"text",a)&&this.reParse(c),c=this._getNextNode(c),-1==c&&(c=this.htmlNode)}}return null},dhtmlXTreeObject.prototype.moveItem=function(a,b,c,d){var e=this._globalIdStorageFind(a);if(!e)return 0;var f=null;switch(b){case"right":alert("Not supported yet");break;case"item_child":var g=(d||this)._globalIdStorageFind(c);if(!g)return 0;f=(d||this)._moveNodeTo(e,g,0);break;case"item_sibling":var g=(d||this)._globalIdStorageFind(c);if(!g)return 0;f=(d||this)._moveNodeTo(e,g.parentObject,g);break;case"item_sibling_next":var g=(d||this)._globalIdStorageFind(c);if(!g)return 0;f=g.tr&&g.tr.nextSibling&&g.tr.nextSibling.nodem?(d||this)._moveNodeTo(e,g.parentObject,g.tr.nextSibling.nodem):(d||this)._moveNodeTo(e,g.parentObject);break;case"left":e.parentObject.parentObject&&(f=this._moveNodeTo(e,e.parentObject.parentObject,e.parentObject));break;case"up":var h=this._getPrevNode(e);if(-1==h||!h.parentObject)return null;f=this._moveNodeTo(e,h.parentObject,h);break;case"up_strict":var h=this._getIndex(e);0!=h&&(f=this._moveNodeTo(e,e.parentObject,e.parentObject.childNodes[h-1]));break;case"down_strict":var h=this._getIndex(e),i=e.parentObject.childsCount-2;h==i?f=this._moveNodeTo(e,e.parentObject):i>h&&(f=this._moveNodeTo(e,e.parentObject,e.parentObject.childNodes[h+2]));break;case"down":var h=this._getNextNode(this._lastChild(e));if(-1==h||!h.parentObject)return;if(h.parentObject==e.parentObject)var h=this._getNextNode(h);if(-1==h)f=this._moveNodeTo(e,e.parentObject);else{if(-1==h||!h.parentObject)return;f=this._moveNodeTo(e,h.parentObject,h)}}return _isIE&&_isIE<8&&(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0"),f},dhtmlXTreeObject.prototype.setDragBehavior=function(a,b){switch(this._sADnD=!convertStringToBoolean(b),a){case"child":this.dadmode=0;break;case"sibling":this.dadmode=1;break;case"complex":this.dadmode=2}},dhtmlXTreeObject.prototype._loadDynXML=function(a,b){b=b||this.XMLsource;var c=(new Date).valueOf();this._ld_id=a,"function"==this.xmlalb?b&&b(this._escape(a)):this.loadXML("name"==this.xmlalb?b+this._escape(a):"xmlname"==this.xmlalb?b+this._escape(a)+".xml?uid="+c:b+getUrlSymbol(b)+"uid="+c+"&id="+this._escape(a))},dhtmlXTreeObject.prototype.enableMultiselection=function(a,b){this._amsel=convertStringToBoolean(a),this._amselS=convertStringToBoolean(b)},dhtmlXTreeObject.prototype._checkMSelectionLogic=function(){for(var a=new Array,b=0;b<this._selected.length;b++)for(var c=0;c<this._selected.length;c++)b!=c&&this._checkPNodes(this._selected[c],this._selected[b])&&(a[a.length]=this._selected[c]);for(var b=0;b<a.length;b++)this._unselectItem(a[b])},dhtmlXTreeObject.prototype._checkPNodes=function(a,b){return this._dcheckf?!1:b==a?1:a.parentObject?this._checkPNodes(a.parentObject,b):0},dhtmlXTreeObject.prototype.disableDropCheck=function(a){this._dcheckf=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.enableDistributedParsing=function(a,b,c){this._edsbps=convertStringToBoolean(a),this._edsbpsA=new Array,this._edsbpsC=b||10,this._edsbpsD=c||250},dhtmlXTreeObject.prototype.getDistributedParsingState=function(){return!(!this._edsbpsA||!this._edsbpsA.length)},dhtmlXTreeObject.prototype.getItemParsingState=function(a){var b=this._globalIdStorageFind(a,!0,!0);if(!b)return 0;if(this._edsbpsA)for(var c=0;c<this._edsbpsA.length;c++)if(this._edsbpsA[c][2]==a)return-1;return 1},dhtmlXTreeObject.prototype._distributedStart=function(a,b,c,d,e){this._edsbpsA||(this._edsbpsA=new Array),this._edsbpsA[this._edsbpsA.length]=[a,b,c,d,e]},dhtmlXTreeObject.prototype._distributedStep=function(a){var b=this;if(!this._edsbpsA||!this._edsbpsA.length)return void(b.XMLloadingWarning=0);var c=this._edsbpsA[0];this.parsedArray=new Array,this._parse(c[0],c[2],c[3],c[1]);var d=this._globalIdStorageFind(c[2]);this._redrawFrom(this,d,c[4],this._getOpenState(d));for(var e=this.setCheckList.split(this.dlmtr),f=0;f<e.length;f++)e[f]&&this.setCheck(e[f],1);this._edsbpsA=(new Array).concat(this._edsbpsA.slice(1)),this._edsbpsA.length||(window.setTimeout(function(){b.onXLE&&b.onXLE(b,a),b.callEvent("onXLE",[b,a])},1),b.xmlstate=0)},dhtmlXTreeObject.prototype.enableTextSigns=function(a){this._txtimg=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.preventIECaching=function(a){this.no_cashe=convertStringToBoolean(a),this.XMLLoader.rSeed=this.no_cashe},dhtmlXTreeObject.prototype.preventIECashing=dhtmlXTreeObject.prototype.preventIECaching,dhtmlXTreeObject.prototype.disableCheckbox=function(a,b){if("object"!=typeof a)var c=this._globalIdStorageFind(a,0,1);else var c=a;c&&(c.dscheck=convertStringToBoolean(b)?(c.checkstate||0)%3+3:c.checkstate>2?c.checkstate-3:c.checkstate,this._setCheck(c),c.dscheck<3&&(c.dscheck=!1))},dhtmlXTreeObject.prototype.smartRefreshBranch=function(a,b){this._branchUpdate=1,this.smartRefreshItem(a,b)},dhtmlXTreeObject.prototype.smartRefreshItem=function(a,b){for(var c=this._globalIdStorageFind(a),d=0;d<c.childsCount;d++)c.childNodes[d]._dmark=!0;this.waitUpdateXML=!0,b&&b.exists?this._parse(b,a):this._loadDynXML(a,b)},dhtmlXTreeObject.prototype.refreshItems=function(a,b){var c=a.toString().split(this.dlmtr);this.waitUpdateXML=new Array;for(var d=0;d<c.length;d++)this.waitUpdateXML[c[d]]=!0;this.loadXML((b||this.XMLsource)+getUrlSymbol(b||this.XMLsource)+"ids="+this._escape(a))},dhtmlXTreeObject.prototype.updateItem=function(a,b,c,d,e,f,g){var h=this._globalIdStorageFind(a);return h.userData=new cObject,b&&(h.label=b),h.images=new Array(c||this.imageArray[0],d||this.imageArray[1],e||this.imageArray[2]),this.setItemText(a,b),f&&this._setCheck(h,!0),"1"!=g||this.hasChildren(a)||(h.XMLload=0),this._correctPlus(h),h._dmark=!1,h},dhtmlXTreeObject.prototype.setDropHandler=function(a){this.attachEvent("onDrop",a)},dhtmlXTreeObject.prototype.setOnLoadingStart=function(a){this.attachEvent("onXLS",a)},dhtmlXTreeObject.prototype.setOnLoadingEnd=function(a){this.attachEvent("onXLE",a)},dhtmlXTreeObject.prototype.setXMLAutoLoadingBehaviour=function(a){this.xmlalb=a},dhtmlXTreeObject.prototype.enableSmartCheckboxes=function(a){this.smcheck=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.getXMLState=function(){return 1==this.xmlstate},dhtmlXTreeObject.prototype.setItemTopOffset=function(a,b){var c;c="object"!=typeof a?this._globalIdStorageFind(a):a;var d=c.span.parentNode.parentNode;c.span.style.paddingBottom="1px";for(var e=0;e<d.childNodes.length;e++){if(0!=e)_isIE?(d.childNodes[e].style.height="18px",d.childNodes[e].style.paddingTop=parseInt(b)+"px"):d.childNodes[e].style.height=18+parseInt(b)+"px";else{var f=d.childNodes[e].firstChild;"DIV"!=d.childNodes[e].firstChild.tagName&&(f=document.createElement("DIV"),d.childNodes[e].insertBefore(f,d.childNodes[e].firstChild)),f.style.height=parseInt(b)+"px",c.parentObject.id==this.rootId&&c.parentObject.childNodes[0]==c||!this.treeLinesOn||(f.style.backgroundImage="url("+this.imPath+this.lineArray[5]+")"),f.innerHTML="&nbsp;",f.style.overflow="hidden",0==parseInt(b)&&d.childNodes[e].removeChild(f)}_isIE||(d.childNodes[e].style.verticalAlign="bottom"),_isIE&&(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0")}},dhtmlXTreeObject.prototype.setIconSize=function(a,b,c){if(c){if(c&&c.span)var d=c;else var d=this._globalIdStorageFind(c);if(!d)return 0;var e=d.span.parentNode.previousSibling.childNodes[0];a&&(e.style.width=a,window._KHTMLrv&&(e.parentNode.style.width=a)),b&&(e.style.height=b,window._KHTMLrv&&(e.parentNode.style.height=b))}else this.def_img_x=a,this.def_img_y=b},dhtmlXTreeObject.prototype.getItemImage=function(a,b,c){var d=this._globalIdStorageFind(a);if(!d)return"";var e=d.images[b||0];return c&&(e=this.iconURL+e),e},dhtmlXTreeObject.prototype.enableRadioButtons=function(a,b){if(1==arguments.length)return this._frbtr=convertStringToBoolean(a),void(this.checkBoxOff=this.checkBoxOff||this._frbtr);var c=this._globalIdStorageFind(a);if(!c)return"";if(b=convertStringToBoolean(b),b&&!c._r_logic){c._r_logic=!0;for(var d=0;d<c.childsCount;d++)this._setCheck(c.childNodes[d],c.childNodes[d].checkstate)}if(!b&&c._r_logic){c._r_logic=!1;for(var d=0;d<c.childsCount;d++)this._setCheck(c.childNodes[d],c.childNodes[d].checkstate)}},dhtmlXTreeObject.prototype.enableSingleRadioMode=function(a){this._frbtrs=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.openOnItemAdded=function(a){this._hAdI=!convertStringToBoolean(a)},dhtmlXTreeObject.prototype.openOnItemAdding=function(a){this._hAdI=!convertStringToBoolean(a)},dhtmlXTreeObject.prototype.enableMultiLineItems=function(a){this.mlitems=a===!0?"100%":a},dhtmlXTreeObject.prototype.enableAutoTooltips=function(a){this.ettip=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.clearSelection=function(a){a?this._unselectItem(this._globalIdStorageFind(a)):this._unselectItems()},dhtmlXTreeObject.prototype.showItemSign=function(a,b){var c=this._globalIdStorageFind(a);if(!c)return 0;c.span.parentNode.previousSibling.previousSibling.previousSibling;convertStringToBoolean(b)?(c.closeble=!0,c.wsign=!1):(this._openItem(c),c.closeble=!1,c.wsign=!0),this._correctPlus(c)},dhtmlXTreeObject.prototype.showItemCheckbox=function(a,b){if(!a)for(var c in this._idpull)this.showItemCheckbox(this._idpull[c],b);if("object"!=typeof a&&(a=this._globalIdStorageFind(a,0,0)),!a)return 0;a.nocheckbox=!convertStringToBoolean(b);var d=a.span.parentNode.previousSibling.previousSibling.childNodes[0];d.parentNode.style.display=a.nocheckbox?"none":""},dhtmlXTreeObject.prototype.setListDelimeter=function(a){this.dlmtr=a},dhtmlXTreeObject.prototype.setEscapingMode=function(a){this.utfesc=a},dhtmlXTreeObject.prototype.enableHighlighting=function(a){this.ehlt=!0,this.ehlta=convertStringToBoolean(a)},dhtmlXTreeObject.prototype._itemMouseOut=function(){var a=this.childNodes[3].parentObject,b=a.treeNod;b.callEvent("onMouseOut",[a.id]),a.id==b._l_onMSI&&(b._l_onMSI=null),b.ehlta&&(a.span.className=a.span.className.replace("_lor",""))},dhtmlXTreeObject.prototype._itemMouseIn=function(){var a=this.childNodes[3].parentObject,b=a.treeNod;b._l_onMSI!=a.id&&b.callEvent("onMouseIn",[a.id]),b._l_onMSI=a.id,b.ehlta&&(a.span.className=a.span.className.replace("_lor",""),a.span.className=a.span.className.replace(/((standart|selected)TreeRow)/,"$1_lor"))},dhtmlXTreeObject.prototype.enableActiveImages=function(a){this._aimgs=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.focusItem=function(a){var b=this._globalIdStorageFind(a);return b?void this._focusNode(b):0},dhtmlXTreeObject.prototype.getAllSubItems=function(a){return this._getAllSubItems(a)},dhtmlXTreeObject.prototype.getAllChildless=function(){return this._getAllScraggyItems(this.htmlNode)},dhtmlXTreeObject.prototype.getAllLeafs=dhtmlXTreeObject.prototype.getAllChildless,dhtmlXTreeObject.prototype._getAllScraggyItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||a.childNodes[c].childsCount>0){if(a.childNodes[c].unParsed)var d=this._getAllScraggyItemsXML(a.childNodes[c].unParsed,1);else var d=this._getAllScraggyItems(a.childNodes[c]);d&&(b?b+=this.dlmtr+d:b=d)}else b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id;return b},dhtmlXTreeObject.prototype._getAllFatItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||a.childNodes[c].childsCount>0){if(b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id,a.childNodes[c].unParsed)var d=this._getAllFatItemsXML(a.childNodes[c].unParsed,1);else var d=this._getAllFatItems(a.childNodes[c]);d&&(b+=this.dlmtr+d)}return b},dhtmlXTreeObject.prototype.getAllItemsWithKids=function(){return this._getAllFatItems(this.htmlNode)},dhtmlXTreeObject.prototype.getAllFatItems=dhtmlXTreeObject.prototype.getAllItemsWithKids,dhtmlXTreeObject.prototype.getAllChecked=function(){return this._getAllChecked("","",1)},dhtmlXTreeObject.prototype.getAllUnchecked=function(a){return a&&(a=this._globalIdStorageFind(a)),this._getAllChecked(a,"",0)},dhtmlXTreeObject.prototype.getAllPartiallyChecked=function(){return this._getAllChecked("","",2)},dhtmlXTreeObject.prototype.getAllCheckedBranches=function(){var a=[this._getAllChecked("","",1)],b=this._getAllChecked("","",2);return b&&a.push(b),a.join(this.dlmtr)},dhtmlXTreeObject.prototype._getAllChecked=function(a,b,c){a||(a=this.htmlNode),a.checkstate==c&&(a.nocheckbox||(b?b+=this.dlmtr+a.id:b=""+a.id));for(var d=a.childsCount,e=0;d>e;e++)b=this._getAllChecked(a.childNodes[e],b,c);return a.unParsed&&(b=this._getAllCheckedXML(a.unParsed,b,c)),b?b:""},dhtmlXTreeObject.prototype.setItemStyle=function(a,b,c){var c=c||!1,d=this._globalIdStorageFind(a);return d?void(d.span.style.cssText?d.span.style.cssText=c?b:d.span.style.cssText+";"+b:d.span.setAttribute("style",d.span.getAttribute("style")+"; "+b)):0},dhtmlXTreeObject.prototype.enableImageDrag=function(a){this._itim_dg=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.setOnDragIn=function(a){this.attachEvent("onDragIn",a)},dhtmlXTreeObject.prototype.enableDragAndDropScrolling=function(a){this.autoScroll=convertStringToBoolean(a)},dhtmlXTreeObject.prototype.setSkin=function(a){var b=this.parentObject.className.replace(/dhxtree_[^ ]*/gi,"");this.parentObject.className=b+" dhxtree_"+a,("dhx_terrace"==a||"dhx_web"==a)&&this.enableTreeLines(!1)},function(){dhtmlx.extend_api("dhtmlXTreeObject",{_init:function(a){return[a.parent,a.width||"100%",a.height||"100%",a.root_id||0]},auto_save_selection:"enableAutoSavingSelected",auto_tooltip:"enableAutoTooltips",checkbox:"enableCheckBoxes",checkbox_3_state:"enableThreeStateCheckboxes",checkbox_smart:"enableSmartCheckboxes",context_menu:"enableContextMenu",distributed_parsing:"enableDistributedParsing",drag:"enableDragAndDrop",drag_copy:"enableMercyDrag",drag_image:"enableImageDrag",drag_scroll:"enableDragAndDropScrolling",editor:"enableItemEditor",hover:"enableHighlighting",images:"enableTreeImages",image_fix:"enableIEImageFix",image_path:"setImagePath",lines:"enableTreeLines",loading_item:"enableLoadingItem",multiline:"enableMultiLineItems",multiselect:"enableMultiselection",navigation:"enableKeyboardNavigation",radio:"enableRadioButtons",radio_single:"enableSingleRadioMode",rtl:"enableRTL",search:"enableKeySearch",smart_parsing:"enableSmartXMLParsing",smart_rendering:"enableSmartRendering",text_icons:"enableTextSigns",xml:"loadXML",skin:"setSkin"},{})}(),dhtmlXTreeObject.prototype._dp_init=function(a){a.attachEvent("insertCallback",function(a,b,c){var d=this._loader.doXPath(".//item",a),e=d[0].getAttribute("text");this.obj.insertNewItem(c,b,e,0,0,0,0,"CHILD")}),a.attachEvent("updateCallback",function(a,b,c){var d=this._loader.doXPath(".//item",a),e=d[0].getAttribute("text");this.obj.setItemText(b,e),this.obj.getParentId(b)!=c&&this.obj.moveItem(b,"item_child",c),this.setUpdated(b,!0,"updated")}),a.attachEvent("deleteCallback",function(a,b){this.obj.setUserData(b,this.action_param,"true_deleted"),this.obj.deleteItem(b,!1)}),a._methods=["setItemStyle","","changeItemId","deleteItem"],this.attachEvent("onEdit",function(b,c){return 3==b&&a.setUpdated(c,!0),!0}),this.attachEvent("onDrop",function(b,c,d,e,f){e==f&&a.setUpdated(b,!0)}),this._onrdlh=function(b){var c=a.getState(b);return"inserted"==c?(a.set_invalid(b,!1),a.setUpdated(b,!1),!0):"true_deleted"==c?(a.setUpdated(b,!1),!0):(a.setUpdated(b,!0,"deleted"),!1)},this._onradh=function(b){a.setUpdated(b,!0,"inserted")},a._getRowData=function(a){var b={},c=this.obj._globalIdStorageFind(a),d=c.parentObject,e=0;for(e=0;e<d.childsCount&&d.childNodes[e]!=c;e++);for(b.tr_id=c.id,b.tr_pid=d.id,b.tr_order=e,b.tr_text=c.span.innerHTML,d=(c._userdatalist||"").split(","),e=0;e<d.length;e++)b[d[e]]=c.userData["t_"+d[e]];return b}},jsonPointer.prototype={text:function(){var a=function(a){for(var c=[],d=0;d<a.length;d++)c.push("{"+b(a[d])+"}");return c.join(",")},b=function(c){var d=[];for(var e in c)d.push("object"==typeof c[e]?e.length?'"'+e+'":['+a(c[e])+"]":'"'+e+'":{'+b(c[e])+"}":'"'+e+'":"'+c[e]+'"');return d.join(",")};return"{"+b(this.d)+"}"},get:function(a){return this.d[a]},exists:function(){return!!this.d},content:function(){return this.d.content},each:function(a,b,c){var d=this.d[a],e=new jsonPointer;if(d)for(var f=0;f<d.length;f++)e.d=d[f],b.apply(c,[e,f])},get_all:function(){return this.d},sub:function(a){return new jsonPointer(this.d[a],this.d)},sub_exists:function(a){return!!this.d[a]},each_x:function(a,b,c,d,e){var f=this.d[a],g=new jsonPointer(0,this.d);if(f)for(e=e||0;e<f.length;e++)if(f[e][b]&&(g.d=f[e],-1==c.apply(d,[g,e])))return},up:function(){return new jsonPointer(this.dp,this.d)},set:function(a,b){this.d[a]=b},clone:function(){return new jsonPointer(this.d,this.dp)},through:function(a,b,c,d,e){var f=this.d[a];if(f.length)for(var g=0;g<f.length;g++){if(null!=f[g][b]&&""!=f[g][b]&&(!c||f[g][b]==c)){var h=new jsonPointer(f[g],this.d);d.apply(e,[h,g])}var i=this.d;this.d=f[g],this.sub_exists(a)&&this.through(a,b,c,d,e),this.d=i}}},dhtmlXTreeObject.prototype.loadJSArrayFile=function(file,afterCall){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]),this._ld_id=null,this.xmlstate=1;var that=this;this.XMLLoader=new dtmlXMLLoaderObject(function(){eval("var z="+arguments[4].xmlDoc.responseText),that.loadJSArray(z)},this,!0,this.no_cashe),afterCall&&(this.XMLLoader.waitCall=afterCall),this.XMLLoader.loadXML(file)},dhtmlXTreeObject.prototype.loadCSV=function(a,b){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]),this._ld_id=null,this.xmlstate=1;var c=this;this.XMLLoader=new dtmlXMLLoaderObject(function(){c.loadCSVString(arguments[4].xmlDoc.responseText)},this,!0,this.no_cashe),b&&(this.XMLLoader.waitCall=b),this.XMLLoader.loadXML(a)},dhtmlXTreeObject.prototype.loadJSArray=function(a,b){for(var c=[],d=0;d<a.length;d++)c[a[d][1]]||(c[a[d][1]]=[]),c[a[d][1]].push({id:a[d][0],text:a[d][2]});var e={id:this.rootId},f=function(a,b){if(c[a.id]){a.item=c[a.id];for(var d=0;d<a.item.length;d++)b(a.item[d],b)}};f(e,f),this.loadJSONObject(e,b)},dhtmlXTreeObject.prototype.loadCSVString=function(a,b){for(var c=[],d=a.split("\n"),e=0;e<d.length;e++){var f=d[e].split(",");c[f[1]]||(c[f[1]]=[]),c[f[1]].push({id:f[0],text:f[2]})}var g={id:this.rootId},h=function(a,b){if(c[a.id]){a.item=c[a.id];for(var d=0;d<a.item.length;d++)b(a.item[d],b)}};h(g,h),this.loadJSONObject(g,b)},dhtmlXTreeObject.prototype.loadJSONObject=function(a,b){this.parsCount||this.callEvent("onXLS",[this,null]),this.xmlstate=1;var c=new jsonPointer(a);this._parse(c),this._p=c,b&&b()},dhtmlXTreeObject.prototype.loadJSON=function(file,afterCall){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]),this._ld_id=null,this.xmlstate=1;var that=this;this.XMLLoader=new dtmlXMLLoaderObject(function(){try{eval("var t="+arguments[4].xmlDoc.responseText)}catch(e){return void dhtmlxError.throwError("LoadXML","Incorrect JSON",[arguments[4].xmlDoc,this])}var p=new jsonPointer(t);that._parse(p),that._p=p},this,!0,this.no_cashe),afterCall&&(this.XMLLoader.waitCall=afterCall),this.XMLLoader.loadXML(file)},dhtmlXTreeObject.prototype.serializeTreeToJSON=function(){for(var a=['{"id":"'+this.rootId+'", "item":['],b=[],c=0;c<this.htmlNode.childsCount;c++)b.push(this._serializeItemJSON(this.htmlNode.childNodes[c]));return a.push(b.join(",")),a.push("]}"),a.join("")},dhtmlXTreeObject.prototype._serializeItemJSON=function(a){var b=[];if(a.unParsed)return a.unParsed.text();if(this._selected.length)var c=this._selected[0].id;else c="";var d=a.span.innerHTML;if(d=d.replace(/\"/g,'\\"',d),b.push(this._xfullXML?'{ "id":"'+a.id+'", '+(1==this._getOpenState(a)?' "open":"1", ':"")+(c==a.id?' "select":"1",':"")+' "text":"'+d+'", "im0":"'+a.images[0]+'", "im1":"'+a.images[1]+'", "im2":"'+a.images[2]+'" '+(a.acolor?', "aCol":"'+a.acolor+'" ':"")+(a.scolor?', "sCol":"'+a.scolor+'" ':"")+(1==a.checkstate?', "checked":"1" ':2==a.checkstate?', "checked":"-1"':"")+(a.closeable?', "closeable":"1" ':"")+(this.XMLsource&&0==a.XMLload?', "child":"1" ':""):'{ "id":"'+a.id+'", '+(1==this._getOpenState(a)?' "open":"1", ':"")+(c==a.id?' "select":"1",':"")+' "text":"'+d+'"'+(this.XMLsource&&0==a.XMLload?', "child":"1" ':"")),this._xuserData&&a._userdatalist){b.push(', "userdata":[');for(var e=a._userdatalist.split(","),f=[],g=0;g<e.length;g++)f.push('{ "name":"'+e[g]+'" , "content":"'+a.userData["t_"+e[g]]+'" }');b.push(f.join(",")),b.push("]")}if(a.childsCount){b.push(', "item":[');for(var f=[],g=0;g<a.childsCount;g++)f.push(this._serializeItemJSON(a.childNodes[g]));b.push(f.join(",")),b.push("]\n")}return b.push("}\n"),b.join("")},dhtmlXToolbarObject.prototype.addSpacer=function(a){var b=this.idPrefix+a;if(null!=this._spacer){if(this._spacer.idd==a)return;if(this._spacer==this.objPull[b].obj.parentNode){for(var c=!0;c;){var d=this._spacer.childNodes[0].idd;this.base.appendChild(this._spacer.childNodes[0]),(d==a||0==this._spacer.childNodes.length)&&(null!=this.objPull[b].arw&&this.base.appendChild(this.objPull[b].arw),c=!1)}return this._spacer.idd=a,void this._fixSpacer()}if(this.base==this.objPull[b].obj.parentNode){for(var c=!0,e=null!=this.objPull[b].arw;c;){var f=this.base.childNodes.length-1;1==e&&this.base.childNodes[f]==this.objPull[b].arw&&(c=!1),this.base.childNodes[f].idd==a&&(c=!1),c&&(this._spacer.childNodes.length>0?this._spacer.insertBefore(this.base.childNodes[f],this._spacer.childNodes[0]):this._spacer.appendChild(this.base.childNodes[f]))}return this._spacer.idd=a,void this._fixSpacer()}}else{for(var g=null,f=0;f<this.base.childNodes.length;f++)this.base.childNodes[f]==this.objPull[this.idPrefix+a].obj&&(g=f,null!=this.objPull[this.idPrefix+a].arw&&(g=f+1));if(null!=g){for(this._spacer=document.createElement("DIV"),this._spacer.className="right"==this.conf.align?" dhxtoolbar_float_left":" dhxtoolbar_float_right",this._spacer.dir="ltr",this._spacer.idd=a;this.base.childNodes.length>g+1;)this._spacer.appendChild(this.base.childNodes[g+1]);this.cont.appendChild(this._spacer),this._fixSpacer()}}"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype.removeSpacer=function(){if(this._spacer){for(;this._spacer.childNodes.length>0;)this.base.appendChild(this._spacer.childNodes[0]);this._spacer.parentNode.removeChild(this._spacer),this._spacer=null,"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin()}},dhtmlXToolbarObject.prototype._fixSpacer=function(){if("undefined"==typeof window.addEventListener&&null!=this._spacer){this._spacer.style.borderLeft="1px solid #a4bed4";var a=this._spacer;window.setTimeout(function(){a.style.borderLeft="0px solid #a4bed4",a=null},1)}},dhtmlXToolbarObject.prototype.getType=function(a){var b=this.getParentId(a);if(null!=b){var c=null,d=this.objPull[this.idPrefix+b]._listOptions[a];return null!=d&&(c=null!=d.sep?"buttonSelectSeparator":"buttonSelectButton"),c}return null==this.objPull[this.idPrefix+a]?null:this.objPull[this.idPrefix+a].type},dhtmlXToolbarObject.prototype.getTypeExt=function(a){var b=this.getType(a);return"buttonSelectButton"==b||"buttonSelectSeparator"==b?b="buttonSelectButton"==b?"button":"separator":null},dhtmlXToolbarObject.prototype.inArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},dhtmlXToolbarObject.prototype.getParentId=function(a){var b=null;for(var c in this.objPull)if(this.objPull[c]._listOptions)for(var d in this.objPull[c]._listOptions)d==a&&(b=String(c).replace(this.idPrefix,""));return b},dhtmlXToolbarObject.prototype._addItem=function(a,b){this._addItemToStorage(a,b),"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype.addButton=function(a,b,c,d,e){this._addItem({id:a,type:"button",text:c,img:d,imgdis:e},b)},dhtmlXToolbarObject.prototype.addText=function(a,b,c){this._addItem({id:a,type:"text",text:c},b)},dhtmlXToolbarObject.prototype.addButtonSelect=function(a,b,c,d,e,f,g,h,i,j){for(var k=[],l=0;l<d.length;l++){var m={};d[l]instanceof Array?(m.id=d[l][0],m.type="obj"==d[l][1]?"button":"separator",m.text=d[l][2]||null,m.img=d[l][3]||null):d[l]instanceof Object&&null!=d[l]&&"undefined"!=typeof d[l].id&&"undefined"!=typeof d[l].type&&(m.id=d[l].id,m.type="obj"==d[l].type?"button":"separator",m.text=d[l].text,m.img=d[l].img),k.push(m)}this._addItem({id:a,type:"buttonSelect",text:c,img:e,imgdis:f,renderSelect:g,openAll:h,options:k,maxOpen:i,mode:j},b)},dhtmlXToolbarObject.prototype.addButtonTwoState=function(a,b,c,d,e){this._addItem({id:a,type:"buttonTwoState",img:d,imgdis:e,text:c},b)},dhtmlXToolbarObject.prototype.addSeparator=function(a,b){this._addItem({id:a,type:"separator"},b)},dhtmlXToolbarObject.prototype.addSlider=function(a,b,c,d,e,f,g,h,i){this._addItem({id:a,type:"slider",length:c,valueMin:d,valueMax:e,valueNow:f,textMin:g,textMax:h,toolTip:i},b)},dhtmlXToolbarObject.prototype.addInput=function(a,b,c,d){this._addItem({id:a,type:"buttonInput",value:c,width:d},b)},dhtmlXToolbarObject.prototype.forEachItem=function(a){for(var b in this.objPull)this.inArray(this.rootTypes,this.objPull[b].type)&&a(this.objPull[b].id.replace(this.idPrefix,""))
},function(){for(var a="isVisible,enableItem,disableItem,isEnabled,setItemText,getItemText,setItemToolTip,getItemToolTip,getInput,setItemImage,setItemImageDis,clearItemImage,clearItemImageDis,setItemState,getItemState,setItemToolTipTemplate,getItemToolTipTemplate,setValue,getValue,setMinValue,getMinValue,setMaxValue,getMaxValue,setWidth,getWidth,setMaxOpen".split(","),b=[!1,"","",!1,"","","","","","","","","",!1,"","","",null,"",[null,null],"",[null,null],"",null],c=function(a,b){return function(c,d,e){return c=this.idPrefix+c,null!=this.objPull[c][a]?this.objPull[c][a].call(this.objPull[c],d,e):b}},d=0;d<a.length;d++){var e=a[d],f=b[d];dhtmlXToolbarObject.prototype[e]=c(e,f)}}(),dhtmlXToolbarObject.prototype.showItem=function(a){a=this.idPrefix+a,null!=this.objPull[a]&&null!=this.objPull[a].showItem&&(this.objPull[a].showItem(),"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin())},dhtmlXToolbarObject.prototype.hideItem=function(a){a=this.idPrefix+a,null!=this.objPull[a]&&null!=this.objPull[a].hideItem&&(this.objPull[a].hideItem(),"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin())},dhtmlXToolbarObject.prototype.getPosition=function(a){return this._getPosition(a)},dhtmlXToolbarObject.prototype._getPosition=function(a){if(null==this.objPull[this.idPrefix+a])return null;for(var b=null,c=0,d=0;d<this.base.childNodes.length;d++)null!=this.base.childNodes[d].idd&&(this.base.childNodes[d].idd==a&&(b=c),c++);if(!b&&null!=this._spacer)for(var d=0;d<this._spacer.childNodes.length;d++)null!=this._spacer.childNodes[d].idd&&(this._spacer.childNodes[d].idd==a&&(b=c),c++);return b},dhtmlXToolbarObject.prototype.setPosition=function(a,b){this._setPosition(a,b)},dhtmlXToolbarObject.prototype._setPosition=function(a,b){if(null!=this.objPull[this.idPrefix+a]){isNaN(b)&&(b=this.base.childNodes.length),0>b&&(b=0);var c=null;this._spacer&&(c=this._spacer.idd,this.removeSpacer());var d=this.objPull[this.idPrefix+a];this.base.removeChild(d.obj),d.arw&&this.base.removeChild(d.arw);var e=this._getIdByPosition(b,!0);null==e[0]?(this.base.appendChild(d.obj),d.arw&&this.base.appendChild(d.arw)):(this.base.insertBefore(d.obj,this.base.childNodes[e[1]]),d.arw&&this.base.insertBefore(d.arw,this.base.childNodes[e[1]+1])),null!=c&&this.addSpacer(c)}},dhtmlXToolbarObject.prototype._getIdByPosition=function(a,b){for(var c=null,d=0,e=0,f=0;f<this.base.childNodes.length;f++)null!=this.base.childNodes[f].idd&&null==c&&d++==a&&(c=this.base.childNodes[f].idd),null==c&&e++;return e=null==c?null:e,1==b?new Array(c,e):c},dhtmlXToolbarObject.prototype.removeItem=function(a){this._removeItem(a),"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype._removeItem=function(a){var b=this.getType(a);a=this.idPrefix+a;var c=this.objPull[a];if("button"==b&&(c.obj._doOnMouseOver=null,c.obj._doOnMouseOut=null,c.obj._doOnMouseUp=null,c.obj._doOnMouseUpOnceAnywhere=null,c.obj.onclick=null,c.obj.onmouseover=null,c.obj.onmouseout=null,c.obj.onmouseup=null,c.obj.onmousedown=null,c.obj.onselectstart=null,c.obj.renderAs=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.state=null,c.img=null,c.imgEn=null,c.imgDis=null,c.type=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setItemText=null,c.getItemText=null,c.setItemImage=null,c.clearItemImage=null,c.setItemImageDis=null,c.clearItemImageDis=null,c.setItemToolTip=null,c.getItemToolTip=null),"buttonTwoState"==b&&(c.obj._doOnMouseOver=null,c.obj._doOnMouseOut=null,c.obj.onmouseover=null,c.obj.onmouseout=null,c.obj.onmousedown=null,c.obj.onselectstart=null,c.obj.renderAs=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.state=null,c.img=null,c.imgEn=null,c.imgDis=null,c.type=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setItemText=null,c.getItemText=null,c.setItemImage=null,c.clearItemImage=null,c.setItemImageDis=null,c.clearItemImageDis=null,c.setItemToolTip=null,c.getItemToolTip=null,c.setItemState=null,c.getItemState=null),"buttonSelect"==b){for(var d in c._listOptions)this.removeListOption(a,d);c._listOptions=null,c.polygon._ie6cover&&(document.body.removeChild(c.polygon._ie6cover),c.polygon._ie6cover=null),c.p_tbl.removeChild(c.p_tbody),c.polygon.removeChild(c.p_tbl),c.polygon.onselectstart=null,document.body.removeChild(c.polygon),c.p_tbody=null,c.p_tbl=null,c.polygon=null,c.obj.onclick=null,c.obj.onmouseover=null,c.obj.onmouseout=null,c.obj.onmouseup=null,c.obj.onmousedown=null,c.obj.onselectstart=null,c.obj.idd=null,c.obj.iddPrefix=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.arw.onclick=null,c.arw.onmouseover=null,c.arw.onmouseout=null,c.arw.onmouseup=null,c.arw.onmousedown=null,c.arw.onselectstart=null,c.arw.parentNode.removeChild(c.arw),c.arw=null,c.renderSelect=null,c.state=null,c.type=null,c.id=null,c.img=null,c.imgEn=null,c.imgDis=null,c.openAll=null,c._isListButton=null,c._separatorButtonSelectObject=null,c._buttonButtonSelectObject=null,c.setWidth=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setItemText=null,c.getItemText=null,c.setItemImage=null,c.clearItemImage=null,c.setItemImageDis=null,c.clearItemImageDis=null,c.setItemToolTip=null,c.getItemToolTip=null,c.addListOption=null,c.removeListOption=null,c.showListOption=null,c.hideListOption=null,c.isListOptionVisible=null,c.enableListOption=null,c.disableListOption=null,c.isListOptionEnabled=null,c.setListOptionPosition=null,c.getListOptionPosition=null,c.setListOptionImage=null,c.getListOptionImage=null,c.clearListOptionImage=null,c.setListOptionText=null,c.getListOptionText=null,c.setListOptionToolTip=null,c.getListOptionToolTip=null,c.forEachListOption=null,c.getAllListOptions=null,c.setListOptionSelected=null,c.getListOptionSelected=null}if("buttonInput"==b&&(c.obj.childNodes[0].onkeydown=null,c.obj.removeChild(c.obj.childNodes[0]),c.obj.w=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.type=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setItemToolTip=null,c.getItemToolTip=null,c.setWidth=null,c.getWidth=null,c.setValue=null,c.getValue=null,c.setItemText=null,c.getItemText=null),"slider"==b){for(window.dhx4.isIPad?(document.removeEventListener("touchmove",pen._doOnMouseMoveStart,!1),document.removeEventListener("touchend",pen._doOnMouseMoveEnd,!1)):"function"==typeof window.addEventListener?(window.removeEventListener("mousemove",c.pen._doOnMouseMoveStart,!1),window.removeEventListener("mouseup",c.pen._doOnMouseMoveEnd,!1)):(document.body.detachEvent("onmousemove",c.pen._doOnMouseMoveStart),document.body.detachEvent("onmouseup",c.pen._doOnMouseMoveEnd)),c.pen.allowMove=null,c.pen.initXY=null,c.pen.maxX=null,c.pen.minX=null,c.pen.nowX=null,c.pen.newNowX=null,c.pen.valueMax=null,c.pen.valueMin=null,c.pen.valueNow=null,c.pen._definePos=null,c.pen._detectLimits=null,c.pen._doOnMouseMoveStart=null,c.pen._doOnMouseMoveEnd=null,c.pen.onmousedown=null,c.obj.removeChild(c.pen),c.pen=null,c.label.tip=null,document.body.removeChild(c.label),c.label=null,c.obj.onselectstart=null,c.obj.idd=null;c.obj.childNodes.length>0;)c.obj.removeChild(c.obj.childNodes[0]);c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.type=null,c.state=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.setItemToolTipTemplate=null,c.getItemToolTipTemplate=null,c.setMaxValue=null,c.setMinValue=null,c.getMaxValue=null,c.getMinValue=null,c.setValue=null,c.getValue=null,c.showItem=null,c.hideItem=null,c.isVisible=null}"separator"==b&&(c.obj.onselectstart=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.type=null,c.showItem=null,c.hideItem=null,c.isVisible=null),"text"==b&&(c.obj.onselectstart=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.type=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setWidth=null,c.setItemText=null,c.getItemText=null),b=null,c=null,this.objPull[this.idPrefix+a]=null,delete this.objPull[this.idPrefix+a]},function(){for(var a="addListOption,removeListOption,showListOption,hideListOption,isListOptionVisible,enableListOption,disableListOption,isListOptionEnabled,setListOptionPosition,getListOptionPosition,setListOptionText,getListOptionText,setListOptionToolTip,getListOptionToolTip,setListOptionImage,getListOptionImage,clearListOptionImage,forEachListOption,getAllListOptions,setListOptionSelected,getListOptionSelected".split(","),b=function(a){return function(b,c,d,e,f,g){return b=this.idPrefix+b,null!=this.objPull[b]&&"buttonSelect"==this.objPull[b].type?this.objPull[b][a].call(this.objPull[b],c,d,e,f,g):void 0}},c=0;c<a.length;c++){var d=a[c];dhtmlXToolbarObject.prototype[d]=b(d)}}(),dhtmlXToolbarObject.prototype._rtlParseBtn=function(a,b){return a+b},dhtmlXToolbarObject.prototype._separatorObject=function(a,b,c){return this.id=a.idPrefix+b,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_sep",this.obj.style.display=null!=c.hidden?"none":"",this.obj.idd=String(b),this.obj.title=c.title||"",this.obj.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},window.dhx4.isIPad&&(this.obj.ontouchstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,a.cancelBubble=!0,!1}),a.base.appendChild(this.obj),this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this},dhtmlXToolbarObject.prototype._textObject=function(a,b,c){return this.id=a.idPrefix+b,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_text",this.obj.style.display=null!=c.hidden?"none":"",this.obj.idd=String(b),this.obj.title=c.title||"",this.obj.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},window.dhx4.isIPad&&(this.obj.ontouchstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,a.cancelBubble=!0,!1}),this.obj.innerHTML=c.text||"",a.base.appendChild(this.obj),this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(a){this.obj.innerHTML=a},this.getItemText=function(){return this.obj.innerHTML},this.setWidth=function(a){this.obj.style.width=a+"px"},this.setItemToolTip=function(a){this.obj.title=a},this.getItemToolTip=function(){return this.obj.title},this},dhtmlXToolbarObject.prototype._buttonObject=function(a,b,c){this.id=a.idPrefix+b,this.state=null!=c.enabled?!1:!0,this.imgEn=c.img||"",this.imgDis=c.imgdis||"",this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"",this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_"+(this.state?"def":"dis"),this.obj.style.display=null!=c.hidden?"none":"",this.obj.allowClick=!1,this.obj.extAction=c.action||null,this.obj.renderAs=this.obj.className,this.obj.idd=String(b),this.obj.title=c.title||"",this.obj.pressed=!1,this.obj.innerHTML=a._rtlParseBtn(""!=this.img?"<img src='"+a.conf.icons_path+this.img+"'>":"",null!=c.text?"<div class='dhxtoolbar_text'>"+c.text+"</div>":"");var d=this;return this.obj.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},this.obj.onmouseover=function(){this._doOnMouseOver()},this.obj.onmouseout=function(){this._doOnMouseOut()},this.obj._doOnMouseOver=function(){this.allowClick=!0,0!=d.state&&"none"==a.anyUsed&&(this.className="dhx_toolbar_btn dhxtoolbar_btn_over",this.renderAs=this.className)},this.obj._doOnMouseOut=function(){this.allowClick=!1,0!=d.state&&"none"==a.anyUsed&&(this.className="dhx_toolbar_btn dhxtoolbar_btn_def",this.renderAs=this.renderAs)},this.obj.onclick=function(b){if(0!=d.state&&0!=this.allowClick){b=b||event;var c=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](c)}catch(b){}a&&a.callEvent&&a.callEvent("onClick",[c])}},this.obj[window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(b){if(0==d.state)return b=b||event,b.preventDefault?b.preventDefault():b.returnValue=!1,b.cancelBubble=!0,!1;if("none"==a.anyUsed)return a.anyUsed=this.idd,this.className="dhx_toolbar_btn dhxtoolbar_btn_pres",this.pressed=!0,this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){a.anyUsed="none",this._doOnMouseOut()},!1},this.obj[window.dhx4.isIPad?"ontouchend":"onmouseup"]=function(){if(0!=d.state&&("none"==a.anyUsed||a.anyUsed==this.idd)){var b=a.anyUsed;this._doOnMouseUp(),window.dhx4.isIPad&&"none"!=b&&a.callEvent("onClick",[this.idd.replace(a.idPrefix,"")])}},window.dhx4.isIPad&&(this.obj.ontouchmove=function(){this._doOnMouseUp()}),this.obj._doOnMouseUp=function(){a.anyUsed="none",this.className=this.renderAs,this.pressed=!1},this.obj._doOnMouseUpOnceAnywhere=function(){this._doOnMouseUp(),this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){this._doOnMouseOut()}},a.base.appendChild(this.obj),this.enableItem=function(){a._enableItem(this)},this.disableItem=function(){a._disableItem(this)},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(b){a._setItemText(this,b)},this.getItemText=function(){return a._getItemText(this)},this.setItemImage=function(b){a._setItemImage(this,b,!0)},this.clearItemImage=function(){a._clearItemImage(this,!0)},this.setItemImageDis=function(b){a._setItemImage(this,b,!1)},this.clearItemImageDis=function(){a._clearItemImage(this,!1)},this.setItemToolTip=function(a){this.obj.title=a},this.getItemToolTip=function(){return this.obj.title},this},dhtmlXToolbarObject.prototype._buttonSelectObject=function(a,b,c){this.id=a.idPrefix+b,this.state=null!=c.enabled?"true"==c.enabled?!0:!1:!0,this.imgEn=c.img||"",this.imgDis=c.imgdis||"",this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"",this.mode=c.mode||"button","select"==this.mode?(this.openAll=!0,this.renderSelect=!1,c.text&&0!=c.text.length||(c.text="&nbsp;")):(this.openAll=1==window.dhx4.s2b(c.openAll),this.renderSelect=null==c.renderSelect?!0:window.dhx4.s2b(c.renderSelect)),this.maxOpen=isNaN(c.maxOpen?c.maxOpen:"")?null:c.maxOpen,this._maxOpenTest=function(){if(!isNaN(this.maxOpen)&&!a._sbw){var b=document.createElement("DIV");b.className="dhxtoolbar_maxopen_test",document.body.appendChild(b);var c=document.createElement("DIV");c.className="dhxtoolbar_maxopen_test2",b.appendChild(c),a._sbw=b.offsetWidth-c.offsetWidth,b.removeChild(c),c=null,document.body.removeChild(b),b=null}},this._maxOpenTest(),this.obj=document.createElement("DIV"),this.obj.allowClick=!1,this.obj.extAction=c.action||null,this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_"+(this.state?"def":"dis"),this.obj.style.display=null!=c.hidden?"none":"",this.obj.renderAs=this.obj.className,this.obj.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},this.obj.idd=String(b),this.obj.title=c.title||"",this.obj.pressed=!1,this.callEvent=!1,this.obj.innerHTML=a._rtlParseBtn(""!=this.img?"<img src='"+a.conf.icons_path+this.img+"'>":"",null!=c.text?"<div class='dhxtoolbar_text'>"+c.text+"</div>":""),a.base.appendChild(this.obj),this.arw=document.createElement("DIV"),this.arw.className="dhx_toolbar_arw dhxtoolbar_btn_"+(this.state?"def":"dis"),this.arw.style.display=this.obj.style.display,this.arw.innerHTML="<div class='arwimg'>&nbsp;</div>",this.arw.title=this.obj.title,this.arw.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},a.base.appendChild(this.arw);var d=this;if(this.obj.onmouseover=function(b){b=b||event,"none"==a.anyUsed&&d.state&&(d.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_over",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"))},this.obj.onmouseout=function(){d.obj.allowClick=!1,"none"==a.anyUsed&&d.state&&(d.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_def",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),d.callEvent=!1)},this.arw.onmouseover=this.obj.onmouseover,this.arw.onmouseout=this.obj.onmouseout,1==this.openAll||(this.obj.onclick=function(b){if(b=b||event,d.obj.allowClick&&d.state&&"none"==a.anyUsed){var c=d.obj.idd.replace(a.idPrefix,"");if(d.obj.extAction)try{window[d.obj.extAction](c)}catch(b){}a.callEvent("onClick",[c])}},this.obj[window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(b){b=b||event,"none"==a.anyUsed&&d.state&&(d.obj.allowClick=!0,d.obj.className="dhx_toolbar_btn dhxtoolbar_btn_pres",d.arw.className="dhx_toolbar_arw dhxtoolbar_btn_pres",d.callEvent=!0)},this.obj[window.dhx4.isIPad?"ontouchend":"onmouseup"]=function(b){if(b=b||event,b.cancelBubble=!0,"none"==a.anyUsed&&d.state&&(d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),window.dhx4.isIPad&&d.callEvent)){var c=d.obj.idd.replace(a.idPrefix,"");a.callEvent("onClick",[c])}}),window.dhx4.isIPad&&(this.obj.ontouchmove=this.obj.onmouseout),this.arw[window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(b){b=b||event;var c=0===this.className.indexOf("dhx_toolbar_arw")?this:this.nextSibling;if(c._skip?(b=b||event,b.cancelBubble=!0):c._skip=!0,c=null,d.state){if(a.anyUsed==d.obj.idd)d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),a.anyUsed="none",window.dhx4.zim.clear(d.polygon._idd),d.polygon.style.display="none",d.polygon._ie6cover&&(d.polygon._ie6cover.style.display="none"),"dhx_terrace"==a.conf.skin&&a._improveTerraceButtonSelect(d.id,!0);else{if("none"!=a.anyUsed&&"buttonSelect"==a.objPull[a.idPrefix+a.anyUsed].type){var e=a.objPull[a.idPrefix+a.anyUsed];"none"!=e.polygon.style.display&&(e.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_def",e.obj.className=e.obj.renderAs,e.arw.className=String(d.obj.renderAs).replace("btn","arw"),window.dhx4.zim.clear(e.polygon._idd),e.polygon.style.display="none",e.polygon._ie6cover&&(e.polygon._ie6cover.style.display="none"),"dhx_terrace"==a.conf.skin&&a._improveTerraceButtonSelect(e.id,!0))}d.obj.className="dhx_toolbar_btn dhxtoolbar_btn_over",d.arw.className="dhx_toolbar_arw dhxtoolbar_btn_pres",a.anyUsed=d.obj.idd,d.polygon.style.top="0px",d.polygon.style.visibility="hidden",d.polygon.style.zIndex=window.dhx4.zim.reserve(d.polygon._idd),d.polygon.style.display="","dhx_terrace"==a.conf.skin&&a._improveTerraceButtonSelect(d.id,!1),d._fixMaxOpenHeight(d.maxOpen||null),a._autoDetectVisibleArea();var f=window.dhx4.absTop(d.obj)+d.obj.offsetHeight+a.conf.sel_ofs_y,g=d.polygon.offsetHeight;if(f+g>a.tY2){var h=null!=d.maxOpen?Math.floor((a.tY2-f)/22):0;h>=1?d._fixMaxOpenHeight(h):(f=window.dhx4.absTop(d.obj)-g-a.conf.sel_ofs_y,0>f&&(f=0))}if(d.polygon.style.top=f+"px",a.rtl)d.polygon.style.left=window.dhx4.absLeft(d.obj)+d.obj.offsetWidth-d.polygon.offsetWidth+a.conf.sel_ofs_x+"px";else{var i=document.body.scrollLeft,j=i+(window.innerWidth||document.body.clientWidth),k=window.dhx4.absLeft(d.obj)+a.conf.sel_ofs_x;k+d.polygon.offsetWidth>j&&(k=window.dhx4.absLeft(d.arw)+d.arw.offsetWidth-d.polygon.offsetWidth),d.polygon.style.left=Math.max(k,5)+"px"}d.polygon.style.visibility="visible",d.polygon._ie6cover&&(d.polygon._ie6cover.style.left=d.polygon.style.left,d.polygon._ie6cover.style.top=d.polygon.style.top,d.polygon._ie6cover.style.width=d.polygon.offsetWidth+"px",d.polygon._ie6cover.style.height=d.polygon.offsetHeight+"px",d.polygon._ie6cover.style.display="")}return!1}},this.arw.onclick=function(a){a=a||event,a.cancelBubble=!0},this.arw[window.dhx4.isIPad?"ontouchend":"onmouseup"]=function(a){a=a||event,a.cancelBubble=!0},this.openAll===!0&&(this.obj.onclick=this.arw.onclick,this.obj.onmousedown=this.arw.onmousedown,this.obj.onmouseup=this.arw.onmouseup,window.dhx4.isIPad&&(this.obj.ontouchstart=this.arw.ontouchstart,this.obj.ontouchend=this.arw.ontouchend)),this.obj.iddPrefix=a.idPrefix,this._listOptions={},this._fixMaxOpenHeight=function(b){var c="auto",e=!1;if(null!==b){var f=0;for(var g in this._listOptions)f++;f>b?(this._ph=22*b,c=this._ph+"px"):e=!0}this.polygon.style.width="auto",this.polygon.style.height="auto",e||null==d.maxOpen||(this.polygon.style.width=this.p_tbl.offsetWidth+a._sbw+"px",this.polygon.style.height=c)},this._separatorButtonSelectObject=function(a,b,c){return this.obj={},this.obj.tr=document.createElement("TR"),this.obj.tr.className="tr_sep",this.obj.tr.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},this.obj.td=document.createElement("TD"),this.obj.td.colSpan="2",this.obj.td.className="td_btn_sep",this.obj.td.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},isNaN(c)?c=d.p_tbody.childNodes.length+1:1>c&&(c=1),c>d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[c-1]),this.obj.tr.appendChild(this.obj.td),this.obj.sep=document.createElement("DIV"),this.obj.sep.className="btn_sep",this.obj.sep.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},this.obj.td.appendChild(this.obj.sep),d._listOptions[a]=this.obj,this},this._buttonButtonSelectObject=function(b,c,e){var f=!0;"undefined"!=typeof c.enabled?f=window.dhx4.s2b(c.enabled):"undefined"!=typeof c.disabled&&(f=window.dhx4.s2b(c.disabled)),this.obj={},this.obj.tr=document.createElement("TR"),this.obj.tr.en=f,this.obj.tr.extAction=c.action||null,this.obj.tr._selected=null!=c.selected,this.obj.tr.className="tr_btn"+(this.obj.tr.en?this.obj.tr._selected&&d.renderSelect?" tr_btn_selected":"":" tr_btn_disabled"),this.obj.tr.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},this.obj.tr.idd=String(b),isNaN(e)?e=d.p_tbody.childNodes.length+1:1>e&&(e=1),e>d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[e-1]),this.obj.td_a=document.createElement("TD"),this.obj.td_a.className="td_btn_img",this.obj.td_a.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},this.obj.td_b=document.createElement("TD"),this.obj.td_b.className="td_btn_txt",this.obj.td_b.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},a.rtl?(this.obj.tr.appendChild(this.obj.td_b),this.obj.tr.appendChild(this.obj.td_a)):(this.obj.tr.appendChild(this.obj.td_a),this.obj.tr.appendChild(this.obj.td_b)),null!=c.img?(this.obj.td_a.innerHTML="<img class='btn_sel_img' src='"+a.conf.icons_path+c.img+"' border='0'>",this.obj.tr._img=c.img):this.obj.td_a.innerHTML="&nbsp;";var g=null!=c.text?c.text:c.itemText||"";return this.obj.td_b.innerHTML="<div class='btn_sel_text'>"+g+"</div>",this.obj.tr[window.dhx4.isIPad?"ontouchstart":"onmouseover"]=function(){!this.en||this._selected&&d.renderSelect||(this.className="tr_btn tr_btn_over")},this.obj.tr.onmouseout=function(){this.en&&(this._selected&&d.renderSelect?-1==String(this.className).search("tr_btn_selected")&&(this.className="tr_btn tr_btn_selected"):this.className="tr_btn")},this.obj.tr[window.dhx4.isIPad?"ontouchend":"onclick"]=function(b){if(b=b||event,b.cancelBubble=!0,this.en){d.setListOptionSelected(this.idd.replace(a.idPrefix,"")),d.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_def",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),window.dhx4.zim.clear(d.polygon._idd),d.polygon.style.display="none",d.polygon._ie6cover&&(d.polygon._ie6cover.style.display="none"),"dhx_terrace"==a.conf.skin&&a._improveTerraceButtonSelect(d.id,!0),a.anyUsed="none";var c=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](c)}catch(b){}a.callEvent("onClick",[c])}},d._listOptions[b]=this.obj,this},this.polygon=document.createElement("DIV"),this.polygon.dir="ltr",this.polygon.style.display="none",this.polygon.className="dhx_toolbar_poly_"+a.conf.skin+" dhxtoolbar_icons_"+a.conf.iconSize,this.polygon.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},this.polygon.onmousedown=function(a){a=a||event,a.cancelBubble=!0},this.polygon.style.overflowY="auto",this.polygon._idd=window.dhx4.newId(),window.dhx4.isIPad&&(this.polygon.ontouchstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,a.cancelBubble=!0,!1}),this.p_tbl=document.createElement("TABLE"),this.p_tbl.className="buttons_cont",this.p_tbl.cellSpacing="0",this.p_tbl.cellPadding="0",this.p_tbl.border="0",this.polygon.appendChild(this.p_tbl),this.p_tbody=document.createElement("TBODY"),this.p_tbl.appendChild(this.p_tbody),null!=c.options)for(var e=0;e<c.options.length;e++){var f="_"+(c.options[e].type||"")+"ButtonSelectObject";null==c.options[e].id&&(c.options[e].id=a._genStr(24)),"function"==typeof this[f]&&new this[f](c.options[e].id,c.options[e])}return document.body.appendChild(this.polygon),window.dhx4.isIE6&&(this.polygon._ie6cover=document.createElement("IFRAME"),this.polygon._ie6cover.frameBorder=0,this.polygon._ie6cover.style.position="absolute",this.polygon._ie6cover.style.border="none",this.polygon._ie6cover.style.backgroundColor="#000000",this.polygon._ie6cover.style.filter="alpha(opacity=100)",this.polygon._ie6cover.style.display="none",this.polygon._ie6cover.setAttribute("src","javascript:false;"),document.body.appendChild(this.polygon._ie6cover)),this.setWidth=function(a){this.obj.style.width=a-this.arw.offsetWidth+"px",this.polygon.style.width=this.obj.offsetWidth+this.arw.offsetWidth-2+"px",this.p_tbl.style.width=this.polygon.style.width},this.enableItem=function(){a._enableItem(this)},this.disableItem=function(){a._disableItem(this)},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display="",this.arw.style.display=""},this.hideItem=function(){this.obj.style.display="none",this.arw.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(b){a._setItemText(this,b)},this.getItemText=function(){return a._getItemText(this)},this.setItemImage=function(b){a._setItemImage(this,b,!0)},this.clearItemImage=function(){a._clearItemImage(this,!0)},this.setItemImageDis=function(b){a._setItemImage(this,b,!1)},this.clearItemImageDis=function(){a._clearItemImage(this,!1)},this.setItemToolTip=function(a){this.obj.title=a,this.arw.title=a},this.getItemToolTip=function(){return this.obj.title},this.addListOption=function(a,b,c,d,e){if("button"==c||"separator"==c){var f={id:a,type:c,text:d,img:e};new this["_"+c+"ButtonSelectObject"](a,f,b)}},this.removeListOption=function(a){if(this._isListButton(a,!0)){var b=this._listOptions[a];if(null!=b.td_a&&null!=b.td_b){for(b.td_a.onselectstart=null,b.td_b.onselectstart=null;b.td_a.childNodes.length>0;)b.td_a.removeChild(b.td_a.childNodes[0]);for(;b.td_b.childNodes.length>0;)b.td_b.removeChild(b.td_b.childNodes[0]);for(b.tr.onselectstart=null,b.tr.onmouseover=null,b.tr.onmouseout=null,b.tr.onclick=null;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr),b.td_a=null,b.td_b=null,b.tr=null}else{for(b.sep.onselectstart=null,b.td.onselectstart=null,b.tr.onselectstart=null;b.td.childNodes.length>0;)b.td.removeChild(b.td.childNodes[0]);for(;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr),b.sep=null,b.td=null,b.tr=null}b=null,this._listOptions[a]=null;try{delete this._listOptions[a]}catch(c){}}},this.showListOption=function(a){this._isListButton(a,!0)&&(this._listOptions[a].tr.style.display="")},this.hideListOption=function(a){this._isListButton(a,!0)&&(this._listOptions[a].tr.style.display="none")},this.isListOptionVisible=function(a){return this._isListButton(a,!0)?"none"!=this._listOptions[a].tr.style.display:void 0},this.enableListOption=function(b){this._isListButton(b)&&(this._listOptions[b].tr.en=!0,this._listOptions[b].tr.className="tr_btn"+(this._listOptions[b].tr._selected&&a.renderSelect?" tr_btn_selected":""))},this.disableListOption=function(a){this._isListButton(a)&&(this._listOptions[a].tr.en=!1,this._listOptions[a].tr.className="tr_btn tr_btn_disabled")},this.isListOptionEnabled=function(a){return this._isListButton(a)?this._listOptions[a].tr.en:void 0},this.setListOptionPosition=function(a,b){if(this._listOptions[a]&&this.getListOptionPosition(a)!=b&&!isNaN(b)){1>b&&(b=1);var c=this._listOptions[a].tr;this.p_tbody.removeChild(c),b>this.p_tbody.childNodes.length?this.p_tbody.appendChild(c):this.p_tbody.insertBefore(c,this.p_tbody.childNodes[b-1]),c=null}},this.getListOptionPosition=function(a){var b=-1;if(!this._listOptions[a])return b;for(var c=0;c<this.p_tbody.childNodes.length;c++)this.p_tbody.childNodes[c]==this._listOptions[a].tr&&(b=c+1);return b},this.setListOptionImage=function(b,c){if(this._isListButton(b)){var d=this._listOptions[b].tr.childNodes[a.rtl?1:0];if(d.childNodes.length>0)d.childNodes[0].src=a.conf.icons_path+c;else{var e=document.createElement("IMG");e.className="btn_sel_img",e.src=a.conf.icons_path+c,d.appendChild(e)}d=null}},this.getListOptionImage=function(b){if(this._isListButton(b)){var c=this._listOptions[b].tr.childNodes[a.rtl?1:0],d=null;return c.childNodes.length>0&&(d=c.childNodes[0].src),c=null,d}},this.clearListOptionImage=function(b){if(this._isListButton(b)){for(var c=this._listOptions[b].tr.childNodes[a.rtl?1:0];c.childNodes.length>0;)c.removeChild(c.childNodes[0]);c.innerHTML="&nbsp;",c=null}},this.setListOptionText=function(b,c){this._isListButton(b)&&(this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML=c)},this.getListOptionText=function(b){return this._isListButton(b)?this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML:void 0},this.setListOptionToolTip=function(a,b){this._isListButton(a)&&(this._listOptions[a].tr.title=b)},this.getListOptionToolTip=function(a){return this._isListButton(a)?this._listOptions[a].tr.title:void 0},this.forEachListOption=function(a){for(var b in this._listOptions)a(b)},this.getAllListOptions=function(){var a=new Array;for(var b in this._listOptions)a[a.length]=b;return a},this.setListOptionSelected=function(a){for(var b in this._listOptions){var c=this._listOptions[b];null!=c.td_a&&null!=c.td_b&&c.tr.en&&(b==a?(c.tr._selected=!0,c.tr.className="tr_btn"+(this.renderSelect?" tr_btn_selected":""),"select"==this.mode&&(c.tr._img?this.setItemImage(c.tr._img):this.clearItemImage(),this.setItemText(this.getListOptionText(a)))):(c.tr._selected=!1,c.tr.className="tr_btn")),c=null}},this.getListOptionSelected=function(){var a=null;for(var b in this._listOptions)1==this._listOptions[b].tr._selected&&(a=b);return a},this._isListButton=function(a,b){return null==this._listOptions[a]?!1:b||"tr_sep"!=this._listOptions[a].tr.className?!0:!1},this.setMaxOpen=function(a){return this._ph=null,"number"==typeof a?(this.maxOpen=a,void this._maxOpenTest()):void(this.maxOpen=null)},c.width&&this.setWidth(c.width),"select"==this.mode&&"undefined"!=typeof c.selected&&this.setListOptionSelected(c.selected),this},dhtmlXToolbarObject.prototype._buttonInputObject=function(a,b,c){this.id=a.idPrefix+b,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_def",this.obj.style.display=null!=c.hidden?"none":"",this.obj.idd=String(b),this.obj.w=null!=c.width?c.width:100,this.obj.title=null!=c.title?c.title:"",this.obj.innerHTML="<input class='dhxtoolbar_input' type='text' style='width:"+this.obj.w+"px;'"+(null!=c.value?" value='"+c.value+"'":"")+">";var d=a,e=this;return this.obj.childNodes[0].onkeydown=function(a){a=a||event,13==a.keyCode&&d.callEvent("onEnter",[e.obj.idd,this.value])
},a.base.appendChild(this.obj),this.enableItem=function(){this.obj.childNodes[0].disabled=!1},this.disableItem=function(){this.obj.childNodes[0].disabled=!0},this.isEnabled=function(){return!this.obj.childNodes[0].disabled},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return"none"!=this.obj.style.display},this.setValue=function(a){this.obj.childNodes[0].value=a},this.getValue=function(){return this.obj.childNodes[0].value},this.setWidth=function(a){this.obj.w=a,this.obj.childNodes[0].style.width=this.obj.w+"px"},this.getWidth=function(){return this.obj.w},this.setItemToolTip=function(a){this.obj.title=a},this.getItemToolTip=function(){return this.obj.title},this.getInput=function(){return this.obj.firstChild},"undefined"!=typeof c.enabled&&0==window.dhx4.s2b(c.enabled)&&this.disableItem(),this},dhtmlXToolbarObject.prototype._buttonTwoStateObject=function(a,b,c){this.id=a.idPrefix+b,this.state=null!=c.enabled?!1:!0,this.imgEn=null!=c.img?c.img:"",this.imgDis=null!=c.imgdis?c.imgdis:"",this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"",this.obj=document.createElement("DIV"),this.obj.pressed=null!=c.selected,this.obj.extAction=c.action||null,this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_"+(this.obj.pressed?"pres"+(this.state?"":"_dis"):this.state?"def":"dis"),this.obj.style.display=null!=c.hidden?"none":"",this.obj.renderAs=this.obj.className,this.obj.idd=String(b),this.obj.title=c.title||"",this.obj.pressed&&(this.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_over"),this.obj.innerHTML=a._rtlParseBtn(""!=this.img?"<img src='"+a.conf.icons_path+this.img+"'>":"",null!=c.text?"<div class='dhxtoolbar_text'>"+c.text+"</div>":""),a.base.appendChild(this.obj);var d=this;return this.obj.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},this.obj.onmouseover=function(){this._doOnMouseOver()},this.obj.onmouseout=function(){this._doOnMouseOut()},this.obj._doOnMouseOver=function(){if(0!=d.state&&"none"==a.anyUsed){if(this.pressed)return void(this.renderAs="dhx_toolbar_btn dhxtoolbar_btn_over");this.className="dhx_toolbar_btn dhxtoolbar_btn_over",this.renderAs=this.className}},this.obj._doOnMouseOut=function(){if(0!=d.state&&"none"==a.anyUsed){if(this.pressed)return void(this.renderAs="dhx_toolbar_btn dhxtoolbar_btn_def");this.className="dhx_toolbar_btn dhxtoolbar_btn_def",this.renderAs=this.className}},this.obj[window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(){if((!a.checkEvent("onBeforeStateChange")||a.callEvent("onBeforeStateChange",[this.idd.replace(a.idPrefix,""),this.pressed]))&&0!=d.state&&"none"==a.anyUsed){this.pressed=!this.pressed,this.className=this.pressed?"dhx_toolbar_btn dhxtoolbar_btn_pres":this.renderAs;var b=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](b,this.pressed)}catch(c){}return a.callEvent("onStateChange",[b,this.pressed]),!1}},this.setItemState=function(b,c){if(this.obj.pressed!=b&&(1==b?(this.obj.pressed=!0,this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_pres"+(this.state?"":"_dis"),this.obj.renderAs="dhx_toolbar_btn dhxtoolbar_btn_over"):(this.obj.pressed=!1,this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_"+(this.state?"def":"dis"),this.obj.renderAs=this.obj.className),1==c)){var d=this.obj.idd.replace(a.idPrefix,"");if(this.obj.extAction)try{window[this.obj.extAction](d,this.obj.pressed)}catch(e){}a.callEvent("onStateChange",[d,this.obj.pressed])}},this.getItemState=function(){return this.obj.pressed},this.enableItem=function(){a._enableItem(this)},this.disableItem=function(){a._disableItem(this)},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(b){a._setItemText(this,b)},this.getItemText=function(){return a._getItemText(this)},this.setItemImage=function(b){a._setItemImage(this,b,!0)},this.clearItemImage=function(){a._clearItemImage(this,!0)},this.setItemImageDis=function(b){a._setItemImage(this,b,!1)},this.clearItemImageDis=function(){a._clearItemImage(this,!1)},this.setItemToolTip=function(a){this.obj.title=a},this.getItemToolTip=function(){return this.obj.title},this},dhtmlXToolbarObject.prototype._sliderObject=function(a,b,c){this.id=a.idPrefix+b,this.state=null!=c.enabled?"true"==c.enabled?!0:!1:!0,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_"+(this.state?"def":"dis"),this.obj.style.display=null!=c.hidden?"none":"",this.obj.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},this.obj.idd=String(b),this.obj.len=null!=c.length?Number(c.length):50,this.obj.innerHTML="<div class='dhxtoolbar_text'>"+(c.textMin||"")+"</div><div class='dhxtoolbar_sl_bg_l'></div><div class='dhxtoolbar_sl_bg_m' style='width:"+this.obj.len+"px;'></div><div class='dhxtoolbar_sl_bg_r'></div><div class='dhxtoolbar_text'>"+(c.textMax||"")+"</div>",a.base.appendChild(this.obj);var d=this;this.pen=document.createElement("DIV"),this.pen.className="dhxtoolbar_sl_pen",this.obj.appendChild(this.pen);var e=this.pen;this.label=document.createElement("DIV"),this.label.dir="ltr",this.label.className="dhx_toolbar_slider_label_"+a.conf.skin+(a.rtl?"_rtl":""),this.label.style.display="none",this.label.tip=c.toolTip||"%v",this.label._zi=window.dhx4.newId(),document.body.appendChild(this.label);var f=this.label;return this.pen.valueMin=null!=c.valueMin?Number(c.valueMin):0,this.pen.valueMax=null!=c.valueMax?Number(c.valueMax):100,this.pen.valueMin>this.pen.valueMax&&(this.pen.valueMin=this.pen.valueMax),this.pen.valueNow=null!=c.valueNow?Number(c.valueNow):this.pen.valueMax,this.pen.valueNow>this.pen.valueMax&&(this.pen.valueNow=this.pen.valueMax),this.pen.valueNow<this.pen.valueMin&&(this.pen.valueNow=this.pen.valueMin),this.pen._detectLimits=function(){this.minX=d.obj.childNodes[1].offsetLeft+2,this.maxX=d.obj.childNodes[3].offsetLeft-this.offsetWidth+1},this.pen._detectLimits(),this.pen._definePos=function(){this.nowX=Math.round((this.valueNow-this.valueMin)*(this.maxX-this.minX)/(this.valueMax-this.valueMin)+this.minX),this.style.left=this.nowX+"px",this.newNowX=this.nowX},this.pen._definePos(),this.pen.initXY=0,this.pen.allowMove=!1,this.pen[window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(a){0!=d.state&&(a=a||event,this.initXY=window.dhx4.isIPad?a.touches[0].clientX:a.clientX,this.newValueNow=this.valueNow,this.allowMove=!0,this.className="dhxtoolbar_sl_pen dhxtoolbar_over",""!=f.tip&&(f.style.visibility="hidden",f.style.display="",f.innerHTML=f.tip.replace("%v",this.valueNow),f.style.left=Math.round(window.dhx4.absLeft(this)+this.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=window.dhx4.absTop(this)-f.offsetHeight-3+"px",f.style.visibility="",f.style.zIndex=window.dhx4.zim.reserve(f._zi)))},this.pen._doOnMouseMoveStart=function(a){if(a=a||event,e.allowMove){var b=window.dhx4.isIPad?a.touches[0].clientX:a.clientX,c=b-e.initXY;if(!(b<window.dhx4.absLeft(e)+Math.round(e.offsetWidth/2)&&e.nowX==e.minX||b>window.dhx4.absLeft(e)+Math.round(e.offsetWidth/2)&&e.nowX==e.maxX))return e.newNowX=e.nowX+c,e.newNowX<e.minX&&(e.newNowX=e.minX),e.newNowX>e.maxX&&(e.newNowX=e.maxX),e.nowX=e.newNowX,e.style.left=e.nowX+"px",e.initXY=b,e.newValueNow=Math.round((e.valueMax-e.valueMin)*(e.newNowX-e.minX)/(e.maxX-e.minX)+e.valueMin),""!=f.tip&&(f.innerHTML=f.tip.replace(/%v/gi,e.newValueNow),f.style.left=Math.round(window.dhx4.absLeft(e)+e.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=window.dhx4.absTop(e)-f.offsetHeight-3+"px"),a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,!1}},this.pen._doOnMouseMoveEnd=function(){e.allowMove&&(e.className="dhxtoolbar_sl_pen",e.allowMove=!1,e.nowX=e.newNowX,e.valueNow=e.newValueNow,""!=f.tip&&(f.style.display="none",window.dhx4.zim.clear(f._zi)),a.callEvent("onValueChange",[d.obj.idd.replace(a.idPrefix,""),e.valueNow]))},window.dhx4.isIPad?(document.addEventListener("touchmove",e._doOnMouseMoveStart,!1),document.addEventListener("touchend",e._doOnMouseMoveEnd,!1)):"undefined"!=typeof window.addEventListener?(window.addEventListener("mousemove",e._doOnMouseMoveStart,!1),window.addEventListener("mouseup",e._doOnMouseMoveEnd,!1)):(document.body.attachEvent("onmousemove",e._doOnMouseMoveStart),document.body.attachEvent("onmouseup",e._doOnMouseMoveEnd)),this.enableItem=function(){this.state||(this.state=!0,this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_def")},this.disableItem=function(){this.state&&(this.state=!1,this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_dis")},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setValue=function(b,c){b=Number(b),b<this.pen.valueMin&&(b=this.pen.valueMin),b>this.pen.valueMax&&(b=this.pen.valueMax),this.pen.valueNow=b,this.pen._definePos(),1==c&&a.callEvent("onValueChange",[this.obj.idd.replace(a.idPrefix,""),this.pen.valueNow])},this.getValue=function(){return this.pen.valueNow},this.setMinValue=function(a,b){a=Number(a),a>this.pen.valueMax||(this.obj.childNodes[0].innerHTML=b,this.obj.childNodes[0].style.display=b.length>0?"":"none",this.pen.valueMin=a,this.pen.valueNow<this.pen.valueMin&&(this.pen.valueNow=this.pen.valueMin),this.pen._detectLimits(),this.pen._definePos())},this.setMaxValue=function(a,b){a=Number(a),a<this.pen.valueMin||(this.obj.childNodes[4].innerHTML=b,this.obj.childNodes[4].style.display=b.length>0?"":"none",this.pen.valueMax=a,this.pen.valueNow>this.pen.valueMax&&(this.pen.valueNow=this.pen.valueMax),this.pen._detectLimits(),this.pen._definePos())},this.getMinValue=function(){var a=this.obj.childNodes[0].innerHTML,b=this.pen.valueMin;return new Array(b,a)},this.getMaxValue=function(){var a=this.obj.childNodes[4].innerHTML,b=this.pen.valueMax;return new Array(b,a)},this.setItemToolTipTemplate=function(a){this.label.tip=a},this.getItemToolTipTemplate=function(){return this.label.tip},this},dhtmlXToolbarObject.prototype.unload=function(){for(this.conf.isIPad?document.removeEventListener("touchstart",this._doOnClick,!1):"function"==typeof window.addEventListener?window.removeEventListener("mousedown",this._doOnClick,!1):document.body.detachEvent("onmousedown",this._doOnClick),this._doOnClick=null,this.clearAll(),this.objPull=null,this._xmlLoader&&(this._xmlLoader.destructor(),this._xmlLoader=null);this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);for(this.cont.removeChild(this.base),this.base=null;this.cont.childNodes.length>0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.className="",this.cont=null,window.dhx4._enableDataLoading(this,null,null,null,"clear"),window.dhx4._eventable(this,"clear"),this.tX1=null,this.tX2=null,this.tY1=null,this.tY2=null,this.anyUsed=null,this.idPrefix=null,this.rootTypes=null,this._rtl=null,this._rtlParseBtn=null,this.setRTL=null,this._sbw=null,this._getObj=null,this._addImgObj=null,this._setItemImage=null,this._clearItemImage=null,this._setItemText=null,this._getItemText=null,this._enableItem=null,this._disableItem=null,this._xmlParser=null,this._addItemToStorage=null,this._genStr=null,this._addItem=null,this._getPosition=null,this._setPosition=null,this._getIdByPosition=null,this._separatorObject=null,this._textObject=null,this._buttonObject=null,this._buttonSelectObject=null,this._buttonInputObject=null,this._buttonTwoStateObject=null,this._sliderObject=null,this._autoDetectVisibleArea=null,this._removeItem=null,this.setAlign=null,this.setSkin=null,this.setIconsPath=null,this.setIconPath=null,this.loadXML=null,this.loadXMLString=null,this.clearAll=null,this.addSpacer=null,this.removeSpacer=null,this.getType=null,this.getTypeExt=null,this.inArray=null,this.getParentId=null,this.addButton=null,this.addText=null,this.addButtonSelect=null,this.addButtonTwoState=null,this.addSeparator=null,this.addSlider=null,this.addInput=null,this.forEachItem=null,this.showItem=null,this.hideItem=null,this.isVisible=null,this.enableItem=null,this.disableItem=null,this.isEnabled=null,this.setItemText=null,this.getItemText=null,this.setItemToolTip=null,this.getItemToolTip=null,this.setItemImage=null,this.setItemImageDis=null,this.clearItemImage=null,this.clearItemImageDis=null,this.setItemState=null,this.getItemState=null,this.setItemToolTipTemplate=null,this.getItemToolTipTemplate=null,this.setValue=null,this.getValue=null,this.setMinValue=null,this.getMinValue=null,this.setMaxValue=null,this.getMaxValue=null,this.setWidth=null,this.getWidth=null,this.getPosition=null,this.setPosition=null,this.removeItem=null,this.addListOption=null,this.removeListOption=null,this.showListOption=null,this.hideListOption=null,this.isListOptionVisible=null,this.enableListOption=null,this.disableListOption=null,this.isListOptionEnabled=null,this.setListOptionPosition=null,this.getListOptionPosition=null,this.setListOptionText=null,this.getListOptionText=null,this.setListOptionToolTip=null,this.getListOptionToolTip=null,this.setListOptionImage=null,this.getListOptionImage=null,this.clearListOptionImage=null,this.forEachListOption=null,this.getAllListOptions=null,this.setListOptionSelected=null,this.getListOptionSelected=null,this.unload=null,this.setUserData=null,this.getUserData=null,this.setMaxOpen=null,this.items=null,this.conf=null},dhtmlXToolbarObject.prototype._autoDetectVisibleArea=function(){var a=window.dhx4.screenDim();this.tX1=a.left,this.tX2=a.right,this.tY1=a.top,this.tY2=a.bottom},dhtmlXToolbarObject.prototype._initObj=function(a){for(var b=0;b<a.length;b++)this._addItemToStorage(a[b]);"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype._xmlToJson=function(a){var b=[],c=a.getElementsByTagName("toolbar");if(null!=c&&null!=c[0]){c=c[0];for(var d=["id","type","hidden","title","text","enabled","img","imgdis","action","openAll","renderSelect","mode","maxOpen","width","value","selected","length","textMin","textMax","toolTip","valueMin","valueMax","valueNow"],e=["id","type","enabled","disabled","action","selected","img","text"],f=0;f<c.childNodes.length;f++)if("item"==c.childNodes[f].tagName){for(var g={},h=0;h<d.length;h++){var i=c.childNodes[f].getAttribute(d[h]);null!=i&&(g[d[h]]=i)}for(var j=0;j<c.childNodes[f].childNodes.length;j++){if("item"==c.childNodes[f].childNodes[j].tagName&&"buttonSelect"==g.type){for(var k={},h=0;h<e.length;h++){var i=c.childNodes[f].childNodes[j].getAttribute(e[h]);null!=i&&(k[e[h]]=i)}var l=c.childNodes[f].childNodes[j].getElementsByTagName("itemText");null!=l&&null!=l[0]&&(k.itemText=l[0].firstChild.nodeValue);for(var m=c.childNodes[f].childNodes[j].getElementsByTagName("userdata"),h=0;h<m.length;h++){k.userdata||(k.userdata={});var n={};try{n.name=m[h].getAttribute("name")}catch(o){n.name=null}try{n.value=m[h].firstChild.nodeValue}catch(o){n.value=""}null!=n.name&&(k.userdata[n.name]=n.value)}null==g.options&&(g.options=[]),g.options.push(k)}if("userdata"==c.childNodes[f].childNodes[j].tagName){null==g.userdata&&(g.userdata={});var k={};try{k.name=c.childNodes[f].childNodes[j].getAttribute("name")}catch(o){k.name=null}try{k.value=c.childNodes[f].childNodes[j].firstChild.nodeValue}catch(o){k.value=""}null!=k.name&&(g.userdata[k.name]=k.value)}}b.push(g)}}return b},dhtmlXToolbarObject.prototype._addItemToStorage=function(a,b){var c=a.id||this._genStr(24),d=a.type||"";if(""!=d&&null!=this["_"+d+"Object"]){if("buttonSelect"==d&&null!=a.options)for(var e=0;e<a.options.length;e++)"obj"==a.options[e].type&&(a.options[e].type="button"),"sep"==a.options[e].type&&(a.options[e].type="separator");if("slider"==d){var f={tip_template:"toolTip",value_min:"valueMin",value_max:"valueMax",value_now:"valueNow",text_min:"textMin",text_max:"textMax"};for(var g in f)null==a[f[g]]&&null!=a[g]&&(a[f[g]]=a[g])}"buttonInput"==d&&null==a.value&&null!=a.text&&(a.value=a.text),"buttonTwoState"==d&&"undefined"==typeof a.selected&&"undefined"!=typeof a.pressed&&window.dhx4.s2b(a.pressed)&&(a.selected=!0),"undefined"==typeof a.enabled&&"undefined"!=typeof a.disabled&&window.dhx4.s2b(a.disabled)&&(a.enabled=!1),null==a.imgDis&&null!=a.img_disabled&&(a.imgdis=a.img_disabled),"undefined"!=typeof a.openAll&&null!=a.openAll||"dhx_terrace"!=this.conf.skin||(a.openAll=!0),this.objPull[this.idPrefix+c]=new this["_"+d+"Object"](this,c,a),this.objPull[this.idPrefix+c].type=d,this.setPosition(c,b)}if(null!=a.userdata)for(var g in a.userdata)this.setUserData(c,g,a.userdata[g]);if(null!=a.options)for(var e=0;e<a.options.length;e++)if(null!=a.options[e].userdata)for(var g in a.options[e].userdata)this.setListOptionUserData(a.id,a.options[e].id,g,a.options[e].userdata[g])},dhtmlXToolbarObject.prototype.setSkin=function(a,b){b===!0?this.cont.className=this.cont.className.replace(/dhxtoolbar_icons_\d{1,}/,"dhxtoolbar_icons_"+this.conf.iconSize):(this.conf.skin=a,"dhx_skyblue"==this.conf.skin&&(this.conf.sel_ofs_y=1),"dhx_web"==this.conf.skin&&(this.conf.sel_ofs_y=1,this.conf.sel_ofs_x=1),"dhx_terrace"==this.conf.skin&&(this.conf.sel_ofs_y=-1,this.conf.sel_ofs_x=0),this.cont.className="dhx_toolbar_"+this.conf.skin+" dhxtoolbar_icons_"+this.conf.iconSize);for(var c in this.objPull){var d=this.objPull[c];"slider"==d.type&&(d.pen._detectLimits(),d.pen._definePos(),d.label.className="dhx_toolbar_slider_label_"+this.conf.skin),"buttonSelect"==d.type&&(d.polygon.className="dhx_toolbar_poly_"+this.conf.skin+" dhxtoolbar_icons_"+this.conf.iconSize)}"dhx_terrace"==a&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype.setAlign=function(a){this.conf.align="right"==a?"right":"left",this.base.className="right"==a?"dhxtoolbar_float_right":"dhxtoolbar_float_left",this._spacer&&(this._spacer.className="right"==a?" dhxtoolbar_float_left":" dhxtoolbar_float_right")},dhtmlXToolbarObject.prototype.setIconSize=function(a){this.conf.iconSize={18:!0,24:!0,32:!0,48:!0}[a]?a:18,this.setSkin(this.conf.skin,!0),this.callEvent("_onIconSizeChange",[this.conf.iconSize])},dhtmlXToolbarObject.prototype.setIconsPath=function(a){this.conf.icons_path=a},dhtmlXToolbarObject.prototype.setUserData=function(a,b,c){a=this.idPrefix+a,null!=this.objPull[a]&&(null==this.objPull[a].userData&&(this.objPull[a].userData={}),this.objPull[a].userData[b]=c)},dhtmlXToolbarObject.prototype.getUserData=function(a,b){return a=this.idPrefix+a,null!=this.objPull[a]&&null!=this.objPull[a].userData?this.objPull[a].userData[b]||null:null},dhtmlXToolbarObject.prototype._isListOptionExists=function(a,b){if(null==this.objPull[this.idPrefix+a])return!1;var c=this.objPull[this.idPrefix+a];return"buttonSelect"!=c.type?!1:null==c._listOptions[b]?!1:!0},dhtmlXToolbarObject.prototype.setListOptionUserData=function(a,b,c,d){if(this._isListOptionExists(a,b)){var e=this.objPull[this.idPrefix+a]._listOptions[b];null==e.userData&&(e.userData={}),e.userData[c]=d}},dhtmlXToolbarObject.prototype.getListOptionUserData=function(a,b,c){if(!this._isListOptionExists(a,b))return null;var d=this.objPull[this.idPrefix+a]._listOptions[b];return d.userData&&d.userData[c]?d.userData[c]:null},dhtmlXToolbarObject.prototype._improveTerraceSkin=function(){null==this.conf.terrace_radius&&(this.conf.terrace_radius="3px");var a=[],b={separator:!0,text:!0},c=[this.base];null!=this._spacer&&c.push(this._spacer);for(var d=0;d<c.length;d++){a[d]=[];for(var e=0;e<c[d].childNodes.length;e++)if(null!=c[d].childNodes[e].idd&&"none"!=c[d].childNodes[e].style.display){var f=this.idPrefix+c[d].childNodes[e].idd;null!=this.objPull[f]&&this.objPull[f].obj==c[d].childNodes[e]&&a[d].push({a:f,type:this.objPull[f].type,node:this.objPull[f]["buttonSelect"==this.objPull[f].type?"arw":"obj"]})}c[d]=null}for(var d=0;d<a.length;d++)for(var e=0;e<a[d].length;e++){var g=a[d][e],h=!1,i=!1;b[g.type]||((e==a[d].length-1||null!=a[d][e+1]&&b[a[d][e+1].type])&&(h=!0),(0==e||e-1>=0&&null!=a[d][e-1]&&b[a[d][e-1].type])&&(i=!0)),g.node.style.borderRightWidth=h?"1px":"0px",g.node.style.borderTopRightRadius=g.node.style.borderBottomRightRadius=h?this.conf.terrace_radius:"0px","buttonSelect"==g.type?(g.node.previousSibling.style.borderTopLeftRadius=g.node.previousSibling.style.borderBottomLeftRadius=i?this.conf.terrace_radius:"0px",g.node.previousSibling._br=h,g.node.previousSibling._bl=i):g.node.style.borderTopLeftRadius=g.node.style.borderBottomLeftRadius=i?this.conf.terrace_radius:"0px",g.node._br=h,g.node._bl=i}for(var d=0;d<a.length;d++){for(var e=0;e<a[d].length;e++){for(var f in a[d][e])a[d][e][f]=null;a[d][e]=null}a[d]=null}a=c=null},dhtmlXToolbarObject.prototype._improveTerraceButtonSelect=function(a,b){var c=this.objPull[a];1==b?(c.obj.style.borderBottomLeftRadius=c.obj._bl?this.conf.terrace_radius:"0px",c.arw.style.borderBottomRightRadius=c.obj._br?this.conf.terrace_radius:"0px"):(c.obj.style.borderBottomLeftRadius="0px",c.arw.style.borderBottomRightRadius="0px"),c=null},dhtmlXMenuObject.prototype._init=function(){1!=this._isInited&&(this.conf.dload?(this._dhxdataload.onBeforeXLS=function(){var a={params:{}};for(var b in this.conf.dload_params)a.params[b]=this.conf.dload_params[b];return a},this.loadStruct(this.conf.dload_url)):(this._initTopLevelMenu(),this._isInited=!0))},dhtmlXMenuObject.prototype._countVisiblePolygonItems=function(a){var b=0;for(var c in this.itemPull){var d=this.itemPull[c].parent,e=this.itemPull[c].type;null!=this.idPull[c]&&(d!=a||"item"!=e&&"radio"!=e&&"checkbox"!=e||"none"==this.idPull[c].style.display||b++)}return b},dhtmlXMenuObject.prototype._redefineComplexState=function(a){if(this.idPrefix+this.topId!=a&&null!=this.idPull["polygon_"+a]&&null!=this.idPull[a]){var b=this._countVisiblePolygonItems(a);b>0&&!this.itemPull[a].complex&&this._updateItemComplexState(a,!0,!1),0==b&&this.itemPull[a].complex&&this._updateItemComplexState(a,!1,!1)}},dhtmlXMenuObject.prototype._updateItemComplexState=function(a,b){if(!this.conf.context&&"TopLevel"==this._getItemLevelType(a.replace(this.idPrefix,"")))return void(this.itemPull[a].complex=b);if(null!=this.idPull[a]&&null!=this.itemPull[a]&&(this.itemPull[a].complex=b,a!=this.idPrefix+this.topId)){var c=null,d=this.idPull[a].childNodes[this.conf.rtl?0:2];if(d.childNodes[0]&&0===String(d.childNodes[0].className).search("complex_arrow")&&(c=d.childNodes[0]),this.itemPull[a].complex){if(null==c){for(c=document.createElement("DIV"),c.className="complex_arrow",c.id="arrow_"+a;d.childNodes.length>0;)d.removeChild(d.childNodes[0]);d.appendChild(c)}return void(this.conf.dload&&"get"==this.itemPull[a].loaded&&this.conf.dload_icon?"complex_arrow_loading"!=c.className&&(c.className="complex_arrow_loading"):c.className="complex_arrow")}this.itemPull[a].complex||null==c||(d.removeChild(c),null!=this.itemPull[a].hotkey_backup&&this.setHotKey&&this.setHotKey(a.replace(this.idPrefix,""),this.itemPull[a].hotkey_backup))}},dhtmlXMenuObject.prototype._getItemLevelType=function(a){return this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea"},dhtmlXMenuObject.prototype.setIconsPath=function(a){this.conf.icons_path=a},dhtmlXMenuObject.prototype._updateItemImage=function(a){a=this.idPrefix+a;var b=this.itemPull[a].parent==this.idPrefix+this.topId&&!this.conf.context,c=null;if(b)for(var d=0;d<this.idPull[a].childNodes.length;d++)try{"dhtmlxMenu_TopLevel_Item_Icon"==this.idPull[a].childNodes[d].className&&(c=this.idPull[a].childNodes[d])}catch(e){}else{try{var c=this.idPull[a].childNodes[this.conf.rtl?2:0].childNodes[0]}catch(e){}(null==c||"undefined"==typeof c.className||"sub_icon"!=c.className)&&(c=null)}if("radio"==this.itemPull[a].type)var f=this.itemPull[a]["enabled"==this.itemPull[a].state?"imgen":"imgdis"];else var f=this.itemPull[a]["enabled"==this.itemPull[a].state?"imgen":"imgdis"];if(f.length>0)if(null!=c)c.src=this.conf.icons_path+f;else if(b){var c=document.createElement("IMG");c.className="dhtmlxMenu_TopLevel_Item_Icon",c.src=this.conf.icons_path+f,c.border="0",c.id="image_"+a,!this.conf.rtl&&this.idPull[a].childNodes.length>0?this.idPull[a].insertBefore(c,this.idPull[a].childNodes[0]):this.idPull[a].appendChild(c)}else{var c=document.createElement("IMG");c.className="sub_icon",c.src=this.conf.icons_path+f,c.border="0",c.id="image_"+a;for(var g=this.idPull[a].childNodes[this.conf.rtl?2:0];g.childNodes.length>0;)g.removeChild(g.childNodes[0]);g.appendChild(c)}else if(null!=c){var h=c.parentNode;h.removeChild(c),h.innerHTML="&nbsp;",h=c=null}},dhtmlXMenuObject.prototype._getAllParents=function(a){var b=new Array;for(var c in this.itemPull)if(this.itemPull[c].parent==a&&(b[b.length]=this.itemPull[c].id,this.itemPull[c].complex))for(var d=this._getAllParents(this.itemPull[c].id),e=0;e<d.length;e++)b[b.length]=d[e];return b},dhtmlXMenuObject.prototype._autoDetectVisibleArea=function(){if(!this.conf.v_enabled){var a=window.dhx4.screenDim();this.conf.v.x1=a.left,this.conf.v.x2=a.right,this.conf.v.y1=a.top,this.conf.v.y2=a.bottom}},dhtmlXMenuObject.prototype.getItemPosition=function(a){a=this.idPrefix+a;var b=-1;if(null==this.itemPull[a])return b;for(var c=this.itemPull[a].parent,d=null!=this.idPull["polygon_"+c]?this.idPull["polygon_"+c].tbd:this.cont,e=0;e<d.childNodes.length;e++)(d.childNodes[e]==this.idPull["separator_"+a]||d.childNodes[e]==this.idPull[a])&&(b=e);return b},dhtmlXMenuObject.prototype.setItemPosition=function(a,b){if(a=this.idPrefix+a,null!=this.idPull[a]){var c=this.itemPull[a].parent==this.idPrefix+this.topId,d=this.idPull[a],e=this.getItemPosition(a.replace(this.idPrefix,"")),f=this.itemPull[a].parent,g=null!=this.idPull["polygon_"+f]?this.idPull["polygon_"+f].tbd:this.cont;g.removeChild(g.childNodes[e]),0>b&&(b=0),c&&1>b&&(b=1),b<g.childNodes.length?g.insertBefore(d,g.childNodes[b]):g.appendChild(d)}},dhtmlXMenuObject.prototype.getParentId=function(a){return a=this.idPrefix+a,null==this.itemPull[a]?null:(null!=this.itemPull[a].parent?this.itemPull[a].parent:this.topId).replace(this.idPrefix,"")},dhtmlXMenuObject.prototype.hide=function(){this._clearAndHide()},dhtmlXMenuObject.prototype.clearAll=function(){this.removeItem(this.idPrefix+this.topId,!0),this._isInited=!1,this.idPrefix=this._genStr(12)+"_",this.itemPull={}},"undefined"==typeof dhtmlXMenuObject.prototype.liveInst&&(dhtmlXMenuObject.prototype.liveInst={}),dhtmlXMenuObject.prototype._redistribTopLevelSelection=function(a){var b=this._getSubItemToDeselectByPolygon("parent");this._removeSubItemFromSelected(-1,-1);for(var c=0;c<b.length;c++)b[c]!=a&&this._hidePolygon(b[c]),null!=this.idPull[b[c]]&&b[c]!=a&&(this.idPull[b[c]].className=this.idPull[b[c]].className.replace(/Selected/g,"Normal"));"enabled"==this.itemPull[this.idPrefix+a].state&&(this.idPull[this.idPrefix+a].className="dhtmlxMenu_"+this.conf.skin+"_TopLevel_Item_Selected",this._addSubItemToSelected(this.idPrefix+a,"parent"),this.conf.selected="win"==this.conf.mode?-1!=this.conf.selected?a:this.conf.selected:a,this.itemPull[this.idPrefix+a].complex&&-1!=this.conf.selected&&this._showPolygon(this.idPrefix+a,this.conf.dir_toplv))},dhtmlXMenuObject.prototype._initTopLevelMenu=function(){if(this.conf.dir_toplv="bottom",this.conf.dir_sublv=this.conf.rtl?"left":"right",this.conf.context)this.idPull[this.idPrefix+this.topId]=new Array(0,0),this._addSubMenuPolygon(this.idPrefix+this.topId,this.idPrefix+this.topId);else for(var a=this._getMenuNodes(this.idPrefix+this.topId),b=0;b<a.length;b++)"item"==this.itemPull[a[b]].type&&this._renderToplevelItem(a[b],null),"separator"==this.itemPull[a[b]].type&&this._renderSeparator(a[b],null)},dhtmlXMenuObject.prototype._renderToplevelItem=function(a,b){var c=this,d=document.createElement("DIV");if(d.id=a,d.className="enabled"==this.itemPull[a].state&&null!=this.itemPull[a].cssNormal?this.itemPull[a].cssNormal:"dhtmlxMenu_"+this.conf.skin+"_TopLevel_Item_"+("enabled"==this.itemPull[a].state?"Normal":"Disabled"),""!=this.itemPull[a].title){var e=document.createElement("DIV");e.className="top_level_text",e.innerHTML=this.itemPull[a].title,d.appendChild(e)}if(this.itemPull[a].tip.length>0&&(d.title=this.itemPull[a].tip),""!=this.itemPull[a].imgen||""!=this.itemPull[a].imgdis){var f=this.itemPull[a]["enabled"==this.itemPull[a].state?"imgen":"imgdis"];if(f){var g=document.createElement("IMG");g.border="0",g.id="image_"+a,g.src=this.conf.icons_path+f,g.className="dhtmlxMenu_TopLevel_Item_Icon",d.childNodes.length>0&&!this.conf.rtl?d.insertBefore(g,d.childNodes[0]):d.appendChild(g)}}d.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},d.oncontextmenu=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},this.cont||(this.cont=document.createElement("DIV"),this.cont.dir="ltr",this.cont.className="right"==this.conf.align?"align_right":"align_left",this.base.appendChild(this.cont)),null!=b&&(b++,0>b&&(b=0),b>this.cont.childNodes.length-1&&(b=null)),null!=b?this.cont.insertBefore(d,this.cont.childNodes[b]):this.cont.appendChild(d),this.idPull[d.id]=d,this.itemPull[a].complex&&!this.conf.dload&&this._addSubMenuPolygon(this.itemPull[a].id,this.itemPull[a].id),d.onmouseover=function(){"web"==c.conf.mode&&window.clearTimeout(c.conf.tm_handler);var a=c._getSubItemToDeselectByPolygon("parent");c._removeSubItemFromSelected(-1,-1);for(var b=0;b<a.length;b++)a[b]!=this.id&&c._hidePolygon(a[b]),null!=c.idPull[a[b]]&&a[b]!=this.id&&(null!=c.itemPull[a[b]].cssNormal?c.idPull[a[b]].className=c.itemPull[a[b]].cssNormal:("sub_item_selected"==c.idPull[a[b]].className&&(c.idPull[a[b]].className="sub_item"),c.idPull[a[b]].className=c.idPull[a[b]].className.replace(/Selected/g,"Normal")));if("enabled"==c.itemPull[this.id].state){if(this.className="dhtmlxMenu_"+c.conf.skin+"_TopLevel_Item_Selected",c._addSubItemToSelected(this.id,"parent"),c.conf.selected="win"==c.conf.mode?-1!=c.conf.selected?this.id:c.conf.selected:this.id,c.conf.dload){if("no"==c.itemPull[this.id].loaded){this._dynLoadTM=(new Date).getTime(),c.itemPull[this.id].loaded="get";var d=this.id.replace(c.idPrefix,"");c._dhxdataload.onBeforeXLS=function(){var a={params:{}};a.params[this.conf.dload_pid]=d;for(var b in this.conf.dload_params)a.params[b]=this.conf.dload_params[b];return a},c.loadStruct(c.conf.dload_url)}c.conf.top_mode&&"web"==c.conf.mode&&!c.conf.context&&(this._mouseOver=!0)}if((!c.conf.dload||c.conf.dload&&(!c.itemPull[this.id].loaded||"yes"==c.itemPull[this.id].loaded))&&c.itemPull[this.id].complex&&-1!=c.conf.selected)if(c.conf.top_mode&&"web"==c.conf.mode&&!c.conf.context){this._mouseOver=!0;var e=this.id;this._menuOpenTM=window.setTimeout(function(){c._showPolygon(e,c.conf.dir_toplv)},c.conf.top_tmtime)}else c._showPolygon(this.id,c.conf.dir_toplv)}c._doOnTouchMenu(this.id.replace(c.idPrefix,""))},d.onmouseout=function(){c.itemPull[this.id].complex&&-1!=c.conf.selected||"enabled"!=c.itemPull[this.id].state||(d.className=null!=c.itemPull[this.id].cssNormal?c.itemPull[this.id].cssNormal:"dhtmlxMenu_"+c.conf.skin+"_TopLevel_Item_Normal"),"web"==c.conf.mode&&(window.clearTimeout(c.conf.tm_handler),c.conf.tm_handler=window.setTimeout(function(){c._clearAndHide()},c.conf.tm_sec,"JavaScript")),c.conf.top_mode&&"web"==c.conf.mode&&!c.conf.context&&(this._mouseOver=!1,window.clearTimeout(this._menuOpenTM))},d.onclick=function(a){if("web"==c.conf.mode&&window.clearTimeout(c.conf.tm_handler),"web"==c.conf.mode||"disabled"!=c.itemPull[this.id].state){if(a=a||event,a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,"win"==c.conf.mode&&c.itemPull[this.id].complex){if(c.conf.selected==this.id){c.conf.selected=-1;var b=!1}else{c.conf.selected=this.id;var b=!0}b?c._showPolygon(this.id,c.conf.dir_toplv):c._hidePolygon(this.id)}var d=c.itemPull[this.id].complex?"c":"-",e="enabled"!=c.itemPull[this.id].state?"d":"-",f={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};return c._doOnClick(this.id.replace(c.idPrefix,""),d+e+"t",f),!1
}},"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin()},dhtmlXMenuObject.prototype._addSubMenuPolygon=function(a,b){var c=(this._renderSublevelPolygon(a,b),this._getMenuNodes(b));for(d=0;d<c.length;d++)"separator"==this.itemPull[c[d]].type?this._renderSeparator(c[d],null):this._renderSublevelItem(c[d],null);if(a==b);else;for(var d=0;d<c.length;d++)this.itemPull[c[d]].complex&&this._addSubMenuPolygon(a,this.itemPull[c[d]].id)},dhtmlXMenuObject.prototype._renderSublevelPolygon=function(a,b){var c=document.createElement("DIV");c.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_Polygon "+(this.conf.rtl?"dir_right":""),c.dir="ltr",c.oncontextmenu=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,a.cancelBubble=!0,!1},c.id="polygon_"+b,c.onclick=function(a){a=a||event,a.cancelBubble=!0},c.style.display="none",document.body.insertBefore(c,document.body.firstChild),c.innerHTML='<div style="position:relative;"></div><div style="position: relative; overflow:hidden;"></div><div style="position:relative;"></div>';var d=document.createElement("TABLE");d.className="dhtmlxMebu_SubLevelArea_Tbl",d.cellSpacing=0,d.cellPadding=0,d.border=0;var e=document.createElement("TBODY");return d.appendChild(e),c.childNodes[1].appendChild(d),c.tbl=d,c.tbd=e,this.idPull[c.id]=c,null!=this.sxDacProc&&(this.idPull["sxDac_"+b]=new this.sxDacProc(c,c.className),window.dhx4.isIE?(this.idPull["sxDac_"+b]._setSpeed(this.dacSpeedIE),this.idPull["sxDac_"+b]._setCustomCycle(this.dacCyclesIE)):(this.idPull["sxDac_"+b]._setSpeed(this.dacSpeed),this.idPull["sxDac_"+b]._setCustomCycle(this.dacCycles))),c},dhtmlXMenuObject.prototype._renderSublevelItem=function(a,b){var c=this,d=document.createElement("TR");d.className="enabled"==this.itemPull[a].state?"sub_item":"sub_item_dis";var e=document.createElement("TD");e.className="sub_item_icon";var f=this.itemPull[a]["enabled"==this.itemPull[a].state?"imgen":"imgdis"];if(""!=f){var g=this.itemPull[a].type;if("checkbox"==g||"radio"==g){var h=document.createElement("DIV");h.id="image_"+this.itemPull[a].id,h.className="sub_icon "+f,e.appendChild(h)}if("checkbox"!=g&&"radio"!=g){var h=document.createElement("IMG");h.id="image_"+this.itemPull[a].id,h.className="sub_icon",h.src=this.conf.icons_path+f,e.appendChild(h)}}else e.innerHTML="&nbsp;";var i=document.createElement("TD");if(i.className="sub_item_text",""!=this.itemPull[a].title){var j=document.createElement("DIV");j.className="sub_item_text",j.innerHTML=this.itemPull[a].title,i.appendChild(j)}else i.innerHTML="&nbsp;";var k=document.createElement("TD");if(k.className="sub_item_hk",this.itemPull[a].complex){var l=document.createElement("DIV");l.className="complex_arrow",l.id="arrow_"+this.itemPull[a].id,k.appendChild(l)}else if(this.itemPull[a].hotkey.length>0&&!this.itemPull[a].complex){var m=document.createElement("DIV");m.className="sub_item_hk",m.innerHTML=this.itemPull[a].hotkey,k.appendChild(m)}else k.innerHTML="&nbsp;";d.appendChild(this.conf.rtl?k:e),d.appendChild(i),d.appendChild(this.conf.rtl?e:k),d.id=this.itemPull[a].id,d.parent=this.itemPull[a].parent,this.itemPull[a].tip.length>0&&(d.title=this.itemPull[a].tip),d.onselectstart=function(a){return a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1,!1},d.onmouseover=function(){c.conf.hide_tm[this.id]&&window.clearTimeout(c.conf.hide_tm[this.id]),"web"==c.conf.mode&&window.clearTimeout(c.conf.tm_handler),this._visible||c._redistribSubLevelSelection(this.id,this.parent),this._visible=!0},d.onmouseout=function(){"web"==c.conf.mode&&(c.conf.tm_handler&&window.clearTimeout(c.conf.tm_handler),c.conf.tm_handler=window.setTimeout(function(){c&&c._clearAndHide&&c._clearAndHide()},c.conf.tm_sec,"JavaScript"));var a=this;c.conf.hide_tm[this.id]&&window.clearTimeout(c.conf.hide_tm[this.id]),c.conf.hide_tm[this.id]=window.setTimeout(function(){a._visible=!1},50)},d.onclick=function(a){if(c.checkEvent("onClick")||!c.itemPull[this.id].complex){a=a||event,a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,tc=c.itemPull[this.id].complex?"c":"-",td="enabled"==c.itemPull[this.id].state?"-":"d";var b={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};switch(c.itemPull[this.id].type){case"checkbox":c._checkboxOnClickHandler(this.id.replace(c.idPrefix,""),tc+td+"n",b);break;case"radio":c._radioOnClickHandler(this.id.replace(c.idPrefix,""),tc+td+"n",b);break;case"item":c._doOnClick(this.id.replace(c.idPrefix,""),tc+td+"n",b)}return!1}};var n=this.idPull["polygon_"+this.itemPull[a].parent];null!=b&&(b++,0>b&&(b=0),b>n.tbd.childNodes.length-1&&(b=null)),null!=b&&null!=n.tbd.childNodes[b]?n.tbd.insertBefore(d,n.tbd.childNodes[b]):n.tbd.appendChild(d),this.idPull[d.id]=d},dhtmlXMenuObject.prototype._renderSeparator=function(a,b){var c=this.conf.context?"SubLevelArea":this.itemPull[a].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea";if("TopLevel"!=c||!this.conf.context){var d=this;if("TopLevel"!=c){var e=document.createElement("TR");e.className="sub_sep";var f=document.createElement("TD");f.colSpan="3",e.appendChild(f)}var g=document.createElement("DIV");if(g.id="separator_"+a,g.className="TopLevel"==c?"top_sep":"sub_sep",g.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},g.onclick=function(a){a=a||event,a.cancelBubble=!0;var b={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};d._doOnClick(this.id.replace("separator_"+d.idPrefix,""),"--s",b)},"TopLevel"==c){if(null!=b)b++,0>b&&(b=0),null!=this.cont.childNodes[b]?this.cont.insertBefore(g,this.cont.childNodes[b]):this.cont.appendChild(g);else{var h=this.cont.childNodes[this.cont.childNodes.length-1];-1==String(h).search("TopLevel_Text")?this.cont.appendChild(g):this.cont.insertBefore(g,h)}this.idPull[g.id]=g}else{var i=this.idPull["polygon_"+this.itemPull[a].parent];null!=b&&(b++,0>b&&(b=0),b>i.tbd.childNodes.length-1&&(b=null)),null!=b&&null!=i.tbd.childNodes[b]?i.tbd.insertBefore(e,i.tbd.childNodes[b]):i.tbd.appendChild(e),f.appendChild(g),this.idPull[g.id]=e}}},dhtmlXMenuObject.prototype.addNewSeparator=function(a,b){b=this.idPrefix+(null!=b?b:this._genStr(24));var c=this.idPrefix+this.getParentId(a);this._addItemIntoGlobalStrorage(b,c,"","separator",!1,"",""),this._renderSeparator(b,this.getItemPosition(a))},dhtmlXMenuObject.prototype._initObj=function(a,b,c){a instanceof Array||(c=a.parentId,null!=c&&0!==String(c).indexOf(this.idPrefix)&&(c=this.idPrefix+String(c)),a=a.items);for(var d=0;d<a.length;d++){("undefined"==typeof a[d].id||null==a[d].id)&&(a[d].id=this._genStr(24)),0!==String(a[d].id).indexOf(this.idPrefix)&&(a[d].id=this.idPrefix+String(a[d].id));var e={type:"item",tip:"",hotkey:"",state:"enabled",imgen:"",imgdis:""};for(var f in e)"undefined"==typeof a[d][f]&&(a[d][f]=e[f]);if(""==a[d].imgen&&null!=a[d].img&&(a[d].imgen=a[d].img),""==a[d].imgdis&&null!=a[d].img_disabled&&(a[d].imgdis=a[d].img_disabled),null==a[d].title&&null!=a[d].text&&(a[d].title=a[d].text),null!=a[d].href&&(null!=a[d].href.link&&(a[d].href_link=a[d].href.link),null!=a[d].href.target&&(a[d].href_target=a[d].href.target)),null!=a[d].userdata)for(var f in a[d].userdata)this.userData[a[d].id+"_"+f]=a[d].userdata[f];"undefined"!=typeof a[d].enabled&&0==window.dhx4.s2b(a[d].enabled)?a[d].state="disabled":"undefined"!=typeof a[d].disabled&&1==window.dhx4.s2b(a[d].disabled)&&(a[d].state="disabled"),"undefined"==typeof a[d].parent&&(a[d].parent=null!=c?c:this.idPrefix+this.topId),"checkbox"==a[d].type&&(a[d].checked=window.dhx4.s2b(a[d].checked),a[d].imgen=a[d].imgdis="chbx_"+(a[d].checked?"1":"0")),"radio"==a[d].type&&(a[d].checked=window.dhx4.s2b(a[d].checked),a[d].imgen=a[d].imgdis="rdbt_"+(a[d].checked?"1":"0"),("undefined"==typeof a[d].group||null==a[d].group)&&(a[d].group=this._genStr(24)),null==this.radio[a[d].group]&&(this.radio[a[d].group]=[]),this.radio[a[d].group].push(a[d].id)),this.itemPull[a[d].id]=a[d],null!=a[d].items&&a[d].items.length>0?(this.itemPull[a[d].id].complex=!0,this._initObj(a[d].items,!0,a[d].id)):this.conf.dload&&1==a[d].complex&&(this.itemPull[a[d].id].loaded="no"),this.itemPull[a[d].id].items=null}if(b!==!0)if(1==this.conf.dload)if(null==c)this._initTopLevelMenu();else{if(this._addSubMenuPolygon(c,c),this.conf.selected==c){var g=this.itemPull[c].parent==this.idPrefix+this.topId,h=g&&!this.conf.context?this.conf.dir_toplv:this.conf.dir_sublv,i=!1;if(g&&this.conf.top_mode&&"web"==this.conf.mode&&!this.conf.context){var j=this.idPull[c];if(1==j._mouseOver){var k=this.conf.top_tmtime-((new Date).getTime()-j._dynLoadTM);if(k>1){var l=c,m=this;j._menuOpenTM=window.setTimeout(function(){m._showPolygon(l,h),m=l=null},k),i=!0}}}i||this._showPolygon(c,h)}this.itemPull[c].loaded="yes",1==this.conf.dload_icon&&this._updateLoaderIcon(c,!1)}else this._init()},dhtmlXMenuObject.prototype._xmlToJson=function(a,b){var c=[];if(null==b){var d=a.getElementsByTagName(this.conf.tags.root);if(null==d||0==d.length)return data;d=d[0]}else d=a;null!=d.getAttribute("parentId")&&(b=this.idPrefix+d.getAttribute("parentId"));for(var e=0;e<d.childNodes.length;e++)if("undefined"!=typeof d.childNodes[e].tagName&&String(d.childNodes[e].tagName).toLowerCase()==this.conf.tags.item){var f=d.childNodes[e],g={id:this.idPrefix+(f.getAttribute("id")||this._genStr(24)),title:f.getAttribute("text")||"",imgen:f.getAttribute("img")||"",imgdis:f.getAttribute("imgdis")||"",tip:"",hotkey:"",type:f.getAttribute("type")||"item"};if(null!=f.getAttribute("cssNormal")&&(g.cssNormal=f.getAttribute("cssNormal")),"checkbox"==g.type&&(g.checked=f.getAttribute("checked")),"radio"==g.type&&(g.checked=f.getAttribute("checked"),g.group=f.getAttribute("group")),g.state="enabled",null!=f.getAttribute("enabled")&&0==window.dhx4.s2b(f.getAttribute("enabled"))?g.state="disabled":null!=f.getAttribute("disabled")&&1==window.dhx4.s2b(f.getAttribute("disabled"))&&(g.state="disabled"),g.parent=null!=b?b:this.idPrefix+this.topId,this.conf.dload)g.complex=null!=f.getAttribute("complex"),g.complex&&(g.loaded="no");else{var h=this._xmlToJson(f,g.id);g.items=h.items,g.complex=g.items.length>0}for(var i=0;i<f.childNodes.length;i++)if("undefined"!=typeof f.childNodes[i].tagName){var j=String(f.childNodes[i].tagName||"").toLowerCase();if(j==this.conf.tags.userdata){var k=f.childNodes[i];null!=k.getAttribute("name")&&(this.userData[g.id+"_"+k.getAttribute("name")]=null!=k.firstChild&&null!=k.firstChild.nodeValue?k.firstChild.nodeValue:"")}j==this.conf.tags.text_ext&&(g.title=f.childNodes[i].firstChild.nodeValue),j==this.conf.tags.tooltip&&(g.tip=f.childNodes[i].firstChild.nodeValue),j==this.conf.tags.hotkey&&(g.hotkey=f.childNodes[i].firstChild.nodeValue),j==this.conf.tags.href&&"item"==g.type&&(g.href_link=f.childNodes[i].firstChild.nodeValue,null!=f.childNodes[i].getAttribute("target")&&(g.href_target=f.childNodes[i].getAttribute("target")))}c.push(g)}var f={parentId:b,items:c};return f},dhtmlXMenuObject.prototype.enableDynamicLoading=function(a,b){this.conf.dload=!0,this.conf.dload_url=a,this.conf.dload_sign=-1==String(this.conf.dload_url).search(/\?/)?"?":"&",this.conf.dload_icon=b,this._init()},dhtmlXMenuObject.prototype._updateLoaderIcon=function(a,b){if(null!=this.idPull[a]&&!(String(this.idPull[a].className).search("TopLevel_Item")>=0)){var c=this.conf.rtl?0:2;if(this.idPull[a].childNodes[c]&&this.idPull[a].childNodes[c].childNodes[0]){var d=this.idPull[a].childNodes[c].childNodes[0];0===String(d.className).search("complex_arrow")&&(d.className="complex_arrow"+(b?"_loading":""))}}},dhtmlXMenuObject.prototype.addNewSibling=function(a,b,c,d,e,f){var g=this.idPrefix+(null!=b?b:this._genStr(24)),h=this.idPrefix+(null!=a?this.getParentId(a):this.topId);this._addItemIntoGlobalStrorage(g,h,c,"item",d,e,f),h!=this.idPrefix+this.topId||this.conf.context?this._renderSublevelItem(g,this.getItemPosition(a)):this._renderToplevelItem(g,this.getItemPosition(a))},dhtmlXMenuObject.prototype.addNewChild=function(a,b,c,d,e,f,g){if(null==a){if(!this.conf.context)return this.addNewSibling(a,c,d,e,f,g),void(null!=b&&this.setItemPosition(c,b));a=this.topId}c=this.idPrefix+(null!=c?c:this._genStr(24)),this.setHotKey&&this.setHotKey(a,""),a=this.idPrefix+a,this._addItemIntoGlobalStrorage(c,a,d,"item",e,f,g),null==this.idPull["polygon_"+a]&&this._renderSublevelPolygon(a,a),this._renderSublevelItem(c,b-1),this._redefineComplexState(a)},dhtmlXMenuObject.prototype.removeItem=function(a,b,c){b||(a=this.idPrefix+a);var d=null;if(a!=this.idPrefix+this.topId){if(null==this.itemPull[a])return;this.idPull["polygon_"+a]&&this.idPull["polygon_"+a]._tmShow&&window.clearTimeout(this.idPull["polygon_"+a]._tmShow);var e=this.itemPull[a].type;if("separator"==e){var f=this.idPull["separator_"+a];this.itemPull[a].parent==this.idPrefix+this.topId?(f.onclick=null,f.onselectstart=null,f.id=null,f.parentNode.removeChild(f)):(f.childNodes[0].childNodes[0].onclick=null,f.childNodes[0].childNodes[0].onselectstart=null,f.childNodes[0].childNodes[0].id=null,f.childNodes[0].removeChild(f.childNodes[0].childNodes[0]),f.removeChild(f.childNodes[0]),f.parentNode.removeChild(f)),this.idPull["separator_"+a]=null,this.itemPull[a]=null,delete this.idPull["separator_"+a],delete this.itemPull[a],f=null}else{d=this.itemPull[a].parent;var f=this.idPull[a];for(f.onclick=null,f.oncontextmenu=null,f.onmouseover=null,f.onmouseout=null,f.onselectstart=null,f.id=null;f.childNodes.length>0;)f.removeChild(f.childNodes[0]);f.parentNode.removeChild(f),this.idPull[a]=null,this.itemPull[a]=null,delete this.idPull[a],delete this.itemPull[a],f=null}e=null}for(var g in this.itemPull)this.itemPull[g].parent==a&&this.removeItem(g,!0,!0);var h=new Array(a);null==d||c||null!=this.idPull["polygon_"+d]&&0==this.idPull["polygon_"+d].tbd.childNodes.length&&(h.push(d),this._updateItemComplexState(d,!1,!1));for(var i=0;i<h.length;i++)if(this.idPull["polygon_"+h[i]]){var j=this.idPull["polygon_"+h[i]];if(j.onclick=null,j.oncontextmenu=null,j.tbl.removeChild(j.tbd),j.tbd=null,j.childNodes[1].removeChild(j.tbl),j.tbl=null,j.id=null,j.parentNode.removeChild(j),j=null,window.dhx4.isIE6){var k="polygon_"+h[i]+"_ie6cover";null!=this.idPull[k]&&(document.body.removeChild(this.idPull[k]),delete this.idPull[k])}null!=this.idPull["arrowup_"+a]&&this._removeArrow&&this._removeArrow("arrowup_"+a),null!=this.idPull["arrowdown_"+a]&&this._removeArrow&&this._removeArrow("arrowdown_"+a),this.idPull["polygon_"+h[i]]=null,delete this.idPull["polygon_"+h[i]]}h=null,"dhx_terrace"==this.conf.skin&&1==arguments.length&&this._improveTerraceSkin()},dhtmlXMenuObject.prototype._addItemIntoGlobalStrorage=function(a,b,c,d,e,f,g){var h={id:a,title:c,imgen:null!=f?f:"",imgdis:null!=g?g:"",type:d,state:1==e?"disabled":"enabled",parent:b,complex:!1,hotkey:"",tip:""};this.itemPull[h.id]=h},dhtmlXMenuObject.prototype.renderAsContextMenu=function(){this.conf.context=!0,1==this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+this.conf.skin+"_Middle",""),this.base._autoSkinUpdate=!1),null!=this.conf.ctx_baseid&&this.addContextZone(this.conf.ctx_baseid)},dhtmlXMenuObject.prototype.addContextZone=function(a){if(a==document.body){a="document.body."+this.idPrefix;var b=document.body}else var b=document.getElementById(a);var c=!1;for(var d in this.conf.ctx_zones)c=c||d==a||this.conf.ctx_zones[d]==b;if(1==c)return!1;this.conf.ctx_zones[a]=b;var e=this;window.dhx4.isOpera?(this.operaContext=function(a){e._doOnContextMenuOpera(a,e)},b.addEventListener("mouseup",this.operaContext,!1)):(null==b.oncontextmenu||b._oldContextMenuHandler||(b._oldContextMenuHandler=b.oncontextmenu),b.oncontextmenu=function(a){for(var b in dhtmlXMenuObject.prototype.liveInst)b!=e.conf.live_id&&dhtmlXMenuObject.prototype.liveInst[b].context&&dhtmlXMenuObject.prototype.liveInst[b]._hideContextMenu();return a=a||event,a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,e._doOnContextBeforeCall(a,this),!1})},dhtmlXMenuObject.prototype._doOnContextMenuOpera=function(a,b){for(var c in dhtmlXMenuObject.prototype.liveInst)c!=b.conf.live_id&&dhtmlXMenuObject.prototype.liveInst[c].context&&dhtmlXMenuObject.prototype.liveInst[c]._hideContextMenu();return a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,0==a.button&&1==a.ctrlKey&&b._doOnContextBeforeCall(a,this),!1},dhtmlXMenuObject.prototype.removeContextZone=function(a){if(!this.isContextZone(a))return!1;a==document.body&&(a="document.body."+this.idPrefix);var b=this.conf.ctx_zones[a];window.dhx4.isOpera?b.removeEventListener("mouseup",this.operaContext,!1):(b.oncontextmenu=null!=b._oldContextMenuHandler?b._oldContextMenuHandler:null,b._oldContextMenuHandler=null);try{this.conf.ctx_zones[a]=null,delete this.conf.ctx_zones[a]}catch(c){}return!0},dhtmlXMenuObject.prototype.isContextZone=function(a){if(a==document.body&&null!=this.conf.ctx_zones["document.body."+this.idPrefix])return!0;var b=!1;return null!=this.conf.ctx_zones[a]&&this.conf.ctx_zones[a]==document.getElementById(a)&&(b=!0),b},dhtmlXMenuObject.prototype._isContextMenuVisible=function(){return null==this.idPull["polygon_"+this.idPrefix+this.topId]?!1:""==this.idPull["polygon_"+this.idPrefix+this.topId].style.display},dhtmlXMenuObject.prototype._showContextMenu=function(a,b,c){return this._clearAndHide(),null==this.idPull["polygon_"+this.idPrefix+this.topId]?!1:(window.clearTimeout(this.conf.tm_handler),this.idPull[this.idPrefix+this.topId]=new Array(a,b),this._showPolygon(this.idPrefix+this.topId,"bottom"),void this.callEvent("onContextMenu",[c]))},dhtmlXMenuObject.prototype._hideContextMenu=function(){return null==this.idPull["polygon_"+this.idPrefix+this.topId]?!1:(this._clearAndHide(),void this._hidePolygon(this.idPrefix+this.topId))},dhtmlXMenuObject.prototype._doOnContextBeforeCall=function(a,b){this.conf.ctx_zoneid=b.id,this._clearAndHide(),this._hideContextMenu();var c=a.srcElement||a.target,d=window.dhx4.isIE||window.dhx4.isOpera||window.dhx4.isKHTML?a.offsetX:a.layerX,e=window.dhx4.isIE||window.dhx4.isOpera||window.dhx4.isKHTML?a.offsetY:a.layerY,f=window.dhx4.absLeft(c)+d,g=window.dhx4.absTop(c)+e;this.checkEvent("onBeforeContextMenu")?this.callEvent("onBeforeContextMenu",[b.id,a])&&this.conf.ctx_autoshow&&(this._showContextMenu(f,g,b.id),this.callEvent("onAfterContextMenu",[b.id,a])):this.conf.ctx_autoshow&&(this._showContextMenu(f,g,b.id),this.callEvent("onAfterContextMenu",[b.id]))},dhtmlXMenuObject.prototype.showContextMenu=function(a,b){this._showContextMenu(a,b,!1)},dhtmlXMenuObject.prototype.hideContextMenu=function(){this._hideContextMenu()},dhtmlXMenuObject.prototype.setAutoShowMode=function(a){this.conf.ctx_autoshow=1==a?!0:!1},dhtmlXMenuObject.prototype.setAutoHideMode=function(a){this.conf.ctx_autohide=1==a?!0:!1},dhtmlXMenuObject.prototype.setContextMenuHideAllMode=function(a){this.conf.ctx_hideall=1==a?!0:!1},dhtmlXMenuObject.prototype.getContextMenuHideAllMode=function(){return this.conf.ctx_hideall},dhtmlXMenuObject.prototype._improveTerraceSkin=function(){for(var a in this.itemPull)if(this.itemPull[a].parent==this.idPrefix+this.topId&&null!=this.idPull[a]){var b=!1,c=!1;this.idPull[a].parentNode.firstChild==this.idPull[a]&&(b=!0),this.idPull[a].parentNode.lastChild==this.idPull[a]&&(c=!0);for(var d in this.itemPull)"separator"==this.itemPull[d].type&&this.itemPull[d].parent==this.idPrefix+this.topId&&(this.idPull[a].nextSibling==this.idPull["separator_"+d]&&(c=!0),this.idPull[a].previousSibling==this.idPull["separator_"+d]&&(b=!0));this.idPull[a].style.borderLeftWidth=b?"1px":"0px",this.idPull[a].style.borderTopLeftRadius=this.idPull[a].style.borderBottomLeftRadius=b?"3px":"0px",this.idPull[a].style.borderTopRightRadius=this.idPull[a].style.borderBottomRightRadius=c?"3px":"0px",this.idPull[a]._bl=b,this.idPull[a]._br=c}},dhtmlXMenuObject.prototype._improveTerraceButton=function(a,b){b?(this.idPull[a].style.borderBottomLeftRadius=this.idPull[a]._bl?"3px":"0px",this.idPull[a].style.borderBottomRightRadius=this.idPull[a]._br?"3px":"0px"):(this.idPull[a].style.borderBottomLeftRadius="0px",this.idPull[a].style.borderBottomRightRadius="0px")};var globalActiveDHTMLGridObject;String.prototype._dhx_trim=function(){return this.replace(/&nbsp;/g," ").replace(/(^[ \t]*)|([ \t]*$)/g,"")},dhtmlxArray._master={_dhx_find:function(a){for(var b=0;b<this.length;b++)if(a==this[b])return b;return-1},_dhx_insertAt:function(a,b){this[this.length]=null;for(var c=this.length-1;c>=a;c--)this[c]=this[c-1];this[a]=b},_dhx_removeAt:function(a){this.splice(a,1)},_dhx_swapItems:function(a,b){var c=this[a];this[a]=this[b],this[b]=c}},dhtmlXGridObject.prototype={getRowAttribute:function(a,b){return this.getRowById(a)._attrs[b]},setRowAttribute:function(a,b,c){this.getRowById(a)._attrs[b]=c},isTreeGrid:function(){return-1!=this.cellType._dhx_find("tree")},setRowHidden:function(a,b){var c=(convertStringToBoolean(b),this.getRowById(a));if(c){if(""===c.expand&&this.collapseKids(c),b&&"none"!=c.style.display){c.style.display="none";var d=this.selectedRows._dhx_find(c);if(-1!=d){c.className=c.className.replace("rowselected","");for(var e=0;e<c.childNodes.length;e++)c.childNodes[e].className=c.childNodes[e].className.replace(/cellselected/g,"");this.selectedRows._dhx_removeAt(d)}this.callEvent("onGridReconstructed",[])}b||"none"!=c.style.display||(c.style.display="",this.callEvent("onGridReconstructed",[])),this.callEvent("onRowHide",[a,b]),this.setSizes()}},setColumnHidden:function(a,b){if(!this.hdr.rows.length)return this._ivizcol||(this._ivizcol=[]),this._ivizcol[a]=b;this.fldSorted&&this.fldSorted.cellIndex==a&&b&&(this.sortImg.style.display="none");var c=convertStringToBoolean(b);if(c){if(this._hrrar){if(this._hrrar[a])return}else this._hrrar=new Array;this._hrrar[a]="display:none;",this._hideShowColumn(a,"none")}else{if(!this._hrrar||!this._hrrar[a])return;this._hrrar[a]="",this._hideShowColumn(a,"")}this.fldSorted&&this.fldSorted.cellIndex==a&&!b&&(this.sortImg.style.display="inline"),this.setSortImgPos(),this.callEvent("onColumnHidden",[a,b])},isColumnHidden:function(a){return this._hrrar&&this._hrrar[a]?!0:!1},setColumnsVisibility:function(a){if(a&&(this._ivizcol=a.split(this.delim)),this.hdr.rows.length&&this._ivizcol)for(var b=0;b<this._ivizcol.length;b++)this.setColumnHidden(b,this._ivizcol[b])},_fixHiddenRowsAll:function(a,b,c,d,e){e=e||"_cellIndex";for(var f=a.rows.length,g=0;f>g;g++){var h=a.rows[g].childNodes;if(h.length!=this._cCount){for(var i=0;i<h.length;i++)if(h[i][e]==b){h[i].style[c]=d;break}}else h[b].style[c]=d}},_hideShowColumn:function(a,b){var c=a;if(this.hdr.rows[1]&&this.hdr.rows[1]._childIndexes&&this.hdr.rows[1]._childIndexes[a]!=a&&(c=this.hdr.rows[1]._childIndexes[a]),"none"==b){this.hdr.rows[0].cells[a]._oldWidth=this.hdr.rows[0].cells[a].style.width||this.initCellWidth[a]+"px",this.hdr.rows[0].cells[a]._oldWidthP=this.cellWidthPC[a],this.obj.rows[0].cells[a].style.width="0px";var d={rows:[this.obj.rows[0]]};this.forEachRow(function(a){"TR"==this.rowsAr[a].tagName&&d.rows.push(this.rowsAr[a])}),this._fixHiddenRowsAll(d,a,"display","none"),this.isTreeGrid()&&this._fixHiddenRowsAllTG(a,"none"),(_isOpera&&_OperaRv<9||_isKHTML||_isFF)&&this._fixHiddenRowsAll(this.hdr,a,"display","none","_cellIndexS"),this.ftr&&this._fixHiddenRowsAll(this.ftr.childNodes[0],a,"display","none"),this._fixHiddenRowsAll(this.hdr,a,"whiteSpace","nowrap","_cellIndexS"),this.cellWidthPX.length||this.cellWidthPC.length||(this.cellWidthPX=[].concat(this.initCellWidth)),this.cellWidthPX[a]&&(this.cellWidthPX[a]=0),this.cellWidthPC[a]&&(this.cellWidthPC[a]=0)}else if(this.hdr.rows[0].cells[a]._oldWidth){var e=this.hdr.rows[0].cells[a];(_isOpera||_isKHTML||_isFF)&&this._fixHiddenRowsAll(this.hdr,a,"display","","_cellIndexS"),this.ftr&&this._fixHiddenRowsAll(this.ftr.childNodes[0],a,"display","");var d={rows:[this.obj.rows[0]]};this.forEachRow(function(a){"TR"==this.rowsAr[a].tagName&&d.rows.push(this.rowsAr[a])}),this._fixHiddenRowsAll(d,a,"display",""),this.isTreeGrid()&&this._fixHiddenRowsAllTG(a,""),this._fixHiddenRowsAll(this.hdr,a,"whiteSpace","normal","_cellIndexS"),e._oldWidthP&&(this.cellWidthPC[a]=e._oldWidthP),e._oldWidth&&(this.cellWidthPX[a]=parseInt(e._oldWidth))}this.setSizes(),_isIE||_isFF||(this.obj.border=1,this.obj.border=0)},enableColSpan:function(a){this._ecspn=convertStringToBoolean(a)},enableRowsHover:function(a,b){this._unsetRowHover(!1,!0),this._hvrCss=b,convertStringToBoolean(a)?this._elmnh||(this.obj._honmousemove=this.obj.onmousemove,this.obj.onmousemove=this._setRowHover,_isIE?this.obj.onmouseleave=this._unsetRowHover:this.obj.onmouseout=this._unsetRowHover,this._elmnh=!0):this._elmnh&&(this.obj.onmousemove=this.obj._honmousemove,_isIE?this.obj.onmouseleave=null:this.obj.onmouseout=null,this._elmnh=!1)},enableEditEvents:function(a,b,c){this._sclE=convertStringToBoolean(a),this._dclE=convertStringToBoolean(b),this._f2kE=convertStringToBoolean(c)},enableLightMouseNavigation:function(a){convertStringToBoolean(a)?this._elmn||(this.entBox._onclick=this.entBox.onclick,this.entBox.onclick=function(){return!0},this.obj._onclick=this.obj.onclick,this.obj.onclick=function(a){var b=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");b&&(this.grid.editStop(),this.grid.doClick(b),this.grid.editCell(),(a||event).cancelBubble=!0)},this.obj._onmousemove=this.obj.onmousemove,this.obj.onmousemove=this._autoMoveSelect,this._elmn=!0):this._elmn&&(this.entBox.onclick=this.entBox._onclick,this.obj.onclick=this.obj._onclick,this.obj.onmousemove=this.obj._onmousemove,this._elmn=!1)},_unsetRowHover:function(a,b){if(that=b?this:this.grid,that._lahRw&&that._lahRw!=b){for(var c=0;c<that._lahRw.childNodes.length;c++)that._lahRw.childNodes[c].className=that._lahRw.childNodes[c].className.replace(that._hvrCss,"");that._lahRw=null}},_setRowHover:function(a){var b=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");if(b&&b.parentNode!=this.grid._lahRw){if(this.grid._unsetRowHover(0,b),b=b.parentNode,!b.idd||"__filler__"==b.idd)return;for(var c=0;c<b.childNodes.length;c++)b.childNodes[c].className+=" "+this.grid._hvrCss;this.grid._lahRw=b}this._honmousemove(a)},_autoMoveSelect:function(a){if(!this.grid.editor){var b=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");b.parentNode.idd&&this.grid.doClick(b,!0,0)}this._onmousemove(a)},enableDistributedParsing:function(a,b,c){convertStringToBoolean(a)?(this._ads_count=b||10,this._ads_time=c||250):this._ads_count=0},destructor:function(){if(this.editStop(!0),this._sizeTime&&(this._sizeTime=window.clearTimeout(this._sizeTime)),this.entBox.className=(this.entBox.className||"").replace(/gridbox.*/,""),this.formInputs)for(var a=0;a<this.formInputs.length;a++)this.parentForm.removeChild(this.formInputs[a]);var b;this.xmlLoader=this.xmlLoader.destructor();for(var a=0;a<this.rowsCol.length;a++)this.rowsCol[a]&&(this.rowsCol[a].grid=null);for(a in this.rowsAr)this.rowsAr[a]&&(this.rowsAr[a]=null);this.rowsCol=new dhtmlxArray,this.rowsAr={},this.entBox.innerHTML="";var c=function(){};this.entBox.onclick=this.entBox.onmousedown=this.entBox.onbeforeactivate=this.entBox.onbeforedeactivate=this.entBox.onbeforedeactivate=this.entBox.onselectstart=c,this.setSizes=this._update_srnd_view=this.callEvent=c,this.entBox.grid=this.objBox.grid=this.hdrBox.grid=this.obj.grid=this.hdr.grid=null,this._fake&&(this.globalBox.innerHTML="",this._fake.setSizes=this._fake._update_srnd_view=this._fake.callEvent=c,this.globalBox.onclick=this.globalBox.onmousedown=this.globalBox.onbeforeactivate=this.globalBox.onbeforedeactivate=this.globalBox.onbeforedeactivate=this.globalBox.onselectstart=c);for(b in this)this[b]&&this[b].m_obj&&(this[b].m_obj=null),this[b]=null;return this==globalActiveDHTMLGridObject&&(globalActiveDHTMLGridObject=null),null},getSortingState:function(){var a=new Array;return this.fldSorted&&(a[0]=this.fldSorted._cellIndex,a[1]="dhxgrid_sort_desc"==this.sortImg.className?"des":"asc"),a},enableAutoHeight:function(a,b,c){this._ahgr=convertStringToBoolean(a),this._ahgrF=convertStringToBoolean(c),this._ahgrM=b||null,1==arguments.length&&(this.objBox.style.overflowY=a?"hidden":"auto"),"auto"==b&&(this._ahgrM=null,this._ahgrMA=!0,this._setAutoResize())},enableStableSorting:function(a){this._sst=convertStringToBoolean(a),this.rowsCol.stablesort=function(a){for(var b=this.length-1,c=0;c<this.length-1;c++){for(var d=0;b>d;d++)if(a(this[d],this[d+1])>0){var e=this[d];this[d]=this[d+1],this[d+1]=e}b--}}},enableKeyboardSupport:function(a){this._htkebl=!convertStringToBoolean(a)},enableContextMenu:function(a){this._ctmndx=a},setScrollbarWidthCorrection:function(){},enableTooltips:function(a){this._enbTts=a.split(",");for(var b=0;b<this._enbTts.length;b++)this._enbTts[b]=convertStringToBoolean(this._enbTts[b])},enableResizing:function(a){this._drsclmn=a.split(",");for(var b=0;b<this._drsclmn.length;b++)this._drsclmn[b]=convertStringToBoolean(this._drsclmn[b])},setColumnMinWidth:function(a,b){2==arguments.length?(this._drsclmW||(this._drsclmW=new Array),this._drsclmW[b]=a):this._drsclmW=a.split(",")},enableCellIds:function(a){this._enbCid=convertStringToBoolean(a)},lockRow:function(a,b){var c=this.getRowById(a);c&&(c._locked=convertStringToBoolean(b),this.cell&&this.cell.parentNode.idd==a&&this.editStop())},_getRowArray:function(a){for(var b=new Array,c=0;c<a.childNodes.length;c++){var d=this.cells3(a,c);b[c]=d.getValue()}return b},setDateFormat:function(a,b){this._dtmask=a,this._dtmask_inc=b},setNumberFormat:function(a,b,c,d){var e=a.replace(/[^0\,\.]*/g,""),f=e.indexOf(".");f>-1&&(f=e.length-f-1);var g=e.indexOf(",");g>-1&&(g=e.length-f-2-g),"string"!=typeof c&&(c=this.i18n.decimal_separator),"string"!=typeof d&&(d=this.i18n.group_separator);var h=a.split(e)[0],i=a.split(e)[1];this._maskArr[b]=[f,g,h,i,c,d]},_aplNFb:function(a,b){var c=this._maskArr[b];if(!c)return a;var d=parseFloat(a.toString().replace(/[^0-9]*/g,""));return"-"==a.toString().substr(0,1)&&(d=-1*d),c[0]>0&&(d/=Math.pow(10,c[0])),d},_aplNF:function(a,b){var c=this._maskArr[b];if(!c)return a;var d=(parseFloat(a)<0?"-":"")+c[2];if(a=Math.abs(Math.round(parseFloat(a)*Math.pow(10,c[0]>0?c[0]:0))).toString(),a=(a.length<c[0]?Math.pow(10,c[0]+1-a.length).toString().substr(1,c[0]+1)+a.toString():a).split("").reverse(),a[c[0]]=(a[c[0]]||"0")+c[4],c[1]>0)for(var e=(c[0]>0?0:1)+c[0]+c[1];e<a.length;e+=c[1])a[e]+=c[5];return d+a.reverse().join("")+c[3]},_launchCommands:function(a){for(var b=0;b<a.length;b++){for(var c=new Array,d=0;d<a[b].childNodes.length;d++)1==a[b].childNodes[d].nodeType&&(c[c.length]=a[b].childNodes[d].firstChild.data);this[a[b].getAttribute("command")].apply(this,c)}},_parseHead:function(a){var b=this.xmlLoader.doXPath("./head",a);if(b.length){var c=this.xmlLoader.doXPath("./column",b[0]),d=this.xmlLoader.doXPath("./settings",b[0]),e="setInitWidths",f=!1;if(d[0])for(var g=0;g<d[0].childNodes.length;g++)switch(d[0].childNodes[g].tagName){case"colwidth":d[0].childNodes[g].firstChild&&"%"==d[0].childNodes[g].firstChild.data&&(e="setInitWidthsP");break;case"splitat":f=d[0].childNodes[g].firstChild?d[0].childNodes[g].firstChild.data:!1}if(this._launchCommands(this.xmlLoader.doXPath("./beforeInit/call",b[0])),c.length>0){this.hdr.rows.length>0&&this.clearAll(!0);for(var h=[[],[],[],[],[],[],[],[],[]],i=["","width","type","align","sort","color","format","hidden","id"],j=["",e,"setColTypes","setColAlign","setColSorting","setColumnColor","","","setColumnIds"],k=0;k<c.length;k++){for(var l=1;l<i.length;l++)h[l].push(c[k].getAttribute(i[l]));h[0].push((c[k].firstChild?c[k].firstChild.data:"").replace(/^\s*((\s\S)*.+)\s*$/gi,"$1"))}this.setHeader(h[0]);for(var k=0;k<j.length;k++)j[k]&&this[j[k]](h[k].join(this.delim));for(var k=0;k<c.length;k++)if(0==this.cellType[k].indexOf("co")||"clist"==this.cellType[k]){var m=this.xmlLoader.doXPath("./option",c[k]);if(m.length){var n=new Array;if("clist"==this.cellType[k]){for(var l=0;l<m.length;l++)n[n.length]=m[l].firstChild?m[l].firstChild.data:"";this.registerCList(k,n)}else for(var o=this.getCombo(k),l=0;l<m.length;l++)o.put(m[l].getAttribute("value"),m[l].firstChild?m[l].firstChild.data:"")
}}else h[6][k]&&(-1!=this.cellType[k].toLowerCase().indexOf("calendar")||"date"==this.fldSort[k]?this.setDateFormat(h[6][k]):this.setNumberFormat(h[6][k],k));this.init();var p=h[7].join(this.delim);this.setColHidden&&""!=p.replace(/,/g,"")&&this.setColHidden(p),f&&this.splitAt&&this.splitAt(f)}this._launchCommands(this.xmlLoader.doXPath("./afterInit/call",b[0]))}var q=this.xmlLoader.doXPath("//rows/userdata",a);if(q.length>0){this.UserData.gridglobaluserdata||(this.UserData.gridglobaluserdata=new Hashtable);for(var l=0;l<q.length;l++){for(var r="",s=0;s<q[l].childNodes.length;s++)r+=q[l].childNodes[s].nodeValue;this.UserData.gridglobaluserdata.put(q[l].getAttribute("name"),r)}}},getCheckedRows:function(a){var b=new Array;return this.forEachRowA(function(c){var d=this.cells(c,a);d.changeState&&0!=d.getValue()&&b.push(c)},!0),b.join(",")},checkAll:function(){for(var a=arguments.length?arguments[0]:1,b=0;b<this.getColumnsNum();b++)"ch"==this.getColType(b)&&this.setCheckedRows(b,a)},uncheckAll:function(){this.checkAll(0)},setCheckedRows:function(a,b){this.forEachRowA(function(c){this.cells(c,a).isCheckbox()&&this.cells(c,a).setValue(b)})},_drawTooltip:function(a){var b=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");if(!b||this.grid.editor&&this.grid.editor.cell==b)return!0;var c=b.parentNode;if(c.idd&&"__filler__"!=c.idd){var d=a?a.target:event.srcElement;if(c.idd==window.unknown)return!0;if(!this.grid.callEvent("onMouseOver",[c.idd,b._cellIndex,a||window.event]))return!0;if(this.grid._enbTts&&!this.grid._enbTts[b._cellIndex])return d.title&&(d.title=""),!0;if(!(b._cellIndex>=this.grid._cCount)){var e=this.grid.cells3(c,b._cellIndex);if(e&&e.cell&&e.cell._attrs)return d._title&&(e.cell.title=""),e.cell._attrs.title||(d._title=!0),e&&(d.title=e.cell._attrs.title||(e.getTitle?e.getTitle():(e.getValue()||"").toString().replace(/<[^>]*>/gi,""))),!0}}},enableCellWidthCorrection:function(a){_isFF&&(this._wcorr=parseInt(a))},getAllRowIds:function(a){for(var b=[],c=0;c<this.rowsBuffer.length;c++)this.rowsBuffer[c]&&b.push(this.rowsBuffer[c].idd);return b.join(a||this.delim)},getAllItemIds:function(){return this.getAllRowIds()},setColspan:function(a,b,c){if(this._ecspn){var d=this.getRowById(a);if(d._childIndexes&&d.childNodes[d._childIndexes[b]]){var e=d._childIndexes[b],f=d.childNodes[e],g=f.colSpan;if(f.colSpan=1,g&&1!=g)for(var h=1;g>h;h++){var i=document.createElement("TD");f.nextSibling?d.insertBefore(i,f.nextSibling):d.appendChild(i),d._childIndexes[b+h]=e+h,i._cellIndex=b+h,i.style.textAlign=this.cellAlign[h],i.style.verticalAlign=this.cellVAlign[h],f=i,this.cells3(d,b+h).setValue("")}for(var j=1*b+1*g;j<d._childIndexes.length;j++)d._childIndexes[j]+=1*(g-1)}if(c&&c>1){if(d._childIndexes)var e=d._childIndexes[b];else{var e=b;d._childIndexes=new Array;for(var j=0;j<d.childNodes.length;j++)d._childIndexes[j]=j}d.childNodes[e].colSpan=c;for(var j=1;c>j;j++)d._childIndexes[d.childNodes[e+1]._cellIndex]=e,d.removeChild(d.childNodes[e+1]);for(var k=d.childNodes[d._childIndexes[b]]._cellIndex,j=1*k+1*c;j<d._childIndexes.length;j++)d._childIndexes[j]-=c-1}}},preventIECaching:function(a){this.no_cashe=convertStringToBoolean(a),this.xmlLoader.rSeed=this.no_cashe},enableColumnAutoSize:function(a){this._eCAS=convertStringToBoolean(a)},_onHeaderDblClick:function(a){var b=this.grid,c=b.getFirstParentOfType(_isIE?event.srcElement:a.target,"TD");return b._eCAS?void b.adjustColumnSize(c._cellIndexS):!1},adjustColumnSize:function(a,b){if(!this._hrrar||!this._hrrar[a]){this._notresize=!0;var c=0;this._setColumnSizeR(a,20);for(var d=1;d<this.hdr.rows.length;d++){var e=this.hdr.rows[d];e=e.childNodes[e._childIndexes?e._childIndexes[a]:a],e&&(!e.colSpan||e.colSpan<2)&&e._cellIndex==a&&(e.childNodes[0]&&"hdrcell"==e.childNodes[0].className&&(e=e.childNodes[0]),c=Math.max(c,e.scrollWidth))}for(var f=this.obj.rows.length,g=0,h=this.cellType._dhx_find("tree"),i=1;f>i;i++){var j=this.obj.rows[i];this.rowsAr[j.idd]&&(j._childIndexes&&j._childIndexes[a]!=a||!j.childNodes[a]||(g=(j.childNodes[a].innerText||j.childNodes[a].textContent||"").length*this.fontWidth,this._h2&&a==h&&(g+=22*this._h2.get[j.idd].level),g>c&&(c=g)))}c+=20+(b||0),this._setColumnSizeR(a,c),this._notresize=!1,this.setSizes()}},detachHeader:function(a,b){b=b||this.hdr;var c=b.rows[a+1];c&&c.parentNode.removeChild(c),this.setSizes()},detachFooter:function(a){this.detachHeader(a,this.ftr)},attachHeader:function(a,b,c){if("string"==typeof a&&(a=this._eSplit(a)),"string"==typeof b&&(b=b.split(this.delim)),c=c||"_aHead",this.hdr.rows.length){if(a)this._createHRow([a,b],this["_aHead"==c?"hdr":"ftr"]);else if(this[c])for(var d=0;d<this[c].length;d++)this.attachHeader.apply(this,this[c][d])}else this[c]||(this[c]=new Array),this[c][this[c].length]=[a,b,c]},_createHRow:function(a,b){if(!b){"absolute"!=this.entBox.style.position&&(this.entBox.style.position="relative");var c=document.createElement("DIV");c.className="c_ftr".substr(2),this.entBox.appendChild(c);var d=document.createElement("TABLE");d.cellPadding=d.cellSpacing=0,_isIE&&8!=_isIE||(d.width="100%",d.style.paddingRight="20px"),d.style.marginRight="20px",d.style.tableLayout="fixed",c.appendChild(d),d.appendChild(document.createElement("TBODY")),this.ftr=b=d;for(var e=d.insertRow(0),f=this.hdrLabels.length<=1?a[0].length:this.hdrLabels.length,g=0;f>g;g++)e.appendChild(document.createElement("TH")),e.childNodes[g]._cellIndex=g;_isIE&&_isIE<8?e.style.position="absolute":e.style.height="auto"}var h=a[1],c=document.createElement("TR");b.rows[0].parentNode.appendChild(c);for(var g=0;g<a[0].length;g++)if("#cspan"!=a[0][g])if("#rspan"==a[0][g]&&b.rows.length>1){for(var i=b.rows.length-2,j=!1,k=null;!j;){for(var k=b.rows[i],l=0;l<k.cells.length;l++)if(k.cells[l]._cellIndex==g){j=l+1;break}i--}k=k.cells[j-1],k.rowSpan=(k.rowSpan||1)+1}else{var m=document.createElement("TD");if(m._cellIndex=m._cellIndexS=g,this._hrrar&&this._hrrar[g]&&!_isIE&&(m.style.display="none"),"object"==typeof a[0][g])m.appendChild(a[0][g]);else if(m.innerHTML=this.forceDivInHeader?"<div class='hdrcell'>"+(a[0][g]||"&nbsp;")+"</div>":a[0][g]||"&nbsp;",-1!=(a[0][g]||"").indexOf("#")){var d=a[0][g].match(/(^|{)#([^}]+)(}|$)/);if(d){var n="_in_header_"+d[2];this[n]&&this[n](this.forceDivInHeader?m.firstChild:m,g,a[0][g].split(d[0]))}}h&&(m.style.cssText=h[g]),c.appendChild(m)}else{var k=c.cells[c.cells.length-1];k.colSpan=(k.colSpan||1)+1}_isKHTML&&(b._kTimer&&window.clearTimeout(b._kTimer),b._kTimer=window.setTimeout(function(){b.rows[1].style.display="none",window.setTimeout(function(){b.rows[1].style.display=""},1)},500))},attachFooter:function(a,b){this.attachHeader(a,b,"_aFoot")},setCellExcellType:function(a,b,c){this.changeCellType(this.getRowById(a),b,c)},changeCellType:function(a,b,c){c=c||this.cellType[b];var d=this.cells3(a,b),e=d.getValue();d.cell._cellType=c;var d=this.cells3(a,b);d.setValue(e)},setRowExcellType:function(a,b){for(var c=this.rowsAr[a],d=0;d<c.childNodes.length;d++)this.changeCellType(c,d,b)},setColumnExcellType:function(a,b){for(var c=0;c<this.rowsBuffer.length;c++)this.rowsBuffer[c]&&"TR"==this.rowsBuffer[c].tagName&&this.changeCellType(this.rowsBuffer[c],a,b);"math"==this.cellType[a]?this._strangeParams[c]=b:this.cellType[a]=b},forEachRow:function(a){for(var b in this.rowsAr)this.rowsAr[b]&&this.rowsAr[b].idd&&a.apply(this,[this.rowsAr[b].idd])},forEachRowA:function(a){for(var b=0;b<this.rowsBuffer.length;b++)this.rowsBuffer[b]&&a.call(this,this.render_row(b).idd)},forEachCell:function(a,b){var c=this.getRowById(a);if(c)for(var d=0;d<this._cCount;d++)b(this.cells3(c,d),d)},enableAutoWidth:function(a,b,c){this._awdth=[convertStringToBoolean(a),parseInt(b||99999),parseInt(c||0)],1==arguments.length&&(this.objBox.style.overflowX=a?"hidden":"auto")},updateFromXML:function(a,b,c,d){"undefined"==typeof b&&(b=!0),this._refresh_mode=[!0,b,c],this.load(a,d)},_refreshFromXML:function(a){this._f_rowsBuffer&&this.filterBy(0,""),reset=!1,window.eXcell_tree&&(eXcell_tree.prototype.setValueX=eXcell_tree.prototype.setValue,eXcell_tree.prototype.setValue=function(a){var b=this.grid._h2.get[this.cell.parentNode.idd];b&&this.cell.parentNode.valTag?this.setLabel(a):this.setValueX(a)});var b=this.cellType._dhx_find("tree");a.getXMLTopNode("rows");var c=a.doXPath("//rows")[0].getAttribute("parent")||0,d={};this._refresh_mode[2]&&(-1!=b?this._h2.forEachChild(c,function(a){d[a.id]=!0},this):this.forEachRow(function(a){d[a]=!0}));for(var e=a.doXPath("//row"),f=0;f<e.length;f++){var g=e[f],h=g.getAttribute("id");d[h]=!1;var c=g.parentNode.getAttribute("id")||c;if(this.rowsAr[h]&&"TR"!=this.rowsAr[h].tagName)this._h2?this._h2.get[h].buff.data=g:this.rowsBuffer[this.getRowIndex(h)].data=g,this.rowsAr[h]=g;else if(this.rowsAr[h])this._process_xml_row(this.rowsAr[h],g,-1),this._postRowProcessing(this.rowsAr[h],!0),this._fake&&this._fake.rowsAr[h]&&this._fake._process_xml_row(this._fake.rowsAr[h],g,-1);else if(this._refresh_mode[1]){var i={idd:h,data:g,_parser:this._process_xml_row,_locator:this._get_xml_data},j=this.rowsBuffer.length;"top"==this._refresh_mode[1]?(this.rowsBuffer.unshift(i),j=0):this.rowsBuffer.push(i),this._h2?(reset=!0,this._h2.add(h,g.parentNode.getAttribute("id")||g.parentNode.getAttribute("parent")).buff=this.rowsBuffer[this.rowsBuffer.length-1]):this._srnd&&(reset=!0),this.rowsAr[h]=g,g=this.render_row(j),this._insertRowAt(g,j?-1:0)}}if(this._refresh_mode[2])for(h in d)d[h]&&this.rowsAr[h]&&this.deleteRow(h);this._refresh_mode=null,window.eXcell_tree&&(eXcell_tree.prototype.setValue=eXcell_tree.prototype.setValueX),reset&&(this._h2?this._renderSort():this.render_dataset()),this._f_rowsBuffer&&(this._f_rowsBuffer=null,this.filterByAll())},getCustomCombo:function(a,b){var c=this.cells(a,b).cell;return c._combo||(c._combo=new dhtmlXGridComboObject),c._combo},setTabOrder:function(a){var b=a.split(this.delim);this._tabOrder=[];for(var c=this._cCount||a.length,d=0;c>d;d++)b[d]={c:parseInt(b[d]),ind:d};b.sort(function(a,b){return a.c>b.c?1:-1});for(var d=0;c>d;d++)this._tabOrder[b[d].ind]=b[d+1]&&"undefined"!=typeof b[d].c?b[d+1].ind:-1*(b[0].ind+1)},i18n:{loading:"Loading",decimal_separator:".",group_separator:","},_key_events:{k13_1_0:function(){var a=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[a+1],this.cell._cellIndex,!0)},k13_0_1:function(){var a=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[a-1],this.cell._cellIndex,!0)},k13_0_0:function(){this.editStop(),this.callEvent("onEnter",[this.row?this.row.idd:null,this.cell?this.cell._cellIndex:null]),this._still_active=!0},k9_0_0:function(){if(this.editStop(),!this.callEvent("onTab",[!0]))return!0;var a=this._getNextCell(null,1);a&&(this.selectCell(a.parentNode,a._cellIndex,this.row!=a.parentNode,!1,!0),this._still_active=!0)},k9_0_1:function(){if(this.editStop(),!this.callEvent("onTab",[!1]))return!1;var a=this._getNextCell(null,-1);a&&(this.selectCell(a.parentNode,a._cellIndex,this.row!=a.parentNode,!1,!0),this._still_active=!0)},k113_0_0:function(){this._f2kE&&this.editCell()},k32_0_0:function(){var a=this.cells4(this.cell);return a.changeState&&a.changeState()!==!1?void 0:!1},k27_0_0:function(){this.editStop(!0)},k33_0_0:function(){this.pagingOn?this.changePage(this.currentPage-1):this.scrollPage(-1)},k34_0_0:function(){this.pagingOn?this.changePage(this.currentPage+1):this.scrollPage(1)},k37_0_0:function(){return this.editor||!this.isTreeGrid()?!1:void this.collapseKids(this.row)},k39_0_0:function(){return this.editor||!this.isTreeGrid()?!1:void this.expandKids(this.row)},k40_0_0:function(){var a=this._realfake?this._fake:this;if(this.editor&&this.editor.combo)this.editor.shiftNext();else{if(!this.row.idd)return;var b=Math.max(a._r_select||0,this.getRowIndex(this.row.idd)),c=this._nextRow(b,1);if(c)a._r_select=null,this.selectCell(c,this.cell._cellIndex,!0),a.pagingOn&&a.showRow(c.idd);else{if(!this.callEvent("onLastRow",[]))return!1;this._key_events.k34_0_0.apply(this,[]),this.pagingOn&&this.rowsCol[b+1]&&this.selectCell(b+1,0,!0)}}this._still_active=!0},k38_0_0:function(){var a=this._realfake?this._fake:this;if(this.editor&&this.editor.combo)this.editor.shiftPrev();else{if(!this.row.idd)return;var b=this.getRowIndex(this.row.idd)+1;if(-1==b||this.pagingOn&&1==b)this._key_events.k33_0_0.apply(this,[]);else{var c=this._nextRow(b-1,-1);this.selectCell(c,this.cell._cellIndex,!0),a.pagingOn&&c&&a.showRow(c.idd)}}this._still_active=!0}},_build_master_row:function(){for(var a=document.createElement("DIV"),b=["<table><tr>"],c=0;c<this._cCount;c++)b.push("<td></td>");b.push("</tr></table>"),a.innerHTML=b.join(""),this._master_row=a.firstChild.rows[0]},_prepareRow:function(a){this._master_row||this._build_master_row();for(var b=this._master_row.cloneNode(!0),c=0;c<b.childNodes.length;c++)b.childNodes[c]._cellIndex=c,this._enbCid&&(b.childNodes[c].id="c_"+a+"_"+c),this.dragAndDropOff&&this.dragger.addDraggableItem(b.childNodes[c],this);return b.idd=a,b.grid=this,b},_process_jsarray_row:function(a,b){a._attrs={};for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};return this._fillRow(a,this._c_order?this._swapColumns(b):b),a},_get_jsarray_data:function(a,b){return a[b]},_process_json_row:function(a,b){return b=this._c_order?this._swapColumns(b.data):b.data,this._process_some_row(a,b)},_process_some_row:function(a,b){a._attrs={};for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};return this._fillRow(a,b),a},_get_json_data:function(a,b){return a.data[b]},_process_js_row:function(a,b){for(var c=[],d=0;d<this.columnIds.length;d++)c[d]=b[this.columnIds[d]],c[d]||0===c[d]||(c[d]="");return this._process_some_row(a,c),a._attrs=b,a},_get_js_data:function(a,b){return a[this.columnIds[b]]},_process_csv_row:function(a,b){a._attrs={};for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};return this._fillRow(a,this._c_order?this._swapColumns(b.split(this.csv.cell)):b.split(this.csv.cell)),a},_get_csv_data:function(a,b){return a.split(this.csv.cell)[b]},_process_store_row:function(a,b){for(var c=[],d=0;d<this.columnIds.length;d++)c[d]=b[this.columnIds[d]];for(var e=0;e<a.childNodes.length;e++)a.childNodes[e]._attrs={};a._attrs=b,this._fillRow(a,c)},_process_xml_row:function(a,b){var c=this.xmlLoader.doXPath(this.xml.cell,b),d=[];if(a._attrs=this._xml_attrs(b),this._ud_enabled)for(var e=this.xmlLoader.doXPath("./userdata",b),f=e.length-1;f>=0;f--){for(var g="",h=0;h<e[f].childNodes.length;h++)g+=e[f].childNodes[h].nodeValue;this.setUserData(a.idd,e[f].getAttribute("name"),g)}for(var h=0;h<c.length;h++){var i=c[this._c_order?this._c_order[h]:h];if(i){var j=a._childIndexes?a._childIndexes[h]:h,k=i.getAttribute("type");a.childNodes[j]&&(k&&(a.childNodes[j]._cellType=k),a.childNodes[j]._attrs=this._xml_attrs(i)),i.getAttribute("xmlcontent")||(i=i.firstChild?i.firstChild.data:""),d.push(i)}}for(h<c.length;h<a.childNodes.length;h++)a.childNodes[h]._attrs={};return a.parentNode&&"row"==a.parentNode.tagName&&(a._attrs.parent=a.parentNode.getAttribute("idd")),this._fillRow(a,d),a},_get_xml_data:function(a,b){for(a=a.firstChild;;){if(!a)return"";if("cell"==a.tagName&&b--,0>b)break;a=a.nextSibling}return a.firstChild?a.firstChild.data:""},_fillRow:function(a,b){this.editor&&this.editStop();for(var c=0;c<a.childNodes.length;c++)if(c<b.length||this.defVal[c]){var d=a.childNodes[c]._cellIndex,e=b[d],f=this.cells4(a.childNodes[c]);!this.defVal[d]||""!=e&&"undefined"!=typeof e||(e=this.defVal[d]),f&&f.setValue(e)}else a.childNodes[c].innerHTML="&nbsp;",a.childNodes[c]._clearCell=!0;return a},_postRowProcessing:function(a,b){a._attrs["class"]&&(a._css=a.className=a._attrs["class"]),a._attrs.locked&&(a._locked=!0),a._attrs.bgColor&&(a.bgColor=a._attrs.bgColor);for(var c=0,d=0;d<a.childNodes.length;d++){var e=a.childNodes[d],f=e._cellIndex,g=e._attrs.style||a._attrs.style;g&&(e.style.cssText+=";"+g),e._attrs["class"]&&(e.className=e._attrs["class"]),g=e._attrs.align||this.cellAlign[f],g&&(e.align=g),e.vAlign=e._attrs.valign||this.cellVAlign[f];var h=e._attrs.bgColor||this.columnColor[f];h&&(e.bgColor=h),e._attrs.colspan&&!b&&(this.setColspan(a.idd,d+c,e._attrs.colspan),c+=e._attrs.colspan-1),this._hrrar&&this._hrrar[f]&&!b&&(e.style.display="none")}this.callEvent("onRowCreated",[a.idd,a,null])},load:function(a,b,c){this.callEvent("onXLS",[this]),2==arguments.length&&"function"!=typeof b&&(c=b,b=null),c=c||"xml",this.xmlFileUrl||(this.xmlFileUrl=a),this._data_type=c,this.xmlLoader=new dtmlXMLLoaderObject(this.doLoadDetails,this,!0,this.no_cashe),this.xmlLoader.onloadAction=function(a,d,e,f,g){a.callEvent&&(g=a["_process_"+c](g),a._contextCallTimer||a.callEvent("onXLE",[a,0,0,g]),b&&(b(),b=null))},this.xmlLoader.loadXML(a)},loadXMLString:function(a,b){var c=new dtmlXMLLoaderObject(function(){});c.loadXMLString(a),this.parse(c,b,"xml")},loadXML:function(a,b){this.load(a,b,"xml")},parse:function(a,b,c){2==arguments.length&&"function"!=typeof b&&(c=b,b=null),c=c||"xml",this._data_type=c,a=this["_process_"+c](a),this._contextCallTimer||this.callEvent("onXLE",[this,0,0,a]),b&&b()},xml:{top:"rows",row:"./row",cell:"./cell",s_row:"row",s_cell:"cell",row_attrs:[],cell_attrs:[]},csv:{row:"\n",cell:","},_xml_attrs:function(a){var b={};if(a.attributes.length)for(var c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;return b},_process_xml:function(a){if(!a.doXPath){var b=new dtmlXMLLoaderObject(function(){});"string"==typeof a?b.loadXMLString(a):(b.xmlDoc=a.responseXML?a:{},b.xmlDoc.responseXML=a),a=b}if(this._refresh_mode)return this._refreshFromXML(a);this._parsing=!0;var c=a.getXMLTopNode(this.xml.top);if(c.tagName==this.xml.top){var d=c.getAttribute("dhx_security");d&&(dhtmlx.security_key=d),this._parseHead(c);var e=a.doXPath(this.xml.row,c),f=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0),g=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0),g=Math.min(g,32e6/this._srdh),h=!1;if(g&&g!=this.rowsBuffer.length&&(this.rowsBuffer[g-1]||(this.rowsBuffer.length&&(h=!0),this.rowsBuffer[g-1]=null),g<this.rowsBuffer.length&&(this.rowsBuffer.splice(g,this.rowsBuffer.length-g),h=!0)),this.isTreeGrid())return this._process_tree_xml(a);for(var i=0;i<e.length;i++)if(!this.rowsBuffer[i+f]){var j=e[i].getAttribute("id")||i+f+1;this.rowsBuffer[i+f]={idd:j,data:e[i],_parser:this._process_xml_row,_locator:this._get_xml_data},this.rowsAr[j]=e[i]}if(this.callEvent("onDataReady",[]),h&&this._srnd){var k=this.objBox.scrollTop;this._reset_view(),this.objBox.scrollTop=k}else this.render_dataset();return this._parsing=!1,a.xmlDoc.responseXML?a.xmlDoc.responseXML:a.xmlDoc}},_process_jsarray:function(data){this._parsing=!0,data&&data.xmlDoc&&(eval("dhtmlx.temp="+data.xmlDoc.responseText+";"),data=dhtmlx.temp);for(var i=0;i<data.length;i++){var id=i+1;this.rowsBuffer.push({idd:id,data:data[i],_parser:this._process_jsarray_row,_locator:this._get_jsarray_data}),this.rowsAr[id]=data[i]}this.render_dataset(),this._parsing=!1},_process_csv:function(a){if(this._parsing=!0,a.xmlDoc&&(a=a.xmlDoc.responseText),a=a.replace(/\r/g,""),a=a.split(this.csv.row),this._csvHdr){this.clearAll();var b=a.splice(0,1)[0].split(this.csv.cell);this._csvAID||b.splice(0,1),this.setHeader(b.join(this.delim)),this.init()}for(var c=0;c<a.length;c++)if(a[c]||c!=a.length-1){if(this._csvAID){var d=c+1;this.rowsBuffer.push({idd:d,data:a[c],_parser:this._process_csv_row,_locator:this._get_csv_data})}else{var e=a[c].split(this.csv.cell),d=e.splice(0,1)[0];this.rowsBuffer.push({idd:d,data:e,_parser:this._process_jsarray_row,_locator:this._get_jsarray_data})}this.rowsAr[d]=a[c]}this.render_dataset(),this._parsing=!1},_process_js:function(a){return this._process_json(a,"js")},_process_json:function(data,mode){if(this._parsing=!0,data&&data.xmlDoc&&(eval("dhtmlx.temp="+data.xmlDoc.responseText+";"),data=dhtmlx.temp),"js"==mode){data.data&&(data=data.data);for(var i=0;i<data.length;i++){var row=data[i],id=row.id||i+1;this.rowsBuffer.push({idd:id,data:row,_parser:this._process_js_row,_locator:this._get_js_data}),this.rowsAr[id]=data[i]}}else for(var i=0;i<data.rows.length;i++){var id=data.rows[i].id;this.rowsBuffer.push({idd:id,data:data.rows[i],_parser:this._process_json_row,_locator:this._get_json_data}),this.rowsAr[id]=data.rows[i]}data.dhx_security&&(dhtmlx.security_key=data.dhx_security),this.render_dataset(),this._parsing=!1},render_dataset:function(a,b){if(this._srnd){if(this._fillers)return this._update_srnd_view();b=Math.min(this._get_view_size()+(this._srnd_pr||0),this.rowsBuffer.length)}this.pagingOn?(a=Math.max(a||0,(this.currentPage-1)*this.rowsBufferOutSize),b=Math.min(this.currentPage*this.rowsBufferOutSize,this.rowsBuffer.length)):(a=a||0,b=b||this.rowsBuffer.length);for(var c=a;b>c;c++){var d=this.render_row(c);if(-1==d){this.xmlFileUrl&&this.callEvent("onDynXLS",[c,this._dpref?this._dpref:b-c])&&this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+c+"&count="+(this._dpref?this._dpref:b-c),this._data_type),b=c;break}if(d.parentNode&&d.parentNode.tagName||(this._insertRowAt(d,c),(d._attrs.selected||d._attrs.select)&&(this.selectRow(d,d._attrs.call?!0:!1,!0),d._attrs.selected=d._attrs.select=null)),this._ads_count&&c-a==this._ads_count){var e=this;return this._context_parsing=this._context_parsing||this._parsing,this._contextCallTimer=window.setTimeout(function(){e._contextCallTimer=null,e.render_dataset(c,b),e._contextCallTimer||(e._context_parsing?e.callEvent("onXLE",[]):e._fixAlterCss(),e.callEvent("onDistributedEnd",[]),e._context_parsing=!1)},this._ads_time)}}if(this._ads_count&&c==b&&this.callEvent("onDistributedEnd",[]),this._srnd&&!this._fillers){var f=this.rowsBuffer.length-b;for(this._fillers=[],this._fake&&(this._fake._fillers=[]);f>0;){var g=_isIE||window._FFrv?Math.min(f,5e4):f,h=this._add_filler(b,g);h&&this._fillers.push(h),f-=g,b+=g}}this.setSizes()},render_row:function(a){if(!this.rowsBuffer[a])return-1;if(this.rowsBuffer[a]._parser){var b=this.rowsBuffer[a];if(this.rowsAr[b.idd]&&"TR"==this.rowsAr[b.idd].tagName)return this.rowsBuffer[a]=this.rowsAr[b.idd];var c=this._prepareRow(b.idd);return this.rowsBuffer[a]=c,this.rowsAr[b.idd]=c,b._parser.call(this,c,b.data),this._postRowProcessing(c),c}return this.rowsBuffer[a]},_get_cell_value:function(a,b,c){return a._locator?(this._c_order&&(b=this._c_order[b]),a._locator.call(this,a.data,b)):this.cells3(a,b)[c?c:"getValue"]()},sortRows:function(a,b,c){if(this.editStop(),c=(c||"asc").toLowerCase(),b=b||this.fldSort[a],a=a||0,this.isTreeGrid())this.sortTreeRows(a,b,c);else{var d={},e=this.cellType[a],f="getValue";"link"==e&&(f="getContent"),("dhxCalendar"==e||"dhxCalendarA"==e)&&(f="getDate");for(var g=0;g<this.rowsBuffer.length;g++)d[this.rowsBuffer[g].idd]=this._get_cell_value(this.rowsBuffer[g],a,f);this._sortRows(a,b,c,d)}this.callEvent("onAfterSorting",[a,b,c])},_sortCore:function(a,b,c,d,e){var f="sort";if(this._sst&&(e.stablesort=this.rowsCol.stablesort,f="stablesort"),b.length>4&&(b=window[b]),"cus"==b){var g=this._customSorts[a];e[f](function(a,b){return g(d[a.idd],d[b.idd],c,a.idd,b.idd)})}else"function"==typeof b?e[f](function(a,e){return b(d[a.idd],d[e.idd],c,a.idd,e.idd)}):"str"==b?e[f](function(a,b){return"asc"==c?d[a.idd]>d[b.idd]?1:d[a.idd]<d[b.idd]?-1:0:d[a.idd]<d[b.idd]?1:d[a.idd]>d[b.idd]?-1:0}):"int"==b?e[f](function(a,b){var e=parseFloat(d[a.idd]);e=isNaN(e)?-99999999999999:e;var f=parseFloat(d[b.idd]);return f=isNaN(f)?-99999999999999:f,"asc"==c?e-f:f-e}):"date"==b&&e[f](function(a,b){var e=Date.parse(d[a.idd])||Date.parse("01/01/1900"),f=Date.parse(d[b.idd])||Date.parse("01/01/1900");return"asc"==c?e-f:f-e})},_sortRows:function(a,b,c,d){this._sortCore(a,b,c,d,this.rowsBuffer),this._reset_view(),this.callEvent("onGridReconstructed",[])},_reset_view:function(a){if(this.obj.rows[0]){this._lahRw&&this._unsetRowHover(0,!0),this.callEvent("onResetView",[]);var b=this.obj.rows[0].parentNode,c=b.removeChild(b.childNodes[0],!0);if(_isKHTML)for(var d=b.parentNode.childNodes.length-1;d>=0;d--)"TR"==b.parentNode.childNodes[d].tagName&&b.parentNode.removeChild(b.parentNode.childNodes[d],!0);else if(_isIE)for(var d=b.childNodes.length-1;d>=0;d--)b.childNodes[d].removeNode(!0);else b.innerHTML="";b.appendChild(c),this.rowsCol=dhtmlxArray(),this._sst&&this.enableStableSorting(!0),this._fillers=this.undefined,a||(_isIE&&this._srnd,this.render_dataset())}},deleteRow:function(a,b){if(b||(b=this.getRowById(a)),b){if(this.editStop(),!this._realfake&&0==this.callEvent("onBeforeRowDeleted",[a]))return!1;var c=0;if(-1==this.cellType._dhx_find("tree")||this._realfake){b.parentNode&&b.parentNode.removeChild(b);var d=this.rowsCol._dhx_find(b);-1!=d&&this.rowsCol._dhx_removeAt(d);for(var e=0;e<this.rowsBuffer.length;e++)if(this.rowsBuffer[e]&&this.rowsBuffer[e].idd==a){this.rowsBuffer._dhx_removeAt(e),d=e;break}}else c=this._h2.get[a].parent.id,this._removeTrGrRow(b);this.rowsAr[a]=null;for(var e=0;e<this.selectedRows.length;e++)this.selectedRows[e].idd==a&&this.selectedRows._dhx_removeAt(e);if(this._srnd){for(var e=0;e<this._fillers.length;e++){var f=this._fillers[e];f&&(f[0]>=d?this._update_fillers(e,0,-1):f[0]+f[1]>d&&this._update_fillers(e,-1,0))}this._update_srnd_view()}return this.pagingOn&&this.changePage(),this._realfake||this.callEvent("onAfterRowDeleted",[a,c]),this.callEvent("onGridReconstructed",[]),this._ahgr&&this.setSizes(),!0}},_addRow:function(a,b,c){(-1==c||"undefined"==typeof c)&&(c=this.rowsBuffer.length),"string"==typeof b&&(b=b.split(this.delim));var d=this._prepareRow(a);d._attrs={};for(var e=0;e<d.childNodes.length;e++)d.childNodes[e]._attrs={};if(this.rowsAr[d.idd]=d,this._h2&&(this._h2.get[d.idd].buff=d),this._fillRow(d,b),this._postRowProcessing(d),this._skipInsert)return this._skipInsert=!1,this.rowsAr[d.idd]=d;if(this.pagingOn)return this.rowsBuffer._dhx_insertAt(c,d),this.rowsAr[d.idd]=d,d;if(this._fillers){this.rowsCol._dhx_insertAt(c,null),this.rowsBuffer._dhx_insertAt(c,d),this._fake&&this._fake.rowsCol._dhx_insertAt(c,null),this.rowsAr[d.idd]=d;for(var f=!1,g=0;g<this._fillers.length;g++){var h=this._fillers[g];if(h&&h[0]<=c&&h[0]+h[1]>=c){h[1]=h[1]+1;var i=h[2].firstChild.style.height=parseInt(h[2].firstChild.style.height)+this._srdh+"px";f=!0,this._fake&&(this._fake._fillers[g][1]++,this._fake._fillers[g][2].firstChild.style.height=i)}h&&h[0]>c&&(h[0]=h[0]+1,this._fake&&this._fake._fillers[g][0]++)}return f||this._fillers.push(this._add_filler(c,1,0==c?{parentNode:this.obj.rows[0].parentNode,nextSibling:this.rowsCol[1]}:this.rowsCol[c-1])),d}return this.rowsBuffer._dhx_insertAt(c,d),this._insertRowAt(d,c)},addRow:function(a,b,c){var d=this._addRow(a,b,c);return this.dragContext||this.callEvent("onRowAdded",[a]),this.pagingOn&&this.changePage(this.currentPage),this._srnd&&this._update_srnd_view(),d._added=!0,this._ahgr&&this.setSizes(),this.callEvent("onGridReconstructed",[]),d},_insertRowAt:function(a,b,c){if(this.rowsAr[a.idd]=a,this._skipInsert)return this._skipInsert=!1,a;if(0>b||!b&&0!==parseInt(b)?b=this.rowsCol.length:b>this.rowsCol.length&&(b=this.rowsCol.length),this._cssEven){var d=a.className.replace(this._cssUnEven,"");a.className=(this._cssSP?this.getLevel(a.idd):b)%2==1?d+" "+this._cssUnEven+(this._cssSU?" "+this._cssUnEven+"_"+this.getLevel(a.idd):""):d+" "+this._cssEven+(this._cssSU?" "+this._cssEven+"_"+this.getLevel(a.idd):"")}return c||(b!=this.obj.rows.length-1&&this.rowsCol[b]?this.rowsCol[b].parentNode.insertBefore(a,this.rowsCol[b]):_isKHTML?this.obj.appendChild(a):this.obj.firstChild.appendChild(a)),this.rowsCol._dhx_insertAt(b,a),this.callEvent("onRowInserted",[a,b]),a},getRowById:function(a){var b=this.rowsAr[a];if(b){if("TR"!=b.tagName){for(var c=0;c<this.rowsBuffer.length;c++)if(this.rowsBuffer[c]&&this.rowsBuffer[c].idd==a)return this.render_row(c);if(this._h2)return this.render_row(null,b.idd)}return b}return null},cellById:function(a,b){return this.cells(a,b)},cells:function(a,b){if(0==arguments.length)return this.cells4(this.cell);var c=this.getRowById(a),d=c._childIndexes?c.childNodes[c._childIndexes[b]]:c.childNodes[b];return!d&&c._childIndexes&&(d=c.firstChild||{}),this.cells4(d)},cellByIndex:function(a,b){return this.cells2(a,b)},cells2:function(a,b){var c=this.render_row(a),d=c._childIndexes?c.childNodes[c._childIndexes[b]]:c.childNodes[b];return!d&&c._childIndexes&&(d=c.firstChild||{}),this.cells4(d)},cells3:function(a,b){var c=a._childIndexes?a.childNodes[a._childIndexes[b]]:a.childNodes[b];return this.cells4(c)},cells4:function(a){var b=window["eXcell_"+(a._cellType||this.cellType[a._cellIndex])];return b?new b(a):void 0},cells5:function(a,b){var b=b||a._cellType||this.cellType[a._cellIndex];if(!this._ecache[b]){if(window["eXcell_"+b])var c=window["eXcell_"+b];else var c=eXcell_ro;this._ecache[b]=new c(a)}return this._ecache[b].cell=a,this._ecache[b]},dma:function(a){this._ecache||(this._ecache={}),a&&!this._dma?(this._dma=this.cells4,this.cells4=this.cells5):!a&&this._dma&&(this.cells4=this._dma,this._dma=null)},getRowsNum:function(){return this.rowsBuffer.length},enableEditTabOnly:function(a){this.smartTabOrder=arguments.length>0?convertStringToBoolean(a):!0},setExternalTabOrder:function(a,b){var c=this;this.tabStart="object"==typeof a?a:document.getElementById(a);var d=this.tabStart.onkeydown;this.tabStart.onkeydown=function(a){d&&d.call(this,a);var b=a||window.event;return 9!=b.keyCode||b.shiftKey?void 0:(b.cancelBubble=!0,c.selectCell(0,0,0,0,1),c.smartTabOrder&&c.cells2(0,0).isDisabled()&&c._key_events.k9_0_0.call(c),this.blur(),!1)},_isOpera&&(this.tabStart.onkeypress=this.tabStart.onkeydown),this.tabEnd="object"==typeof b?b:document.getElementById(b);var e=this.tabEnd.onkeydown;this.tabEnd.onkeydown=this.tabEnd.onkeypress=function(a){e&&e.call(this,a);var b=a||window.event;return 9==b.keyCode&&b.shiftKey?(b.cancelBubble=!0,c.selectCell(c.getRowsNum()-1,c.getColumnCount()-1,0,0,1),c.smartTabOrder&&c.cells2(c.getRowsNum()-1,c.getColumnCount()-1).isDisabled()&&c._key_events.k9_0_1.call(c),this.blur(),!1):void 0},_isOpera&&(this.tabEnd.onkeypress=this.tabEnd.onkeydown)},uid:function(){return this._ui_seed||(this._ui_seed=(new Date).valueOf()),this._ui_seed++},clearAndLoad:function(){var a=this._pgn_skin;this._pgn_skin=null,this.clearAll(),this._pgn_skin=a,this.load.apply(this,arguments)},getStateOfView:function(){if(this.pagingOn){var a=(this.currentPage-1)*this.rowsBufferOutSize;return[this.currentPage,a,Math.min(a+this.rowsBufferOutSize,this.rowsBuffer.length),this.rowsBuffer.length]}return[Math.floor(this.objBox.scrollTop/this._srdh),Math.ceil(parseInt(this.objBox.offsetHeight)/this._srdh),this.rowsBuffer.length]}},function(){function a(a,b){this[a]=b}function b(a,b){this[a].call(this,b)}function c(a,b){this[a].call(this,b.join(this.delim))}function d(a,b){for(var c=0;c<b.length;c++)if("object"==typeof b[c]){var d=this.getCombo(c);for(var e in b[c])d.put(e,b[c][e])}}function e(a,b){function c(a,b,c){d[b]||(d[b]=[]),"object"==typeof c&&(c.toString=function(){return this.text}),d[b][a]=c}for(var d=[],e=0;e<b.length;e++)if("object"==typeof b[e]&&b[e].length)for(var f=0;f<b[e].length;f++)c(e,f,b[e][f]);else c(e,0,b[e]);for(var e=0;e<d.length;e++)for(var f=0;f<d[0].length;f++){var g=d[e][f];if(d[e][f]=(g||"").toString()||"&nbsp;",g&&g.colspan)for(var h=1;h<g.colspan;h++)c(f+h,e,"#cspan");if(g&&g.rowspan)for(var h=1;h<g.rowspan;h++)c(f,e+h,"#rspan")}this.setHeader(d[0]);for(var e=1;e<d.length;e++)this.attachHeader(d[e])}var f=[{name:"label",def:"&nbsp;",operation:"setHeader",type:e},{name:"id",def:"",operation:"columnIds",type:a},{name:"width",def:"*",operation:"setInitWidths",type:c},{name:"align",def:"left",operation:"cellAlign",type:a},{name:"valign",def:"middle",operation:"cellVAlign",type:a},{name:"sort",def:"na",operation:"fldSort",type:a},{name:"type",def:"ro",operation:"setColTypes",type:c},{name:"options",def:"",operation:"",type:d}];dhtmlx.extend_api("dhtmlXGridObject",{_init:function(a){return[a.parent]},image_path:"setImagePath",columns:"columns",rows:"rows",headers:"headers",skin:"setSkin",smart_rendering:"enableSmartRendering",css:"enableAlterCss",auto_height:"enableAutoHeight",save_hidden:"enableAutoHiddenColumnsSaving",save_cookie:"enableAutoSaving",save_size:"enableAutoSizeSaving",auto_width:"enableAutoWidth",block_selection:"enableBlockSelection",csv_id:"enableCSVAutoID",csv_header:"enableCSVHeader",cell_ids:"enableCellIds",colspan:"enableColSpan",column_move:"enableColumnMove",context_menu:"enableContextMenu",distributed:"enableDistributedParsing",drag:"enableDragAndDrop",drag_order:"enableDragOrder",tabulation:"enableEditTabOnly",header_images:"enableHeaderImages",header_menu:"enableHeaderMenu",keymap:"enableKeyboardSupport",mouse_navigation:"enableLightMouseNavigation",markers:"enableMarkedCells",math_editing:"enableMathEditing",math_serialization:"enableMathSerialization",drag_copy:"enableMercyDrag",multiline:"enableMultiline",multiselect:"enableMultiselect",save_column_order:"enableOrderSaving",hover:"enableRowsHover",rowspan:"enableRowspan",smart:"enableSmartRendering",save_sorting:"enableSortingSaving",stable_sorting:"enableStableSorting",undo:"enableUndoRedo",csv_cell:"setCSVDelimiter",date_format:"setDateFormat",drag_behavior:"setDragBehavior",editable:"setEditable",without_header:"setNoHeader",submit_changed:"submitOnlyChanged",submit_serialization:"submitSerialization",submit_selected:"submitOnlySelected",submit_id:"submitOnlyRowID",xml:"load"},{columns:function(a){for(var c=0;c<f.length;c++){for(var d=[],e=0;e<a.length;e++)d[e]=a[e][f[c].name]||f[c].def;
var g=f[c].type||b;g.call(this,f[c].operation,d,a)}this.init()},rows:function(){},headers:function(a){for(var b=0;b<a.length;b++)this.attachHeader(a[b])}})}(),dhtmlXGridObject.prototype._dp_init=function(a){a.attachEvent("insertCallback",function(a,b){this.obj._h2?this.obj.addRow(b,c,null,parent):this.obj.addRow(b,[],0);var c=this.obj.getRowById(b);c&&(this.obj._process_xml_row(c,a.firstChild),this.obj._postRowProcessing(c))}),a.attachEvent("updateCallback",function(a,b){var c=this.obj.getRowById(b);c&&(this.obj._process_xml_row(c,a.firstChild),this.obj._postRowProcessing(c))}),a.attachEvent("deleteCallback",function(a,b){this.obj.setUserData(b,this.action_param,"true_deleted"),this.obj.deleteRow(b)}),a._methods=["setRowTextStyle","setCellTextStyle","changeRowId","deleteRow"],this.attachEvent("onEditCell",function(b,c,d){if(a._columns&&!a._columns[d])return!0;var e=this.cells(c,d);return 1==b?e.isCheckbox()&&a.setUpdated(c,!0):2==b&&e.wasChanged()&&a.setUpdated(c,!0),!0}),this.attachEvent("onRowPaste",function(b){a.setUpdated(b,!0)}),this.attachEvent("onUndo",function(b){a.setUpdated(b,!0)}),this.attachEvent("onRowIdChange",function(b,c){var d=a.findRow(b);d<a.updatedRows.length&&(a.updatedRows[d]=c)}),this.attachEvent("onSelectStateChanged",function(){return"row"==a.updateMode&&a.sendData(),!0}),this.attachEvent("onEnter",function(){return"row"==a.updateMode&&a.sendData(),!0}),this.attachEvent("onBeforeRowDeleted",function(b){if(!this.rowsAr[b])return!0;if(this.dragContext&&a.dnd)return window.setTimeout(function(){a.setUpdated(b,!0)},1),!0;var c=a.getState(b);return this._h2&&this._h2.forEachChild(b,function(b){a.setUpdated(b.id,!1),a.markRow(b.id,!0,"deleted")},this),"inserted"==c?(a.set_invalid(b,!1),a.setUpdated(b,!1),!0):"deleted"==c?!1:"true_deleted"==c?(a.setUpdated(b,!1),!0):(a.setUpdated(b,!0,"deleted"),!1)}),this.attachEvent("onBindUpdate",function(b){"object"==typeof b&&(b=b.id),a.setUpdated(b,!0)}),this.attachEvent("onRowAdded",function(b){return this.dragContext&&a.dnd?!0:(a.setUpdated(b,!0,"inserted"),!0)}),a._getRowData=function(a){var b=[];b.gr_id=a,this.obj.isTreeGrid()&&(b.gr_pid=this.obj.getParentId(a));for(var c=this.obj.getRowById(a),d=0;d<this.obj._cCount;d++){if(this.obj._c_order)var e=this.obj._c_order[d];else var e=d;var f=this.obj.cells(c.idd,d);(!this._changed||f.wasChanged())&&(this._endnm?b[this.obj.getColumnId(d)]=f.getValue():b["c"+e]=f.getValue())}var g=this.obj.UserData[a];if(g)for(var h=0;h<g.keys.length;h++)g.keys[h]&&0!=g.keys[h].indexOf("__")&&(b[g.keys[h]]=g.values[h]);var g=this.obj.UserData.gridglobaluserdata;if(g)for(var h=0;h<g.keys.length;h++)b[g.keys[h]]=g.values[h];return b},a._clearUpdateFlag=function(a){var b=this.obj.getRowById(a);if(b)for(var c=0;c<this.obj._cCount;c++)this.obj.cells(a,c).cell.wasChanged=!1},a.checkBeforeUpdate=function(a){for(var b=!0,c=[],d=0;d<this.obj._cCount;d++)if(this.mandatoryFields[d]){var e=this.mandatoryFields[d].call(this.obj,this.obj.cells(a,d).getValue(),a,d);"string"==typeof e?(this.messages.push(e),b=!1):(b&=e,c[d]=!e)}return b||(this.set_invalid(a,"invalid",c),this.setUpdated(a,!1)),b}},dhtmlXGridCellObject.prototype={getAttribute:function(a){return this.cell._attrs[a]},setAttribute:function(a,b){this.cell._attrs[a]=b},getInput:function(){if(this.obj&&("INPUT"==this.obj.tagName||"TEXTAREA"==this.obj.tagName))return this.obj;var a=(this.obj||this.cell).getElementsByTagName("TEXTAREA");return a.length||(a=(this.obj||this.cell).getElementsByTagName("INPUT")),a[0]}},dhtmlXGridCellObject.prototype.setValue=function(a){"number"==typeof a||a&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a="&nbsp;",this.cell._clearCell=!0),this.setCValue(a)},dhtmlXGridCellObject.prototype.getTitle=function(){return _isIE?this.cell.innerText:this.cell.textContent},dhtmlXGridCellObject.prototype.setCValue=function(a,b){this.cell.innerHTML=a,this.grid.callEvent("onCellChanged",[this.cell.parentNode.idd,this.cell._cellIndex,arguments.length>1?b:a])},dhtmlXGridCellObject.prototype.setCTxtValue=function(a){this.cell.innerHTML="",this.cell.appendChild(document.createTextNode(a)),this.grid.callEvent("onCellChanged",[this.cell.parentNode.idd,this.cell._cellIndex,a])},dhtmlXGridCellObject.prototype.setLabel=function(a){this.cell.innerHTML=a},dhtmlXGridCellObject.prototype.getMath=function(){return this._val?this.val:this.getValue()},eXcell.prototype=new dhtmlXGridCellObject,eXcell_ed.prototype=new eXcell,eXcell_edtxt.prototype=new eXcell_ed,eXcell_edn.prototype=new eXcell_ed,eXcell_edn.prototype.setValue=function(a){return a&&""!=a.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell._orig_value=a,void this.setCValue(this.grid._aplNF(a,this.cell._cellIndex),a)):(this.cell._clearCell=!0,this.setCValue("&nbsp;",0))},eXcell_ch.prototype=new eXcell,eXcell_ch.prototype.setValue=function(a){this.cell.style.verticalAlign="middle",a&&(a=a.toString()._dhx_trim(),("false"==a||"0"==a)&&(a="")),a?(a="1",this.cell.chstate="1"):(a="0",this.cell.chstate="0");this.setCValue("<img src='"+this.grid.imgURL+"item_chk"+a+".gif' onclick='new eXcell_ch(this.parentNode).changeState(true); (arguments[0]||event).cancelBubble=true; '>",this.cell.chstate)},eXcell_ra.prototype=new eXcell_ch,eXcell_ra.prototype.setValue=function(a){if(this.cell.style.verticalAlign="middle",a&&(a=a.toString()._dhx_trim(),("false"==a||"0"==a)&&(a="")),a){if(this.grid._RaSeCol||(this.grid._RaSeCol=[]),this.grid._RaSeCol[this.cell._cellIndex]){var b=this.grid.cells4(this.grid._RaSeCol[this.cell._cellIndex]);b.setValue("0"),this.grid.rowsAr[b.cell.parentNode.idd]&&this.grid.callEvent("onEditCell",[1,b.cell.parentNode.idd,b.cell._cellIndex])}this.grid._RaSeCol[this.cell._cellIndex]=this.cell,a="1",this.cell.chstate="1"}else a="0",this.cell.chstate="0";this.setCValue("<img src='"+this.grid.imgURL+"radio_chk"+a+".gif' onclick='new eXcell_ra(this.parentNode).changeState(false);'>",this.cell.chstate)},eXcell_txt.prototype=new eXcell,eXcell_txttxt.prototype=new eXcell_txt,eXcell_txt.prototype.setValue=function(a){this.cell._brval=a,a&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a="&nbsp;",this.cell._clearCell=!0),!this.grid.multiLine||this.cell._clearCell?this.setCValue(a,this.cell._brval):this.setCValue(a.replace(/\n/g,"<br/>"),a)},eXcell_co.prototype=new eXcell,eXcell_co.prototype.getText=function(){return this.cell.innerHTML},eXcell_co.prototype.setValue=function(a){if("object"==typeof a){var b=this.grid.xmlLoader.doXPath("./option",a);b.length&&(this.cell._combo=new dhtmlXGridComboObject);for(var c=0;c<b.length;c++)this.cell._combo.put(b[c].getAttribute("value"),b[c].firstChild?b[c].firstChild.data:"");a=a.firstChild.data}if(""==(a||"").toString()._dhx_trim()&&(a=null),this.cell.combo_value=a,null!==a){var d=(this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(a);this.setCValue(null===d?a:d,a)}else this.setCValue("&nbsp;",a)},eXcell_coro.prototype=new eXcell_co,eXcell_cotxt.prototype=new eXcell_co,eXcell_cotxt.prototype.getText=function(){return _isIE?this.cell.innerText:this.cell.textContent},eXcell_cotxt.prototype.setValue=function(a){if("object"==typeof a){var b=this.grid.xmlLoader.doXPath("./option",a);b.length&&(this.cell._combo=new dhtmlXGridComboObject);for(var c=0;c<b.length;c++)this.cell._combo.put(b[c].getAttribute("value"),b[c].firstChild?b[c].firstChild.data:"");a=a.firstChild.data}""==(a||"").toString()._dhx_trim()&&(a=null),null!==a?this.setCTxtValue((this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(a)||a,a):this.setCTxtValue(" ",a),this.cell.combo_value=a},eXcell_corotxt.prototype=new eXcell_cotxt,eXcell_cp.prototype=new eXcell,eXcell_cp.prototype.setValue=function(a){this.setCValue("<div style='width:100%;height:"+(this.grid.multiLine?this.cell.offsetHeight-2:16)+";background-color:"+(a||"")+";border:0px;'>&nbsp;</div>",a),this.cell.firstChild._bg=a},eXcell_img.prototype=new eXcell,eXcell_img.prototype.getTitle=function(){return this.cell._brval},eXcell_img.prototype.setValue=function(a){var b=a;if(-1!=(a||"").indexOf("^")){var c=a.split("^");a=c[0],b=this.cell._attrs.title||c[1],c.length>2&&(this.cell.lnk=c[2],c[3]&&(this.cell.trg=c[3])),this.cell.titFl="1"}this.setCValue("<img src='"+this.grid.iconURL+(a||"")._dhx_trim()+"' border='0'>",a),this.cell.lnk&&(this.cell.innerHTML="<a href='"+this.cell.lnk+"' target='"+this.cell.trg+"'>"+this.cell.innerHTML+"</a>"),this.cell._brval=b},eXcell_price.prototype=new eXcell_ed,eXcell_price.prototype.setValue=function(a){isNaN(parseFloat(a))&&(a=this.val||0);var b="green";0>a&&(b="red"),this.setCValue("<span>$</span><span style='padding-right:2px;color:"+b+";'>"+a+"</span>",a)},eXcell_dyn.prototype=new eXcell_ed,eXcell_dyn.prototype.setValue=function(a){if((!a||isNaN(Number(a)))&&""!==a&&(a=0),a>0)var b="green",c="dyn_up.gif";else if(0==a)var b="black",c="dyn_.gif";else var b="red",c="dyn_down.gif";this.setCValue("<div style='position:relative;padding-right:2px; width:100%;overflow:hidden; white-space:nowrap;'><img src='"+this.grid.imgURL+c+"' height='15' style='position:absolute;top:0px;left:0px;'><span style=' padding-left:20px; width:100%;color:"+b+";'>"+a+"</span></div>",a)},eXcell_ro.prototype=new eXcell,window.eXcell_hidden=function(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid),this.edit=function(){},this.isDisabled=function(){return!0},this.getValue=function(){return this.cell.val}},eXcell_hidden.prototype=new eXcell,eXcell_hidden.prototype.setValue=function(a){this.cell.val=a},eXcell_ron.prototype=new eXcell,eXcell_ron.prototype.setValue=function(a){if(0===a);else if(!a||""==a.toString()._dhx_trim())return this.setCValue("&nbsp;"),this.cell._clearCell=!0;this.cell._clearCell=!1,this.setCValue(a?this.grid._aplNF(a,this.cell._cellIndex):"0")},eXcell_rotxt.prototype=new eXcell,Hashtable.prototype=new dhtmlXGridComboObject,dhtmlXGridObject.prototype.enableDragAndDrop=function(a){"temporary_disabled"==a?(this.dADTempOff=!1,a=!0):this.dADTempOff=!0,this.dragAndDropOff=convertStringToBoolean(a),this._drag_validate=!0,a&&(this.objBox.ondragstart=function(a){return(a||event).cancelBubble=!0,!1})},dhtmlXGridObject.prototype.setDragBehavior=function(a){switch(this.dadmodec=this.dadmodefix=0,a){case"child":this.dadmode=0,this._sbmod=!1;break;case"sibling":this.dadmode=1,this._sbmod=!1;break;case"sibling-next":this.dadmode=1,this._sbmod=!0;break;case"complex":this.dadmode=2,this._sbmod=!1;break;case"complex-next":this.dadmode=2,this._sbmod=!0}},dhtmlXGridObject.prototype.enableDragOrder=function(a){this._dndorder=convertStringToBoolean(a)},dhtmlXGridObject.prototype._checkParent=function(a,b){var c=this._h2.get[a.idd].parent;if(c.parent){for(var d=0;d<b.length;d++)if(b[d]==c.id)return!0;return this._checkParent(this.rowsAr[c.id],b)}},dhtmlXGridObject.prototype._createDragNode=function(a,b){if(this.editStop(),window.dhtmlDragAndDrop.dragNode)return null;if(!this.dADTempOff)return null;a.parentObject=new Object,a.parentObject.treeNod=this;var c=this.callEvent("onBeforeDrag",[a.parentNode.idd,a._cellIndex,b]);if(!c)return null;var d=new Array;d=this.getSelectedId(),d=d&&""!=d?d.split(this.delim):[];for(var e=!1,f=0;f<d.length;f++)d[f]==a.parentNode.idd&&(e=!0);if(e||(this.selectRow(this.rowsAr[a.parentNode.idd],!1,b.ctrlKey,!1),b.ctrlKey||(d=[]),d[this.selMultiRows?d.length:0]=a.parentNode.idd),this.isTreeGrid())for(var f=d.length-1;f>=0;f--)this._checkParent(this.rowsAr[d[f]],d)&&d.splice(f,1);var g=this;d.length&&this._dndorder&&d.sort(function(a,b){return g.rowsAr[a].rowIndex>g.rowsAr[b].rowIndex?1:-1});var h=this.getFirstParentOfType(_isIE?b.srcElement:b.target,"TD");h&&(this._dndExtra=h._cellIndex),this._dragged=new Array;for(var f=0;f<d.length;f++)this.rowsAr[d[f]]&&(this._dragged[this._dragged.length]=this.rowsAr[d[f]],this.rowsAr[d[f]].treeNod=this);a.parentObject.parentNode=a.parentNode;var i=document.createElement("div");return i.innerHTML=c!==!0?c:this.rowToDragElement(a.parentNode.idd),i.style.position="absolute",i.className="dragSpanDiv",i},dhtmlXGridObject.prototype._createSdrgc=function(){this._sdrgc=document.createElement("DIV"),this._sdrgc.innerHTML="&nbsp;",this._sdrgc.className="gridDragLine",this.objBox.appendChild(this._sdrgc)},dragContext.prototype.valid=function(){if(this.sobj!=this.tobj)return!0;if(this.sid==this.tid)return!1;if("treeGrid"==this.target)for(var a=this.tid;a=this.tobj.getParentId(a);)if(this.sid==a)return!1;return!0},dragContext.prototype.close=function(){this.sobj=null,this.tobj=null},dragContext.prototype.copy=function(){return new dragContext(this.source,this.target,this.mode,this.dropmode,this.sid,this.tid,this.sobj,this.tobj,this.sExtra,this.tExtra)},dragContext.prototype.set=function(a,b){return this[a]=b,this},dragContext.prototype.uid=function(){for(this.nid=this.sid;this.tobj.rowsAr[this.nid];)this.nid=this.nid+(new Date).valueOf();return this},dragContext.prototype.data=function(){return this.sobj==this.tobj?this.sobj._getRowArray(this.sobj.rowsAr[this.sid]):"tree"==this.source?this.tobj.treeToGridElement(this.sobj,this.sid,this.tid):this.tobj.gridToGrid(this.sid,this.sobj,this.tobj)},dragContext.prototype.attrs=function(){return"tree"==this.source?{}:this.sobj.rowsAr[this.sid]._attrs},dragContext.prototype.childs=function(){return"treeGrid"==this.source&&this.sobj._h2.get[this.sid]._xml_await?this.sobj._h2.get[this.sid].has_kids:null},dragContext.prototype.pid=function(){if(!this.tid)return 0;if(!this.tobj._h2)return 0;if("treeGrid"==this.target){if("child"==this.dropmode)return this.tid;var a=this.tobj.rowsAr[this.tid],b=this.tobj._h2.get[a.idd].parent.id;if(this.alfa&&this.tobj._sbmod&&a.nextSibling){var c=this.tobj._h2.get[a.nextSibling.idd].parent.id;if(c==this.tid)return this.tid;if(c!=b)return c}return b}},dragContext.prototype.ind=function(){if(this.tid==window.unknown)return this.tobj.rowsBuffer.length;"treeGrid"==this.target&&this.tobj.openItem("child"==this.dropmode?this.tid:this.tobj.getParentId(this.tid));var a=this.tobj.rowsBuffer._dhx_find(this.tobj.rowsAr[this.tid]);if(this.alfa&&this.tobj._sbmod&&"sibling"==this.dropmode){var b=this.tobj.rowsAr[this.tid];if(b.nextSibling&&this._h2.get[b.nextSibling.idd].parent.id==this.tid)return a+1}return a+1+("treeGrid"==this.target&&a>=0&&"minus"==this.tobj._h2.get[this.tobj.rowsBuffer[a].idd].state?this.tobj._getOpenLenght(this.tobj.rowsBuffer[a].idd,0):0)},dragContext.prototype.img=function(){return"grid"!=this.target&&this.sobj._h2?this.sobj.getItemImage(this.sid):null},dragContext.prototype.slist=function(){for(var a=new Array,b=0;b<this.sid.length;b++)a[a.length]=this.sid[b]["tree"==this.source?"id":"idd"];return a.join(",")},dhtmlXGridObject.prototype._drag=function(a,b,c,d){if(this._realfake)return this._fake._drag();this.lastLanding;this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer);var e=c.parentNode,f=a.parentObject;e.idd||(e.grid=this,this.dadmodefix=0);var g=new dragContext(0,0,0,1==e.grid.dadmode||e.grid.dadmodec?"sibling":"child");if(f&&f.childNodes)g.set("source","tree").set("sobj",f.treeNod).set("sid",g.sobj._dragged);else{if(!f)return!0;f.treeNod.isTreeGrid&&f.treeNod.isTreeGrid()&&g.set("source","treeGrid"),g.set("sobj",f.treeNod).set("sid",g.sobj._dragged)}e.grid.isTreeGrid()?g.set("target","treeGrid"):g.set("dropmode","sibling"),g.set("tobj",e.grid).set("tid",e.idd),2==g.tobj.dadmode&&1==g.tobj.dadmodec&&g.tobj.dadmodefix<0&&(g.tid=g.tobj.obj.rows[1].idd!=g.tid?e.previousSibling.idd:0);var h=this.getFirstParentOfType(d,"TD");if(h&&g.set("tExtra",h._cellIndex),h&&g.set("sExtra",g.sobj._dndExtra),g.sobj.dpcpy&&g.set("mode","copy"),g.tobj._realfake&&(g.tobj=g.tobj._fake),g.sobj._realfake&&(g.sobj=g.sobj._fake),g.tobj._clearMove(),f&&f.treeNod&&f.treeNod._nonTrivialRow)f.treeNod._nonTrivialRow(this,g.tid,g.dropmode,f);else{if(g.tobj.dragContext=g,!g.tobj.callEvent("onDrag",[g.slist(),g.tid,g.sobj,g.tobj,g.sExtra,g.tExtra]))return g.tobj.dragContext=null;var i=new Array;if("object"==typeof g.sid){for(var j=g.copy(),k=0;k<g.sid.length;k++)j.set("alfa",!k).set("sid",g.sid[k]["tree"==g.source?"id":"idd"]).valid()&&(j.tobj._dragRoutine(j),"treeGrid"==j.target&&"child"==j.dropmode&&j.tobj.openItem(j.tid),i[i.length]=j.nid,j.set("dropmode","sibling").set("tid",j.nid));j.close()}else g.tobj._dragRoutine(g);g.tobj.laterLink&&g.tobj.laterLink(),g.tobj.callEvent("onDrop",[g.slist(),g.tid,i.join(","),g.sobj,g.tobj,g.sExtra,g.tExtra])}g.tobj.dragContext=null,g.close()},dhtmlXGridObject.prototype._dragRoutine=function(a){if(a.sobj==a.tobj&&"grid"==a.source&&"move"==a.mode&&!this._fake){if(a.sobj._dndProblematic)return;var b=a.sobj.rowsAr[a.sid],c=a.sobj.rowsCol._dhx_find(b);if(a.sobj.rowsCol._dhx_removeAt(a.sobj.rowsCol._dhx_find(b)),a.sobj.rowsBuffer._dhx_removeAt(a.sobj.rowsBuffer._dhx_find(b)),a.sobj.rowsBuffer._dhx_insertAt(a.ind(),b),a.tobj._fake){a.tobj._fake.rowsCol._dhx_removeAt(c);var d=a.tobj._fake.rowsAr[a.sid];d.parentNode.removeChild(d)}return a.sobj._insertRowAt(b,a.ind()),a.nid=a.sid,void a.sobj.callEvent("onGridReconstructed",[])}var e;if(this._h2&&"undefined"!=typeof a.tid&&"sibling"==a.dropmode&&(this._sbmod||a.tid)?a.alfa&&this._sbmod&&this._h2.get[a.tid].childs.length?(this.openItem(a.tid),e=a.uid().tobj.addRowBefore(a.nid,a.data(),this._h2.get[a.tid].childs[0].id,a.img(),a.childs())):e=a.uid().tobj.addRowAfter(a.nid,a.data(),a.tid,a.img(),a.childs()):e=a.uid().tobj.addRow(a.nid,a.data(),a.ind(),a.pid(),a.img(),a.childs()),e._attrs=a.attrs(),"tree"==a.source){this.callEvent("onRowAdded",[a.nid]);var f=a.sobj._globalIdStorageFind(a.sid);if(f.childsCount){for(var g=a.copy().set("tid",a.nid).set("dropmode","grid"==a.target?"sibling":"child"),h=0;h<f.childsCount;h++)a.tobj._dragRoutine(g.set("sid",f.childNodes[h].id)),"move"==a.mode&&h--;g.close()}}else if(a.tobj._copyUserData(a),this.callEvent("onRowAdded",[a.nid]),"treeGrid"==a.source){a.sobj==a.tobj&&(e._xml=a.sobj.rowsAr[a.sid]._xml);var i=a.sobj._h2.get[a.sid];if(i&&i.childs.length){var g=a.copy().set("tid",a.nid);"grid"==a.target?g.set("dropmode","sibling"):(g.tobj.openItem(a.tid),g.set("dropmode","child"));for(var j=i.childs.length,h=0;j>h;h++)a.sobj.render_row_tree(null,i.childs[h].id),a.tobj._dragRoutine(g.set("sid",i.childs[h].id)),j!=i.childs.length&&(h--,j=i.childs.length);g.close()}}"move"==a.mode&&(a.sobj["tree"==a.source?"deleteItem":"deleteRow"](a.sid),a.sobj!=a.tobj||a.tobj.rowsAr[a.sid]||(a.tobj.changeRowId(a.nid,a.sid),a.nid=a.sid))},dhtmlXGridObject.prototype.gridToGrid=function(a,b){for(var c=new Array,d=0;d<b.hdr.rows[0].cells.length;d++)c[d]=b.cells(a,d).getValue();return c},dhtmlXGridObject.prototype.checkParentLine=function(a,b){return this._h2&&b&&a?a.id==b?!0:this.checkParentLine(a.parent,b):!1},dhtmlXGridObject.prototype._dragIn=function(a,b,c,d){if(!this.dADTempOff)return 0;var e=this.isTreeGrid(),f=b.parentNode.idd?b.parentNode:b.parentObject;if(this._drag_validate){if(a.parentNode==b.parentNode)return 0;if(e&&this==f.grid&&this.checkParentLine(this._h2.get[a.parentNode.idd],b.parentNode.idd))return 0}return this.callEvent("onDragIn",[f.idd||f.id,a.parentNode.idd,f.grid||f.treeNod,a.grid||a.parentNode.grid])?(this._setMove(a,c,d),e&&""!=a.parentNode.expand?(this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1e3),this._autoOpenId=a.parentNode.idd):this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer),a):this._setMove(a,c,d,!0)},dhtmlXGridObject.prototype._autoOpenItem=function(a,b){b.openItem(b._autoOpenId)},dhtmlXGridObject.prototype._dragOut=function(a){this._clearMove();var b=a.parentNode.parentObject?a.parentObject.id:a.parentNode.idd;this.callEvent("onDragOut",[b]),this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer)},dhtmlXGridObject.prototype._setMove=function(a,b,c,d){if(a.parentNode.idd){var e=getAbsoluteTop(a),f=getAbsoluteTop(this.objBox);if(e-f>parseInt(this.objBox.offsetHeight)-50&&(this.objBox.scrollTop=parseInt(this.objBox.scrollTop)+20),e-f+parseInt(this.objBox.scrollTop)<parseInt(this.objBox.scrollTop)+30&&(this.objBox.scrollTop=parseInt(this.objBox.scrollTop)-20),d)return 0;if(2==this.dadmode){var g=c-e+(document.body.scrollTop||document.documentElement.scrollTop)-2-a.offsetHeight/2;Math.abs(g)-a.offsetHeight/6>0?(this.dadmodec=1,this.dadmodefix=0>g?-1:1):this.dadmodec=0}else this.dadmodec=this.dadmode;if(this.dadmodec)this._sdrgc||this._createSdrgc(),this._sdrgc.style.display="block",this._sdrgc.style.top=e-f+parseInt(this.objBox.scrollTop)+(this.dadmodefix>=0?a.offsetHeight:0)+"px";else if(this._llSelD=a,"TR"==a.parentNode.tagName)for(var h=0;h<a.parentNode.childNodes.length;h++){var g=a.parentNode.childNodes[h];g._bgCol=g.style.backgroundColor,g.style.backgroundColor="#FFCCCC"}}},dhtmlXGridObject.prototype._clearMove=function(){if(this._sdrgc&&(this._sdrgc.style.display="none"),this._llSelD&&"TR"==this._llSelD.parentNode.tagName)for(var a=this._llSelD.parentNode.childNodes,b=0;b<a.length;b++)a[b].style.backgroundColor=a[b]._bgCol;this._llSelD=null},dhtmlXGridObject.prototype.rowToDragElement=function(a){var b=this.cells(a,0).getValue();return b},dhtmlXGridObject.prototype._copyUserData=function(a){if(!a.tobj.UserData[a.nid]||a.tobj!=a.sobj){a.tobj.UserData[a.nid]=new Hashtable;var b=a.sobj.UserData[a.sid],c=a.tobj.UserData[a.nid];b&&(c.keys=c.keys.concat(b.keys),c.values=c.values.concat(b.values))}},dhtmlXGridObject.prototype.moveRow=function(a,b,c,d){switch(b){case"row_sibling":this.moveRowTo(a,c,"move","sibling",this,d);break;case"up":this.moveRowUp(a);break;case"down":this.moveRowDown(a)}},dhtmlXGridObject.prototype._nonTrivialNode=function(a,b,c,d,e){if(a.callEvent&&!e&&!a.callEvent("onDrag",[d.idd,b.id,c?c.id:null,this,a]))return!1;for(var f=d.idd,g=f;a._idpull[g];)g+=(new Date).getMilliseconds().toString();var h=this.isTreeGrid()?this.getItemImage(f):"";if(c){for(k=0;k<b.childsCount&&b.childNodes[k]!=c;k++);0!=k?c=b.childNodes[k-1]:(st="TOP",c="")}var i=a._attachChildNode(b,g,this.gridToTreeElement(a,g,f),"",h,h,h,"","",c);if(this._h2){var j=this._h2.get[f];if(j.childs.length)for(var k=0;k<j.childs.length;k++)this._nonTrivialNode(a,i,0,this.rowsAr[j.childs[k].id],1),this.dpcpy||k--}this.dpcpy||this.deleteRow(f),a.callEvent&&!e&&a.callEvent("onDrop",[g,b.id,c?c.id:null,this,a])},dhtmlXGridObject.prototype.gridToTreeElement=function(a,b,c){return this.cells(c,0).getValue()},dhtmlXGridObject.prototype.treeToGridElement=function(a,b){var c=new Array,d=this.cellType._dhx_find("tree");-1==d&&(d=0);for(var e=0;e<this.getColumnCount();e++)c[c.length]=e!=d?a.getUserData(b,this.getColumnId(e))||"":a.getItemText(b);return c},dhtmlXGridObject.prototype.moveRowTo=function(a,b,c,d,e,f){var g=new dragContext((e||this).isTreeGrid()?"treeGrid":"grid",(f||this).isTreeGrid()?"treeGrid":"grid",c,d||"sibling",a,b,e||this,f||this);return g.tobj._dragRoutine(g),g.close(),g.nid},dhtmlXGridObject.prototype.enableMercyDrag=function(a){this.dpcpy=convertStringToBoolean(a)},dhtmlXGridObject.prototype.toPDF=function(a,b,c,d,e,f){function g(a){for(var b=[],e=1;e<p.hdr.rows.length;e++){b[e]=[];for(var f=0;f<p._cCount;f++){var g=p.hdr.rows[e].childNodes[f];b[e][f]||(b[e][f]=[0,0]),g&&(b[e][g._cellIndexS]=[g.colSpan,g.rowSpan])}}var h="<rows profile='"+a+"'";c&&(h+=" header='"+c+"'"),d&&(h+=" footer='"+d+"'"),h+="><head>"+p._serialiseExportConfig(b).replace(/^<head/,"<columns").replace(/head>$/,"columns>");for(var e=2;e<p.hdr.rows.length;e++){for(var j=0,k=p.hdr.rows[e],l="",f=0;f<p._cCount;f++)if(p._srClmn&&!p._srClmn[f]||p._hrrar[f]&&(!p._fake||f>=p._fake.hdrLabels.length))j++;else{var m=b[e][f],n=m[0]&&m[0]>1?' colspan="'+m[0]+'" ':"";m[1]&&m[1]>1&&(n+=' rowspan="'+m[1]+'" ',j=-1);var o="",q=k;p._fake&&f<p._fake._cCount&&(q=p._fake.hdr.rows[e]);for(var r=0;r<q.cells.length;r++)if(q.cells[r]._cellIndexS==f){o=q.cells[r].getElementsByTagName("SELECT").length?"":_isIE?q.cells[r].innerText:q.cells[r].textContent,o=o.replace(/[ \n\r\t\xA0]+/," ");break}o&&" "!=o||j++,l+="<column"+n+"><![CDATA["+o+"]]></column>"}j!=p._cCount&&(h+="\n<columns>"+l+"</columns>")}return h+="</head>\n",h+=i()}function h(){var a=[];if(e)for(var b=0;b<e.length;b++)a.push(k(p.getRowIndex(e[b])));else for(var b=0;b<p.getRowsNum();b++)a.push(k(b));return a.join("\n")}function i(){var a=["<foot>"];if(!p.ftr)return"";for(var b=1;b<p.ftr.rows.length;b++){a.push("<columns>");for(var c=p.ftr.rows[b],d=0;d<p._cCount;d++)if(!(p._srClmn&&!p._srClmn[d]||p._hrrar[d]&&(!p._fake||d>=p._fake.hdrLabels.length))){for(var e=0;e<c.cells.length;e++){var f="",g="";if(c.cells[e]._cellIndexS==d){f=_isIE?c.cells[e].innerText:c.cells[e].textContent,f=f.replace(/[ \n\r\t\xA0]+/," "),c.cells[e].colSpan&&1!=c.cells[e].colSpan&&(g=" colspan='"+c.cells[e].colSpan+"' "),c.cells[e].rowSpan&&1!=c.cells[e].rowSpan&&(g=" rowspan='"+c.cells[e].rowSpan+"' ");break}}a.push("<column"+g+"><![CDATA["+f+"]]></column>")}a.push("</columns>")}return a.push("</foot>"),a.join("\n")}function j(a,b){return(window.getComputedStyle?window.getComputedStyle(a,null)[b]:a.currentStyle?a.currentStyle[b]:null)||""}function k(a){if(!p.rowsBuffer[a])return"";var b=p.render_row(a);if("none"==b.style.display)return"";for(var c=p.isTreeGrid()?' level="'+p.getLevel(b.idd)+'"':"",d="<row"+c+">",e=0;e<p._cCount;e++)if((!p._srClmn||p._srClmn[e])&&(!p._hrrar[e]||p._fake&&e<p._fake.hdrLabels.length)){var f=p.cells(b.idd,e);if(o){var g=j(f.cell,"color"),h=j(f.cell,"backgroundColor"),i=j(f.cell,"font-weight")||j(f.cell,"fontWeight"),k=j(f.cell,"font-style")||j(f.cell,"fontStyle"),l=j(f.cell,"text-align")||j(f.cell,"textAlign"),m=j(f.cell,"font-family")||j(f.cell,"fontFamily");("transparent"==h||"rgba(0, 0, 0, 0)"==h)&&(h="rgb(255,255,255)"),d+="<cell bgColor='"+h+"' textColor='"+g+"' bold='"+i+"' italic='"+k+"' align='"+l+"' font='"+m+"'>"}else d+="<cell>";d+="<![CDATA["+(f.getContent?f.getContent():f.getTitle())+"]]></cell>"}return d+"</row>"}function l(){var a="</rows>";return a}var m={row:this.getSelectedRowId(),col:this.getSelectedCellIndex()};if(null===m.row||-1===m.col)m=!1;else{var n=this.cells(m.row,m.col).cell;n.parentNode.className=n.parentNode.className.replace(" rowselected",""),n.className=n.className.replace(" cellselected",""),m.el=n}b=b||"color";var o="full_color"==b,p=this;p._asCDATA=!0,this.target="undefined"==typeof f?' target="_blank"':f,eXcell_ch.prototype.getContent=function(){return this.getValue()},eXcell_ra.prototype.getContent=function(){return this.getValue()};var q=document.createElement("div");q.style.display="none",document.body.appendChild(q);var r="form_"+p.uid();q.innerHTML='<form id="'+r+'" method="post" action="'+a+'" accept-charset="utf-8"  enctype="application/x-www-form-urlencoded"'+this.target+'><input type="hidden" name="grid_xml" id="grid_xml"/> </form>',document.getElementById(r).firstChild.value=encodeURIComponent(g(b).replace("–","-")+h()+l()),document.getElementById(r).submit(),q.parentNode.removeChild(q),p=null,m&&(m.el.parentNode.className+=" rowselected",m.el.className+=" cellselected"),m=null},dhtmlXGridObject.prototype._serialiseExportConfig=function(a){function b(a){return"string"!=typeof a?a:(a=a.replace(/&/g,"&amp;"),a=a.replace(/"/g,"&quot;"),a=a.replace(/'/g,"&apos;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"))}for(var c="<head>",d=0;d<this.hdr.rows[0].cells.length;d++)if(!(this._srClmn&&!this._srClmn[d]||this._hrrar[d]&&(!this._fake||d>=this._fake.hdrLabels.length))){var e=this.fldSort[d];"cus"==e&&(e=this._customSorts[d].toString(),e=e.replace(/function[\ ]*/,"").replace(/\([^\f]*/,""));var f=a[1][d],g=(f[1]&&f[1]>1?' rowspan="'+f[1]+'" ':"")+(f[0]&&f[0]>1?' colspan="'+f[0]+'" ':"");c+="<column "+g+" width='"+this.getColWidth(d)+"' align='"+this.cellAlign[d]+"' type='"+this.cellType[d]+"' hidden='"+(this.isColumnHidden&&this.isColumnHidden(d)?"true":"false")+"' sort='"+(e||"na")+"' color='"+(this.columnColor[d]||"")+"'"+(this.columnIds[d]?" id='"+this.columnIds[d]+"'":"")+">",c+=this._asCDATA?"<![CDATA["+this.getHeaderCol(d)+"]]>":this.getHeaderCol(d);var h=this.combos[d]?this.getCombo(d):null;if(h)for(var i=0;i<h.keys.length;i++)c+="<option value='"+b(h.keys[i])+"'><![CDATA["+h.values[i]+"]]></option>";c+="</column>"}return c+="</head>"},window.eXcell_sub_row_grid&&(window.eXcell_sub_row_grid.prototype.getContent=function(){return""}),dhtmlXGridObject.prototype.toExcel=function(a,b,c,d,e){if(!document.getElementById("ifr")){var f=document.createElement("iframe");f.style.display="none",f.setAttribute("name","dhx_export_iframe"),f.setAttribute("src",""),f.setAttribute("id","dhx_export_iframe"),document.body.appendChild(f)}var g=' target="dhx_export_iframe"';this.toPDF(a,b,c,d,e,g)},dhtmlXGridObject.prototype.filterBy=function(a,b,c){if(this.isTreeGrid())return this.filterTreeBy(a,b,c);if(this._f_rowsBuffer?c||(this.rowsBuffer=dhtmlxArray([].concat(this._f_rowsBuffer)),this._fake&&(this._fake.rowsBuffer=this.rowsBuffer)):this._f_rowsBuffer=[].concat(this.rowsBuffer),this.rowsBuffer.length){if(this.dma(!0),"object"==typeof a)for(var d=0;d<b.length;d++)this._filterA(a[d],b[d]);else this._filterA(a,b);this.dma(!1),this.pagingOn&&this.rowsBuffer.length/this.rowsBufferOutSize<this.currentPage-1&&this.changePage(0),this._reset_view(),this.callEvent("onGridReconstructed",[])}},dhtmlXGridObject.prototype._filterA=function(a,b){if(""!=b){var c=!0;if("function"==typeof b?c=!1:b=(b||"").toString().toLowerCase(),this.rowsBuffer.length)for(var d=this.rowsBuffer.length-1;d>=0;d--)(c?-1!=this._get_cell_value(this.rowsBuffer[d],a).toString().toLowerCase().indexOf(b):b.call(this,this._get_cell_value(this.rowsBuffer[d],a),this.rowsBuffer[d].idd))||this.rowsBuffer.splice(d,1)}},dhtmlXGridObject.prototype.getFilterElement=function(a){if(this.filters){for(var b=0;b<this.filters.length;b++)if(this.filters[b][1]==a)return this.filters[b][0].combo||this.filters[b][0];return null}},dhtmlXGridObject.prototype.collectValues=function(a){var b=this.callEvent("onCollectValues",[a]);if(b!==!0)return b;if(this.isTreeGrid())return this.collectTreeValues(a);this.dma(!0),this._build_m_order(),a=this._m_order?this._m_order[a]:a;for(var c={},d=[],e=this._f_rowsBuffer||this.rowsBuffer,f=0;f<e.length;f++){var g=this._get_cell_value(e[f],a);!g||e[f]._childIndexes&&e[f]._childIndexes[a]==e[f]._childIndexes[a-1]||(c[g]=!0)}this.dma(!1);var h=this.combos[a]||(this._col_combos?this._col_combos[a]:!1);for(var i in c)c[i]===!0&&(h&&(h.get&&h.get(i)?i=h.get(i):h.getOption&&h.getOption(i)&&(i=h.getOption(i).text)),d.push(i));return d.sort()},dhtmlXGridObject.prototype._build_m_order=function(){if(this._c_order){this._m_order=[];for(var a=0;a<this._c_order.length;a++)this._m_order[this._c_order[a]]=a}},dhtmlXGridObject.prototype.filterByAll=function(){var a=[],b=[];this._build_m_order();for(var c=0;c<this.filters.length;c++){var d=this._m_order?this._m_order[this.filters[c][1]]:this.filters[c][1];if(!(d>=this._cCount)){b.push(d);var e=this.filters[c][0].old_value=this.filters[c][0].value;this.filters[c][0]._filter&&(e=this.filters[c][0]._filter());var f;"function"!=typeof e&&(f=this.combos[d]||(this._col_combos?this._col_combos[d]:!1))&&(f.values?(d=f.values._dhx_find(e),e=-1==d?e:f.keys[d]):f.getOptionByLabel&&(e=f.getOptionByLabel(e)?f.getOptionByLabel(e).value:e)),a.push(e)}}this.callEvent("onFilterStart",[b,a])&&(this.filterBy(b,a),this._cssEven&&this._fixAlterCss(),this.callEvent("onFilterEnd",[this.filters]),this._f_rowsBuffer&&this.rowsBuffer.length==this._f_rowsBuffer.length&&(this._f_rowsBuffer=null))},dhtmlXGridObject.prototype.makeFilter=function(a,b){if(this.filters||(this.filters=[]),"object"!=typeof a&&(a=document.getElementById(a)),a){var c=this;if(a.style.width||(a.style.width="90%"),"SELECT"==a.tagName)this.filters.push([a,b]),this._loadSelectOptins(a,b),a.onchange=function(){c.filterByAll()},_isIE&&(a.style.marginTop="1px"),this.attachEvent("onEditCell",function(c,d,e){return this._build_m_order(),2==c&&this.filters&&(this._m_order?e==this._m_order[b]:e==b)&&this._loadSelectOptins(a,b),!0});else if("INPUT"==a.tagName)this.filters.push([a,b]),a.old_value=a.value="",a.onkeydown=function(){this._timer&&window.clearTimeout(this._timer),this._timer=window.setTimeout(function(){a.value!=a.old_value&&(c.filterByAll(),a.old_value=a.value)
},500)};else if("DIV"==a.tagName&&"combo"==a.className){this.filters.push([a,b]),a.style.padding="0px",a.style.margin="0px",window.dhx_globalImgPath||(window.dhx_globalImgPath=this.imgURL);var d=new dhtmlXCombo(a,"_filter","90%");d.filterSelfA=d.filterSelf,d.filterSelf=function(){0==this.getSelectedIndex()&&this.setComboText(""),this.filterSelfA.apply(this,arguments),this.optionsArr[0].hide(!1)},d.enableFilteringMode(!0),a.combo=d,a.value="",this._loadComboOptins(a,b),d.attachEvent("onChange",function(){a.value=d.getSelectedValue(),null===a.value&&(a.value=""),c.filterByAll()})}a.parentNode&&(a.parentNode.className+=" filter"),this._filters_ready()}},dhtmlXGridObject.prototype.findCell=function(a,b,c,d){var d=d||function(a,b){return-1!=b.toString().toLowerCase().indexOf(a)};d===!0&&(d=function(a,b){return b.toString().toLowerCase()==a});var e=new Array;if(a=a.toString().toLowerCase(),"number"!=typeof c&&(c=c?1:0),!this.rowsBuffer.length)return e;for(var f=b||0;f<this._cCount;f++){if(this._h2)this._h2.forEachChild(0,function(b){return c&&e.length==c?e:void(d(a,this._get_cell_value(b.buff,f))&&e.push([b.id,f]))},this);else for(var g=0;g<this.rowsBuffer.length;g++)if(d(a,this._get_cell_value(this.rowsBuffer[g],f))&&(e.push([this.rowsBuffer[g].idd,f]),c&&e.length==c))return e;if("undefined"!=typeof b)return e}return e},dhtmlXGridObject.prototype.makeSearch=function(a,b,c){if("object"!=typeof a&&(a=document.getElementById(a)),a){var d=this;"INPUT"==a.tagName&&(a.onkeypress=function(){this._timer&&window.clearTimeout(this._timer),this._timer=window.setTimeout(function(){if(""!=a.value){var e=d.findCell(a.value,b,!0,c);e.length&&(d._h2&&d.openItem(e[0][0]),d.selectCell(d.getRowIndex(e[0][0]),b||0))}},500)}),a.parentNode&&(a.parentNode.className+=" filter")}},dhtmlXGridObject.prototype._loadSelectOptins=function(a,b){var c=this.collectValues(b),d=a.value;a.innerHTML="",a.options[0]=new Option("","");for(var e=this._filter_tr?this._filter_tr[b]:null,f=0;f<c.length;f++)a.options[a.options.length]=new Option(e?e(c[f]):c[f],c[f]);a.value=d},dhtmlXGridObject.prototype.setSelectFilterLabel=function(a,b){this._filter_tr||(this._filter_tr=[]),this._filter_tr[a]=b},dhtmlXGridObject.prototype._loadComboOptins=function(a,b){if(a.combo){var c=this.collectValues(b);a.combo.clearAll();for(var d=[["",""]],e=0;e<c.length;e++)d.push([c[e],c[e]]);a.combo.addOption(d)}},dhtmlXGridObject.prototype.refreshFilters=function(){if(this.filters)for(var a=0;a<this.filters.length;a++)switch(this.filters[a][0].tagName.toLowerCase()){case"input":break;case"select":this._loadSelectOptins.apply(this,this.filters[a]);break;case"div":this._loadComboOptins.apply(this,this.filters[a])}},dhtmlXGridObject.prototype._filters_ready=function(){this.attachEvent("onXLE",this.refreshFilters),this.attachEvent("onRowCreated",function(a,b){if(this._f_rowsBuffer)for(var c=0;c<this._f_rowsBuffer.length;c++)if(this._f_rowsBuffer[c].idd==a)return this._f_rowsBuffer[c]=b}),this.attachEvent("onClearAll",function(){this._f_rowsBuffer=null,this.hdr.rows.length||(this.filters=[])}),this.attachEvent("onSetSizes",this._filters_resize_combo),this.attachEvent("onResize",this._filters_resize_combo),this._filters_ready=function(){}},dhtmlXGridObject.prototype._filters_resize_combo=function(){if(this.filters){for(var a=0;a<this.filters.length;a++)null!=this.filters[a][0].combo&&this.filters[a][0].combo.setSize(Math.round(90*this.filters[a][0].offsetWidth/100));return!0}},dhtmlXGridObject.prototype._in_header_text_filter=function(a,b){a.innerHTML="<input type='text'>",a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0,!0},a.onselectstart=function(){return event.cancelBubble=!0},this.makeFilter(a.firstChild,b)},dhtmlXGridObject.prototype._in_header_text_filter_inc=function(a,b){a.innerHTML="<input type='text'>",a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0,!0},a.onselectstart=function(){return event.cancelBubble=!0},this.makeFilter(a.firstChild,b),a.firstChild._filter=function(){return""==a.firstChild.value?"":function(b){return 0==b.toString().toLowerCase().indexOf(a.firstChild.value.toLowerCase())}},this._filters_ready()},dhtmlXGridObject.prototype._in_header_select_filter=function(a,b){a.innerHTML="<select></select>",a.onclick=function(a){return(a||event).cancelBubble=!0,!1},this.makeFilter(a.firstChild,b)},dhtmlXGridObject.prototype._in_header_select_filter_strict=function(a,b){a.innerHTML="<select style='width:90%; font-size:8pt; font-family:Tahoma;'></select>",a.onclick=function(a){return(a||event).cancelBubble=!0,!1},this.makeFilter(a.firstChild,b);var c=this.combos;a.firstChild._filter=function(){var d=a.firstChild.value;return d?(c[b]&&(d=c[b].keys[c[b].values._dhx_find(d)]),d=d.toLowerCase(),function(a){return a.toString().toLowerCase()==d}):""},this._filters_ready()},dhtmlXGridObject.prototype._in_header_combo_filter=function(a,b){a.innerHTML="<div style='width:100%; padding-left:2px; overflow:hidden; ' class='combo'></div>",a.onselectstart=function(){return event.cancelBubble=!0},a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0,!0},this.makeFilter(a.firstChild,b)},dhtmlXGridObject.prototype._search_common=function(a){a.innerHTML="<input type='text' style='width:90%; '>",a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0,!0},a.onselectstart=function(){return event.cancelBubble=!0}},dhtmlXGridObject.prototype._in_header_text_search=function(a,b){this._search_common(a,b),this.makeSearch(a.firstChild,b)},dhtmlXGridObject.prototype._in_header_text_search_strict=function(a,b){this._search_common(a,b),this.makeSearch(a.firstChild,b,!0)},dhtmlXGridObject.prototype._in_header_numeric_filter=function(a,b){this._in_header_text_filter.call(this,a,b),a.firstChild._filter=function(){var a,b=this.value,c="==",d=parseFloat(b.replace("=","")),e=null;return b?-1!=b.indexOf("..")?(b=b.split(".."),d=parseFloat(b[0]),e=parseFloat(b[1]),function(a){return a>=d&&e>=a?!0:!1}):(a=b.match(/>=|<=|>|</),a&&(c=a[0],d=parseFloat(b.replace(c,""))),Function("v"," if (v "+c+" "+d+" ) return true; return false;")):""}},dhtmlXGridObject.prototype._in_header_master_checkbox=function(a,b,c){a.innerHTML=c[0]+"<input type='checkbox' />"+c[1];var d=this;a.getElementsByTagName("input")[0].onclick=function(a){d._build_m_order();var c=d._m_order?d._m_order[b]:b,e=this.checked?1:0;d.forEachRowA(function(a){var b=this.cells(a,c);b.isCheckbox()&&(b.setValue(e),b.cell.wasChanged=!0),this.callEvent("onEditCell",[1,a,c,e]),this.callEvent("onCheckbox",[a,c,e])}),(a||event).cancelBubble=!0}},dhtmlXGridObject.prototype._in_header_stat_total=function(a,b,c){var d=function(){var a=0;this._build_m_order();for(var c=this._m_order?this._m_order[b]:b,d=0;d<this.rowsBuffer.length;d++){var e=parseFloat(this._get_cell_value(this.rowsBuffer[d],c));a+=isNaN(e)?0:e}return this._maskArr[c]?this._aplNF(a,c):Math.round(100*a)/100};this._stat_in_header(a,d,b,c,c)},dhtmlXGridObject.prototype._in_header_stat_multi_total=function(a,b,c){var d=c[1].split(":");c[1]="";for(var e=0;e<d.length;e++)d[e]=parseInt(d[e]);for(var f=function(){for(var a=0,c=0;c<this.rowsBuffer.length;c++){for(var e=1,f=0;f<d.length;f++)e*=parseFloat(this._get_cell_value(this.rowsBuffer[c],d[f]));a+=isNaN(e)?0:e}return this._maskArr[b]?this._aplNF(a,b):Math.round(100*a)/100},g=[],h=0;h<d.length;h++)g[d[h]]=!0;this._stat_in_header(a,f,g,c,c)},dhtmlXGridObject.prototype._in_header_stat_max=function(a,b,c){var d=function(){this._build_m_order();var a=this._m_order?this._m_order[b]:b,c=-999999999;if(0==this.getRowsNum())return"&nbsp;";for(var d=0;d<this.rowsBuffer.length;d++)c=Math.max(c,parseFloat(this._get_cell_value(this.rowsBuffer[d],a)));return this._maskArr[b]?this._aplNF(c,b):c};this._stat_in_header(a,d,b,c)},dhtmlXGridObject.prototype._in_header_stat_min=function(a,b,c){var d=function(){this._build_m_order();var a=this._m_order?this._m_order[b]:b,c=999999999;if(0==this.getRowsNum())return"&nbsp;";for(var d=0;d<this.rowsBuffer.length;d++)c=Math.min(c,parseFloat(this._get_cell_value(this.rowsBuffer[d],a)));return this._maskArr[b]?this._aplNF(c,b):c};this._stat_in_header(a,d,b,c)},dhtmlXGridObject.prototype._in_header_stat_average=function(a,b,c){var d=function(){this._build_m_order();var a=this._m_order?this._m_order[b]:b,c=0,d=0;if(0==this.getRowsNum())return"&nbsp;";for(var e=0;e<this.rowsBuffer.length;e++){var f=parseFloat(this._get_cell_value(this.rowsBuffer[e],a));c+=isNaN(f)?0:f,d++}return this._maskArr[b]?this._aplNF(c/d,b):Math.round(c/d*100)/100};this._stat_in_header(a,d,b,c)},dhtmlXGridObject.prototype._in_header_stat_count=function(a,b,c){var d=function(){return this.getRowsNum()};this._stat_in_header(a,d,b,c)},dhtmlXGridObject.prototype._stat_in_header=function(a,b,c,d){var e=function(){this.dma(!0),a.innerHTML=(d[0]?d[0]:"")+b.call(this)+(d[1]?d[1]:""),this.dma(!1),this.callEvent("onStatReady",[])};this._stat_events||(this._stat_events=[],this.attachEvent("onClearAll",function(){if(!this.hdr.rows[1]){for(var a=0;a<this._stat_events.length;a++)for(var b=0;4>b;b++)this.detachEvent(this._stat_events[a][b]);this._stat_events=[]}})),this._stat_events.push([this.attachEvent("onGridReconstructed",e),this.attachEvent("onXLE",e),this.attachEvent("onFilterEnd",e),this.attachEvent("onEditCell",function(a,b,d){return 2==a&&(d==c||c&&c[d])&&e.call(this),!0})]),a.innerHTML=""},dhtmlXGridObject.prototype.loadCSVFile=function(a,b){this.load(a,b,"csv")},dhtmlXGridObject.prototype.enableCSVAutoID=function(a){this._csvAID=convertStringToBoolean(a)},dhtmlXGridObject.prototype.enableCSVHeader=function(a){this._csvHdr=convertStringToBoolean(a)},dhtmlXGridObject.prototype.setCSVDelimiter=function(a){this.csv.cell=a},dhtmlXGridObject.prototype._csvAID=!0,dhtmlXGridObject.prototype.loadCSVString=function(a){this.parse(a,"csv")},dhtmlXGridObject.prototype.serializeToCSV=function(a){this.editStop(),this._agetm=this._mathSerialization?"getMathValue":this._strictText||a?"getTitle":"getValue";var b=[];if(this._csvHdr)for(var c=1;c<this.hdr.rows.length;c++){for(var d=[],e=0;e<this._cCount;e++)(!this._srClmn||this._srClmn[e])&&d.push(this.getColumnLabel(e,c-1));b.push(this.csvParser.str(d,this.csv.cell,this.csv.row))}var e=0,f=this.rowsBuffer.length;for(e;f>e;e++){var g=this._serializeRowToCVS(null,e);""!=g&&b.push(g)}return this.csvParser.block(b,this.csv.row)},dhtmlXGridObject.prototype._serializeRowToCVS=function(a,b,c,d){var e=new Array;a||(a=this.render_row(b),this._fake&&!this._fake.rowsAr[a.idd]&&this._fake.render_row(b)),this._csvAID||(e[e.length]=a.idd),c=c||0,d=d||this._cCount;for(var f=!1,g=c;a.childNodes[c]._cellIndex>g&&c;)c--;for(var h=c;d>g&&a.childNodes[h];h++){var i=a.childNodes[h]._cellIndex;if(this._srClmn&&!this._srClmn[i]||this._serialize_visible&&this._hrrar[i])g++;else{for(var j=a.childNodes[h],k=this.cells(a.idd,i);g!=i&&(g++,e.push(""),!(g>=d)););if(g>=d)break;if(g++,zxVal=k.cell?k[this._agetm]():"",this._chAttr&&k.wasChanged()&&(f=!0),e[e.length]=null===zxVal?"":zxVal,this._ecspn&&j.colSpan&&j.colSpan>1){j=j.colSpan-1;for(var l=0;j>l;l++)e[e.length]="",g++}}}return this._onlChAttr&&!f?"":this.csvParser.str(e,this.csv.cell,this.csv.row)},dhtmlXGridObject.prototype.toClipBoard=function(a){window.clipboardData?window.clipboardData.setData("Text",a):(new Clipboard).copy(a)},dhtmlXGridObject.prototype.fromClipBoard=function(){return window.clipboardData?window.clipboardData.getData("Text"):(new Clipboard).paste()},dhtmlXGridObject.prototype.cellToClipboard=function(a,b){if(!a||!b){if(!this.selectedRows[0])return;a=this.selectedRows[0].idd,b=this.cell._cellIndex}var c=this.cells(a,b);this.toClipBoard(((c.getLabel?c.getLabel():c.getValue())||"").toString())},dhtmlXGridObject.prototype.updateCellFromClipboard=function(a,b){if(!a||!b){if(!this.selectedRows[0])return;a=this.selectedRows[0].idd,b=this.cell._cellIndex}var c=this.cells(a,b);c[c.setImage?"setLabel":"setValue"](this.fromClipBoard())},dhtmlXGridObject.prototype.rowToClipboard=function(a){var b="";if(this._agetm=this._mathSerialization?"getMathValue":this._strictText?"getTitle":"getValue",this._serialize_visible=!0,a)b=this._serializeRowToCVS(this.getRowById(a));else for(var c=[],d=0;d<this.selectedRows.length;d++)c[c.length]=this._serializeRowToCVS(this.selectedRows[d]),b=this.csvParser.block(c,this.csv.row);this._serialize_visible=!1,this.toClipBoard(b)},dhtmlXGridObject.prototype.updateRowFromClipboard=function(a){var b=this.fromClipBoard();if(b){if(a)var c=this.getRowById(a);else var c=this.selectedRows[0];if(c){var d=this.csvParser;b=d.unblock(b,this.csv.cell,this.csv.row)[0],this._csvAID||b.splice(0,1);for(var e=0;e<b.length;e++){var f=this.cells3(c,e);f[f.setImage?"setLabel":"setValue"](b[e])}}}},dhtmlXGridObject.prototype.csvParser={block:function(a,b){return a.join(b)},unblock:function(a,b,c){for(var d=(a||"").split(c),e=0;e<d.length;e++)d[e]=(d[e]||"").split(b);var f=d.length-1;return 1==d[f].length&&""==d[f][0]&&d.splice(f,1),d},str:function(a,b){return a.join(b)}},dhtmlXGridObject.prototype.csvExtParser={_quote:RegExp('"',"g"),_quote_esc:RegExp('\\\\"',"g"),block:function(a,b){return a.join(b)},unblock:function(a,b,c){var d=[[]],e=0;if(!a)return d;for(var f=/^[ ]*"/,g=/"[ ]*$/,h=new RegExp(".*"+c+".*$"),i=a.split(b),j=0;j<i.length;j++)if(i[j].match(f)){for(var k=i[j].replace(f,"");!i[j].match(g);)j++,k+=i[j];d[e].push(k.replace(g,"").replace(this._quote_esc,'"'))}else if(i[j].match(h)){var l=i[j].indexOf(c);d[e].push(i[j].substr(0,l)),e++,d[e]=[],i[j]=i[j].substr(l+1),j--}else(i[j]||j!=i.length-1)&&d[e].push(i[j]);var m=d.length-1;return m>0&&!d[m].length&&d.splice(m,1),d},str:function(a,b){for(var c=0;c<a.length;c++)a[c]='"'+a[c].replace(this._quote,'\\"')+'"';return a.join(b)}},dhtmlXGridObject.prototype.addRowFromClipboard=function(){var a=this.fromClipBoard();if(a)for(var b=this.csvParser.unblock(a,this.csv.cell,this.csv.row),c=0;c<b.length;c++)if(b[c]){if(a=b[c],!a.length)continue;this._csvAID?this.addRow(this.getRowsNum()+2,a):(this.rowsAr[a[0]]&&(a[0]=this.uid()),this.addRow(a[0],a.slice(1)))}},dhtmlXGridObject.prototype.gridToClipboard=function(){this.toClipBoard(this.serializeToCSV())},dhtmlXGridObject.prototype.gridFromClipboard=function(){var a=this.fromClipBoard();a&&this.loadCSVString(a)},dhtmlXGridObject.prototype.getXLS=function(a){if(!this.xslform){this.xslform=document.createElement("FORM"),this.xslform.action=(a||"")+"xls.php",this.xslform.method="post",this.xslform.target=_isIE?"_blank":"",document.body.appendChild(this.xslform);var b=document.createElement("INPUT");b.type="hidden",b.name="csv",this.xslform.appendChild(b);var c=document.createElement("INPUT");c.type="hidden",c.name="csv_header",this.xslform.appendChild(c)}var d=this.serializeToCSV();this.xslform.childNodes[0].value=d;for(var e=[],f=this._cCount,g=0;f>g;g++)e.push(this.getHeaderCol(g));e=e.join(","),this.xslform.childNodes[1].value=e,this.xslform.submit()},dhtmlXGridObject.prototype.printView=function(a,b){var c="<style>TD { font-family:Arial; text-align:center; padding-left:2px;padding-right:2px; } \n td.filter input, td.filter select { display:none; }	\n  </style>",d=null;if(this._fake){d=[].concat(this._hrrar);for(var e=0;e<this._fake._cCount;e++)this._hrrar[e]=null}c+="<base  href='"+document.location.href+"'></base>",this.parentGrid||(c+=a||""),c+='<table width="100%" border="2px" cellpadding="0" cellspacing="0">';var f=Math.max(this.rowsBuffer.length,this.rowsCol.length),g=this._cCount,h=this._printWidth();c+='<tr class="header_row_1">';for(var e=0;g>e;e++)if(!this._hrrar||!this._hrrar[e]){for(var i=this.hdr.rows[1].cells[this.hdr.rows[1]._childIndexes?this.hdr.rows[1]._childIndexes[parseInt(e)]:e],j=i.colSpan||1,k=i.rowSpan||1,l=1;j>l;l++)h[e]+=h[l];c+='<td rowspan="'+k+'" width="'+h[e]+'%" style="background-color:lightgrey;" colspan="'+j+'">'+this.getHeaderCol(e)+"</td>",e+=j-1}c+="</tr>";for(var e=2;e<this.hdr.rows.length;e++)if(_isIE){c+="<tr style='background-color:lightgrey' class='header_row_"+e+"'>";for(var m=this.hdr.rows[e].childNodes,l=0;l<m.length;l++)this._hrrar&&this._hrrar[m[l]._cellIndex]||(c+=m[l].outerHTML);c+="</tr>"}else c+="<tr class='header_row_"+e+"' style='background-color:lightgrey'>"+(this._fake?this._fake.hdr.rows[e].innerHTML:"")+this.hdr.rows[e].innerHTML+"</tr>";for(var e=0;f>e;e++)if(c+="<tr>",this.rowsCol[e]&&this.rowsCol[e]._cntr)c+=this.rowsCol[e].innerHTML.replace(/<img[^>]*>/gi,"")+"</tr>";else if(!this.rowsCol[e]||"none"!=this.rowsCol[e].style.display){var n;if(this.rowsCol[e])n=this.rowsCol[e].idd;else{if(!this.rowsBuffer[e])continue;n=this.rowsBuffer[e].idd}for(var l=0;g>l;l++)if(!this._hrrar||!this._hrrar[l]){if(this.rowsAr[n]&&"TR"==this.rowsAr[n].tagName){var o=this.cells(n,l);if(o._setState)var p="";else if(o.getContent)p=o.getContent();else if(o.getImage||o.combo)var p=o.cell.innerHTML;else var p=o.getValue()}else var p=this._get_cell_value(this.rowsBuffer[e],l);var q=this.columnColor[l]?"background-color:"+this.columnColor[l]+";":"",r=this.cellAlign[l]?"text-align:"+this.cellAlign[l]+";":"",s=o.getAttribute("colspan");c+='<td style="'+q+r+'" '+(s?'colSpan="'+s+'"':"")+">"+(""===p?"&nbsp;":p)+"</td>",s&&(l+=s-1)}if(c+="</tr>",this.rowsCol[e]&&this.rowsCol[e]._expanded){var t=this.cells4(this.rowsCol[e]._expanded.ctrl);c+=t.getSubGrid?'<tr><td colspan="'+g+'">'+t.getSubGrid().printView()+"</td></tr>":'<tr><td colspan="'+g+'">'+this.rowsCol[e]._expanded.innerHTML+"</td></tr>"}}if(this.ftr)for(var e=1;e<this.ftr.childNodes[0].rows.length;e++)c+="<tr style='background-color:lightgrey'>"+(this._fake?this._fake.ftr.childNodes[0].rows[e].innerHTML:"")+this.ftr.childNodes[0].rows[e].innerHTML+"</tr>";if(c+="</table>",this.parentGrid)return c;c+=b||"";var u=window.open("","_blank");u.document.write(c),u.document.write("<script>window.onerror=function(){return true;}</script>"),u.document.close(),this._fake&&(this._hrrar=d)},dhtmlXGridObject.prototype._printWidth=function(){for(var a=[],b=0,c=0;c<this._cCount;c++){var d=this.getColWidth(c);a.push(d),b+=d}for(var e=[],f=0,c=0;c<a.length;c++){var g=Math.floor(a[c]/b*100);f+=g,e.push(g)}return e[e.length-1]+=100-f,e},window.clipboardData||(window.clipboardData={_make:function(){var a=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!a)return null;var b=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!b)return null;b.addDataFlavor("text/unicode");var c=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);return this._p=[a,b,c],!0},setData:function(a,b){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(c){return dhtmlxError.throwError("Clipboard","Access to clipboard denied",[a,b]),""}if(!this._make())return!1;this._p[2].data=b,this._p[1].setTransferData("text/unicode",this._p[2],2*b.length);var d=Components.interfaces.nsIClipboard;this._p[0].setData(this._p[1],null,d.kGlobalClipboard)},getData:function(a){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(b){return dhtmlxError.throwError("Clipboard","Access to clipboard denied",[a]),""}if(!this._make())return!1;this._p[0].getData(this._p[1],this._p[0].kGlobalClipboard);var c=new Object,d=new Object;try{this._p[1].getTransferData("text/unicode",d,c)}catch(b){return""}return d&&(d=d.value.QueryInterface(Components.interfaces.nsISupportsString)),d?d.data.substring(0,c.value/2):""}}),dhtmlXGridObject.prototype.enableBlockSelection=function(a){if("undefined"==typeof this._bs_mode){var b=this;this.obj.onmousedown=function(a){return b._bs_mode&&b._OnSelectionStart(a||event,this),!0},this._CSVRowDelimiter=this.csv.row,this.attachEvent("onResize",function(){return b._HideSelection(),!0}),this.attachEvent("onGridReconstructed",function(){return b._HideSelection(),!0}),this.attachEvent("onFilterEnd",this._HideSelection)}if(a===!1)return this._bs_mode=!1,this._HideSelection();this._bs_mode=!0;var c=this._clip_area=document.createElement("textarea");c.style.cssText="position:absolute; width:1px; height:1px; overflow:hidden; color:transparent; background-color:transparent; bottom:1px; right:1px; border:none;",c.onkeydown=function(a){a=a||event,86==a.keyCode&&(a.ctrlKey||a.metaKey)&&b.pasteBlockFromClipboard()},document.body.insertBefore(this._clip_area,document.body.firstChild),dhtmlxEvent(this.entBox,"click",function(){b.editor||b._clip_area.select()})},dhtmlXGridObject.prototype.forceLabelSelection=function(a){this._strictText=convertStringToBoolean(a)},dhtmlXGridObject.prototype._OnSelectionStart=function(a){var b=this;if(2!=a.button){var c=a.srcElement||a.target;if(this.editor){if(c.tagName&&("INPUT"==c.tagName||"TEXTAREA"==c.tagName))return;this.editStop()}b.setActive(!0);var d=this.getPosition(this.obj),e=a.clientX-d[0]+(document.body.scrollLeft||(document.documentElement?document.documentElement.scrollLeft:0)),f=a.clientY-d[1]+(document.body.scrollTop||(document.documentElement?document.documentElement.scrollTop:0));if(this._CreateSelection(e-4,f-4),c==this._selectionObj)this._HideSelection(),this._startSelectionCell=null;else{for(;c&&(!c.tagName||"td"!=c.tagName.toLowerCase());)c=c.parentNode;this._startSelectionCell=c}if(this._startSelectionCell&&!this.callEvent("onBeforeBlockSelected",[this._startSelectionCell.parentNode.idd,this._startSelectionCell._cellIndex]))return this._startSelectionCell=null;this.obj.onmousedown=null,this.obj[_isIE?"onmouseleave":"onmouseout"]=function(){b._blsTimer&&window.clearTimeout(b._blsTimer)},this.obj.onmmold=this.obj.onmousemove,this._init_pos=[e,f],this._selectionObj.onmousemove=this.obj.onmousemove=function(c){c=c||a,c.preventDefault?c.preventDefault():c.returnValue=!1,b._OnSelectionMove(c)},this._oldDMP=document.body.onmouseup,document.body.onmouseup=function(c){return c=c||a,b._OnSelectionStop(c,this),!0},this.callEvent("onBeforeBlockSelection",[]),document.body.onselectstart=function(){return!1}}},dhtmlXGridObject.prototype._getCellByPos=function(a,b){a=a,this._fake&&(a+=this._fake.objBox.scrollWidth),b=b;for(var c=0,d=0;d<this.obj.rows.length;d++)if(b-=this.obj.rows[d].offsetHeight,0>=b){c=this.obj.rows[d];break}if(!c||!c.idd)return null;for(var d=0;d<this._cCount;d++)if(a-=this.getColWidth(d),0>=a)for(;;){if(!c._childIndexes||c._childIndexes[d+1]!=c._childIndexes[d])return this.cells(c.idd,d).cell;c=c.previousSibling}return null},dhtmlXGridObject.prototype._OnSelectionMove=function(a){var b=this;this._ShowSelection();var c=this.getPosition(this.obj),d=a.clientX-c[0]+(document.body.scrollLeft||(document.documentElement?document.documentElement.scrollLeft:0)),e=a.clientY-c[1]+(document.body.scrollTop||(document.documentElement?document.documentElement.scrollTop:0));if(Math.abs(this._init_pos[0]-d)<5&&Math.abs(this._init_pos[1]-e)<5)return this._HideSelection();var f=this._endSelectionCell;if(null==this._startSelectionCell)this._endSelectionCell=this._startSelectionCell=this.getFirstParentOfType(a.srcElement||a.target,"TD");else if(a.srcElement||a.target)if("dhtmlxGrid_selection"==(a.srcElement||a.target).className)this._endSelectionCell=this._getCellByPos(d,e)||this._endSelectionCell;else{var g=this.getFirstParentOfType(a.srcElement||a.target,"TD");g.parentNode.idd&&(this._endSelectionCell=g)}this._endSelectionCell&&(this.callEvent("onBeforeBlockSelected",[this._endSelectionCell.parentNode.idd,this._endSelectionCell._cellIndex])||(this._endSelectionCell=f));var h=this.objBox.scrollLeft+this.objBox.clientWidth,i=this.objBox.scrollTop+this.objBox.clientHeight,j=this.objBox.scrollLeft,k=this.objBox.scrollTop,l=!1;if(this._blsTimer&&window.clearTimeout(this._blsTimer),d+20>=h?(this.objBox.scrollLeft=this.objBox.scrollLeft+20,l=!0):j>d-20&&(this.objBox.scrollLeft=this.objBox.scrollLeft-20,l=!0),e+20>=i&&!this._realfake?(this.objBox.scrollTop=this.objBox.scrollTop+20,l=!0):k>e-20&&!this._realfake&&(this.objBox.scrollTop=this.objBox.scrollTop-20,l=!0),this._selectionArea=this._RedrawSelectionPos(this._startSelectionCell,this._endSelectionCell),l){var m=a.clientX,n=a.clientY;this._blsTimer=window.setTimeout(function(){b._OnSelectionMove({clientX:m,clientY:n})},100)}},dhtmlXGridObject.prototype._OnSelectionStop=function(a){var b=this;if(this._blsTimer&&window.clearTimeout(this._blsTimer),this.obj.onmousedown=function(c){return b._bs_mode&&b._OnSelectionStart(c||a,this),!0},this.obj.onmousemove=this.obj.onmmold||null,this._selectionObj.onmousemove=null,document.body.onmouseup=this._oldDMP||null,parseInt(this._selectionObj.style.width)<2&&parseInt(this._selectionObj.style.height)<2)this._HideSelection();else{var c=this.getFirstParentOfType(a.srcElement||a.target,"TD");for(c&&c.parentNode.idd||(c=this._endSelectionCell);c&&(!c.tagName||"td"!=c.tagName.toLowerCase());)c=c.parentNode;if(!c)return this._HideSelection();this._stopSelectionCell=c,this._selectionArea=this._RedrawSelectionPos(this._startSelectionCell,this._stopSelectionCell),this.callEvent("onBlockSelected",[])}document.body.onselectstart=function(){}},dhtmlXGridObject.prototype._RedrawSelectionPos=function(a,b){var c={};c.LeftTopCol=a._cellIndex,c.LeftTopRow=this.getRowIndex(a.parentNode.idd),c.RightBottomCol=b._cellIndex,c.RightBottomRow=this.getRowIndex(b.parentNode.idd);var d=a.offsetWidth,e=a.offsetHeight;a=this.getPosition(a,this.obj);var f=b.offsetWidth,g=b.offsetHeight;if(b=this.getPosition(b,this.obj),a[0]<b[0])var h=a[0],i=b[0]+f;else{var j=c.RightBottomCol;c.RightBottomCol=c.LeftTopCol,c.LeftTopCol=j;var h=b[0],i=a[0]+d}if(a[1]<b[1])var k=a[1],l=b[1]+g;else{var j=c.RightBottomRow;c.RightBottomRow=c.LeftTopRow,c.LeftTopRow=j;var k=b[1],l=a[1]+e}var m=i-h,n=l-k;return this._selectionObj.style.left=h+"px",this._selectionObj.style.top=k+"px",this._selectionObj.style.width=m+"px",this._selectionObj.style.height=n+"px",c},dhtmlXGridObject.prototype._CreateSelection=function(a,b){if(null==this._selectionObj){var c=document.createElement("div");c.style.position="absolute",c.style.display="none",c.className="dhtmlxGrid_selection",this._selectionObj=c,this._selectionObj.onmousedown=function(a){return a=a||event,2==a.button||_isMacOS&&a.ctrlKey?this.parentNode.grid.callEvent("onBlockRightClick",["BLOCK",a]):void 0},this._selectionObj.oncontextmenu=function(a){return(a||event).cancelBubble=!0,!1},this.objBox.appendChild(this._selectionObj)}this._selectionObj.style.width="0px",this._selectionObj.style.height="0px",this._selectionObj.style.left=a+"px",this._selectionObj.style.top=b+"px",this._selectionObj.startX=a,this._selectionObj.startY=b},dhtmlXGridObject.prototype._ShowSelection=function(){this._selectionObj&&(this._selectionObj.style.display="")},dhtmlXGridObject.prototype._HideSelection=function(){this._selectionObj&&(this._selectionObj.style.display="none"),this._selectionArea=null,this._clip_area.value="",this._clip_area.blur()},dhtmlXGridObject.prototype.copyBlockToClipboard=function(){if(null!=this._selectionArea){var a=new Array;this._agetm=this._mathSerialization?"getMathValue":this._strictText?"getTitle":"getValue",this._serialize_visible=!0;for(var b=this._selectionArea.LeftTopRow;b<=this._selectionArea.RightBottomRow;b++){var c=this._serializeRowToCVS(this.rowsBuffer[b],null,this._selectionArea.LeftTopCol,this._selectionArea.RightBottomCol+1);a[a.length]=this._csvAID?c:c.substr(c.indexOf(this.csv.cell)+1)}a=a.join(this._CSVRowDelimiter),this._clip_area.value=a,this._clip_area.select(),this._serialize_visible=!1}},dhtmlXGridObject.prototype.pasteBlockFromClipboard=function(){this._clip_area.select();var a=this;window.setTimeout(function(){a._pasteBlockFromClipboard(),a=null},1)},dhtmlXGridObject.prototype._pasteBlockFromClipboard=function(){var a=this._clip_area.value;if(null!=this._selectionArea)var b=this._selectionArea.LeftTopRow,c=this._selectionArea.LeftTopCol;else{if(null==this.cell||this.editor)return!1;var b=this.getRowIndex(this.cell.parentNode.idd),c=this.cell._cellIndex}a=this.csvParser.unblock(a,this.csv.cell,this.csv.row);var d=b+a.length,e=c+a[0].length;e>this._cCount&&(e=this._cCount);for(var f=0,g=b;d>g;g++){var h=this.render_row(g);if(-1!=h){for(var i=0,j=c;e>j;j++)if(this._hrrar[j])e=Math.max(e+1,this._cCount);else{var k=this.cells3(h,j);if(k.isDisabled())i++;else{if(this._onEditUndoRedo&&this._onEditUndoRedo(2,h.idd,j,a[f][i],k.getValue()),k.combo){for(var l=k.combo.values,m=0;m<l.length;m++)if(a[f][i]==l[m]){k.setValue(k.combo.keys[m]),l=null;break}null!=l&&k.editable?k.setValue(a[f][i++]):i++}else k[k.setImage?"setLabel":"setValue"](a[f][i++]);k.cell.wasChanged=!0}}this.callEvent("onRowPaste",[h.idd]),f++}}},dhtmlXGridObject.prototype.getSelectedBlock=function(){return this._selectionArea?this._selectionArea:null!==this.getSelectedRowId()?{LeftTopRow:this.getSelectedRowId(),LeftTopCol:this.getSelectedCellIndex(),RightBottomRow:this.getSelectedRowId(),RightBottomCol:this.getSelectedCellIndex()}:null},dhtmlXGridObject.prototype.enableSmartRendering=function(a,b,c){arguments.length>2&&(b&&!this.rowsBuffer[b-1]&&(this.rowsBuffer[b-1]=0),b=c),this._srnd=convertStringToBoolean(a),this._srdh=this._srdh||20,this._dpref=b||0},dhtmlXGridObject.prototype.enablePreRendering=function(a){this._srnd_pr=parseInt(a||50)},dhtmlXGridObject.prototype.forceFullLoading=function(a,b){for(var c=0;c<this.rowsBuffer.length;c++)if(!this.rowsBuffer[c]){var d=a||this.rowsBuffer.length-c;if(this.callEvent("onDynXLS",[c,d])){var e=this;this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+c+"&count="+d,function(){window.setTimeout(function(){e.forceFullLoading(a,b)},100)},this._data_type)}return}b&&b.call(this)},dhtmlXGridObject.prototype.setAwaitedRowHeight=function(a){this._srdh=parseInt(a)},dhtmlXGridObject.prototype._get_view_size=function(){return Math.floor(parseInt(this.entBox.offsetHeight)/this._srdh)+2},dhtmlXGridObject.prototype._add_filler=function(a,b,c,d){if(!b)return null;var e="__filler__",f=this._prepareRow(e);f.firstChild.style.width="1px";for(var g=1;g<f.childNodes.length;g++)f.childNodes[g].style.display="none";return f.firstChild.style.height=b*this._srdh+"px",c=c||this.rowsCol[a],c&&c.nextSibling?c.parentNode.insertBefore(f,c.nextSibling):_isKHTML?this.obj.appendChild(f):this.obj.rows[0].parentNode.appendChild(f),this.callEvent("onAddFiller",[a,b,f,c,d]),[a,b,f]},dhtmlXGridObject.prototype._update_srnd_view=function(){var a=Math.floor(this.objBox.scrollTop/this._srdh),b=a+this._get_view_size();if(this.multiLine){var c=this.objBox.scrollTop;for(a=0;c>0;)c-=this.rowsCol[a]?this.rowsCol[a].offsetHeight:this._srdh,a++;b=a+this._get_view_size(),a>0&&a--}b+=this._srnd_pr||0,b>this.rowsBuffer.length&&(b=this.rowsBuffer.length);for(var d=a;b>d;d++)if(!this.rowsCol[d]){var e=this._add_from_buffer(d);if(-1==e){if(this.xmlFileUrl){if(this._dpref&&this.rowsBuffer[b-1]){var f=(this._dpref?this._dpref:b-d,Math.max(0,Math.min(d,b-this._dpref)));this._current_load=[f,b-f]}else this._current_load=[d,this._dpref?this._dpref:b-d];this.callEvent("onDynXLS",this._current_load)&&this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+this._current_load[0]+"&count="+this._current_load[1],this._data_type)}return}this._tgle&&(this._updateLine(this._h2.get[this.rowsBuffer[d].idd],this.rowsBuffer[d]),this._updateParentLine(this._h2.get[this.rowsBuffer[d].idd],this.rowsBuffer[d])),d&&d==(this._realfake?this._fake:this)._r_select&&this.selectCell(d,this.cell?this.cell._cellIndex:0,!0)}this._fake&&!this._realfake&&this.multiLine&&(this._fake.objBox.scrollTop=this.objBox.scrollTop)},dhtmlXGridObject.prototype._add_from_buffer=function(a){var b=this.render_row(a);if(-1==b)return-1;if((b._attrs.selected||b._attrs.select)&&(this.selectRow(b,!1,!0),b._attrs.selected=b._attrs.select=null),this._cssSP){if(this._h2){var c=this._h2.get[b.idd];b.className+=" "+(c.level%2?this._cssUnEven+" "+this._cssUnEven:this._cssEven+" "+this._cssEven)+"_"+c.level+(this.rowsAr[c.id]._css||"")}}else this._cssEven&&a%2==0?b.className=this._cssEven+(-1!=b.className.indexOf("rowselected")?" rowselected ":" ")+(b._css||""):this._cssUnEven&&a%2==1&&(b.className=this._cssUnEven+(-1!=b.className.indexOf("rowselected")?" rowselected ":" ")+(b._css||""));
for(var d=0;d<this._fillers.length;d++){var e=this._fillers[d];if(e&&e[0]<=a&&e[0]+e[1]>a){var f=a-e[0];return void(0==f?(this._insert_before(a,b,e[2]),this._update_fillers(d,-1,1)):f==e[1]-1?(this._insert_after(a,b,e[2]),this._update_fillers(d,-1,0)):(this._fillers.push(this._add_filler(a+1,e[1]-f-1,e[2],1)),this._insert_after(a,b,e[2]),this._update_fillers(d,-e[1]+f,0)))}}},dhtmlXGridObject.prototype._update_fillers=function(a,b,c){var d=this._fillers[a];d[1]=d[1]+b,d[0]=d[0]+c,d[1]?(d[2].firstChild.style.height=parseFloat(d[2].firstChild.style.height)+b*this._srdh+"px",this.callEvent("onUpdateFiller",[d[2]])):(this.callEvent("onRemoveFiller",[d[2]]),d[2].parentNode.removeChild(d[2]),this._fillers.splice(a,1))},dhtmlXGridObject.prototype._insert_before=function(a,b,c){c.parentNode.insertBefore(b,c),this.rowsCol[a]=b,this.callEvent("onRowInserted",[b,null,c,"before"])},dhtmlXGridObject.prototype._insert_after=function(a,b,c){c.nextSibling?c.parentNode.insertBefore(b,c.nextSibling):c.parentNode.appendChild(b),this.rowsCol[a]=b,this.callEvent("onRowInserted",[b,null,c,"after"])},dhtmlxValidation=function(){},dhtmlxValidation.prototype={trackInput:function(a,b,c,d){dhtmlxEvent(a,"keyup",function(){dhtmlxValidation._timer&&(window.clearTimeout(dhtmlxValidation._timer),dhtmlxValidation._timer=null),dhtmlxValidation._timer=window.setTimeout(function(){dhtmlxValidation.checkInput(a,b)?(a.className=a.className.replace(/[ ]*dhtmlx_live_validation_error/g,""),d&&d(a,a.value,b)):(!c||c(a,a.value,b))&&(a.className+=" dhtmlx_live_validation_error")},250)})},checkInput:function(a,b){return this.checkValue(a.value,b)},checkValue:function(a,b){"string"==typeof b&&(b=b.split(","));for(var c=!0,d=0;d<b.length;d++)this["is"+b[d]]?c=c&&this["is"+b[d]](a):alert("Incorrect validation rule: "+b[d]);return c},isEmpty:function(a){return""==a},isNotEmpty:function(a){return a instanceof Array?a.length>0:""==!a},isValidBoolean:function(a){return!!a.toString().match(/^(0|1|true|false)$/)},isValidEmail:function(a){return!!a.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,4})$)/i)},isValidInteger:function(a){return!!a.toString().match(/(^-?\d+$)/)},isValidNumeric:function(a){return!!a.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(a){return!!a.toString().match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(a){var b=a.toString().match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return b&&!!(b[1]<=9999&&b[2]<=12&&b[3]<=31&&b[4]<=59&&b[5]<=59&&b[6]<=59)||!1},isValidDate:function(a){var b=a.toString().match(/^(\d{4})-(\d{2})-(\d{2})$/);return b&&!!(b[1]<=9999&&b[2]<=12&&b[3]<=31)||!1},isValidTime:function(a){var b=a.toString().match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return b&&!!(b[1]<=24&&b[2]<=59&&b[3]<=59)||!1},isValidIPv4:function(a){var b=a.toString().match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return b&&!!(b[1]<=255&&b[2]<=255&&b[3]<=255&&b[4]<=255)||!1},isValidCurrency:function(a){return a.toString().match(/^\$?\s?\d+?([\.,\,]?\d+)?\s?\$?$/)&&!0||!1},isValidSSN:function(a){return a.toString().match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&!0||!1},isValidSIN:function(a){return a.toString().match(/^\d{9}$/)&&!0||!1}},dhtmlxValidation=new dhtmlxValidation,dhtmlXGridObject.prototype.enableValidation=function(a,b){a=convertStringToBoolean(a),this._validators=a?{data:[]}:!1,arguments.length>1&&(this._validators._live=b),this._validators._event||(this._validators._event=this.attachEvent("onEditCell",this.validationEvent))},dhtmlXGridObject.prototype.setColValidators=function(a){this._validators||this.enableValidation(!0),"string"==typeof a&&(a=a.split(this.delim)),this._validators.data=a},dhtmlXGridObject.prototype.validationEvent=function(a,b,c,d){var e=this._validators;if(!e)return!0;var f=e.data[c]||this.cells(b,c).getAttribute("validate")||"";if(1==a&&f){var g=this.editor||(this._fake||{}).editor;if(!g)return!0;if(g.cell.className=g.cell.className.replace(/[ ]*dhtmlx_validation_error/g,""),e._live){var h=this;dhtmlxValidation.trackInput(g.getInput(),f,function(a,d,e){return h.callEvent("onLiveValidationError",[b,c,d,a,e])},function(a,d,e){return h.callEvent("onLiveValidationCorrect",[b,c,d,a,e])})}}return 2==a&&this.validateCell(b,c,f,d),!0},dhtmlXGridObject.prototype.validateCell=function(a,b,c,d){if(c=c||this._validators.data[b]||this.cells(a,b).getAttribute("validate"),d=d||this.cells(a,b).getValue(),c){var e=this.cells(a,b).cell,f=!0;"string"==typeof c&&(c=c.split(this.delim));for(var g=0;g<c.length;g++)dhtmlxValidation.checkValue(d,c[g])||(this.callEvent("onValidationError",[a,b,d,c[g]])&&(e.className+=" dhtmlx_validation_error"),f=!1);return f&&(this.callEvent("onValidationCorrect",[a,b,d,c]),e.className=e.className.replace(/[ ]*dhtmlx_validation_error/g,"")),f}},eXcell_stree.prototype=new eXcell,dhtmlXGridObject.prototype.setSubTree=function(a,b){this._sub_trees||(this._sub_trees=[]),this._sub_trees[b]=[a],a.parentObject.style.display="none";var c=this;a.parentObject.onclick=function(a){return(a||window.event).cancelBubble=!0,!1},a.ev_onDblClick=null,a.attachEvent("onDblClick",function(a){return c._sub_id=a,c.editStop(),!0}),a._chRRS=!0},eXcell_link.prototype=new eXcell,eXcell_link.prototype.getTitle=function(){var a=this.cell.firstChild;return a&&a.tagName?a.getAttribute("href"):""},eXcell_link.prototype.getContent=function(){var a=this.cell.firstChild;return a&&a.tagName?a.innerHTML:""},eXcell_grid.prototype=new eXcell,dhtmlXGridObject.prototype.setSubGrid=function(a,b,c){this._sub_grids||(this._sub_grids=[]),this._sub_grids[b]=[a,c],a.entBox.style.display="none";var d=this;a.attachEvent("onRowSelect",function(){return d.editStop(),!0}),a._chRRS=!1},eXcell_dhxCalendar.prototype=new eXcell,eXcell_dhxCalendar.prototype.edit=function(){var a=this.grid.getPosition(this.cell);this.grid._grid_calendarA._show(!1,!1),this.grid._grid_calendarA.setPosition(a[0],a[1]+this.cell.offsetHeight),this.grid._grid_calendarA._last_operation_calendar=!1,this.grid.callEvent("onCalendarShow",[this.grid._grid_calendarA,this.cell.parentNode.idd,this.cell._cellIndex]),this.cell._cediton=!0,this.val=this.cell.val,this._val=this.cell.innerHTML;var b=this.grid._grid_calendarA.draw;this.grid._grid_calendarA.draw=function(){},this.grid._grid_calendarA.setDateFormat(this.grid._dtmask||"%d/%m/%Y"),this.grid._grid_calendarA.setDate(this.val||new Date),this.grid._grid_calendarA.draw=b},eXcell_dhxCalendar.prototype.getDate=function(){return this.cell.val?this.cell.val:null},eXcell_dhxCalendar.prototype.getValue=function(){return this.cell._clearCell?"":this.grid._dtmask_inc&&this.cell.val?this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask_inc,this.cell.val).toString():this.cell.innerHTML.toString()._dhx_trim()},eXcell_dhxCalendar.prototype.detach=function(){if(this.grid._grid_calendarA&&(this.grid._grid_calendarA.hide(),this.cell._cediton)){if(this.cell._cediton=!1,this.grid._grid_calendarA._last_operation_calendar){var a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y"),b=this.grid._grid_calendarA.getDate();this.cell.val=new Date(b),this.setCValue(a,b),this.cell._clearCell=!a;var c=this.val;return this.val=this._val,this.cell.val.valueOf()!=c}return!1}},eXcell_dhxCalendar.prototype.setValue=function(a){return a&&"object"==typeof a?(this.cell.val=a,this.cell._clearCell=!1,void this.setCValue(this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",a).toString(),this.cell.val)):(a&&""!=a.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell.val=new Date(this.grid._grid_calendarA.setFormatedDate(this.grid._dtmask_inc||this.grid._dtmask||"%d/%m/%Y",a.toString(),null,!0)),this.grid._dtmask_inc&&(a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",this.cell.val))):(a="&nbsp",this.cell._clearCell=!0,this.cell.val=""),void("NaN"==this.cell.val||"Invalid Date"==this.cell.val?(this.cell._clearCell=!0,this.cell.val=new Date,this.setCValue("&nbsp;",0)):this.setCValue((a||"").toString(),this.cell.val)))},eXcell_dhxCalendarA.prototype=new eXcell,eXcell_dhxCalendarA.prototype.edit=function(){var a=this.grid.getPosition(this.cell);this.grid._grid_calendarA._show(!1,!1),this.grid._grid_calendarA.setPosition(1*a[0]+this.cell.offsetWidth,1*a[1]),this.grid.callEvent("onCalendarShow",[this.grid._grid_calendarA,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid._grid_calendarA._last_operation_calendar=!1,this.cell._cediton=!0,this.val=this.cell.val,this._val=this.cell.innerHTML;var b=this.grid._grid_calendarA.draw;this.grid._grid_calendarA.draw=function(){},this.grid._grid_calendarA.setDateFormat(this.grid._dtmask||"%d/%m/%Y"),this.grid._grid_calendarA.setDate(this.val),this.grid._grid_calendarA.draw=b,this.cell.atag=!this.grid.multiLine&&(_isKHTML||_isMacOS||_isFF)?"INPUT":"TEXTAREA",this.obj=document.createElement(this.cell.atag),this.obj.style.height=this.cell.offsetHeight-(_isIE?4:2)+"px",this.obj.className="dhx_combo_edit",this.obj.wrap="soft",this.obj.style.textAlign=this.cell.align,this.obj.onclick=function(a){(a||event).cancelBubble=!0},this.obj.onmousedown=function(a){(a||event).cancelBubble=!0},this.obj.value=this.getValue(),this.cell.innerHTML="",this.cell.appendChild(this.obj),window.dhx4.isIE&&(this.obj.style.overflow="visible",this.grid.multiLine&&this.obj.offsetHeight>=18&&this.obj.offsetHeight<40&&(this.obj.style.height="36px",this.obj.style.overflow="scroll")),this.obj.onselectstart=function(a){return a||(a=event),a.cancelBubble=!0,!0},this.obj.focus(),this.obj.focus()},eXcell_dhxCalendarA.prototype.getDate=function(){return this.cell.val?this.cell.val:null},eXcell_dhxCalendarA.prototype.getValue=function(){return this.cell._clearCell?"":this.grid._dtmask_inc&&this.cell.val?this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask_inc,this.cell.val).toString():this.cell.innerHTML.toString()._dhx_trim()},eXcell_dhxCalendarA.prototype.detach=function(){if(this.grid._grid_calendarA&&(this.grid._grid_calendarA.hide(),this.cell._cediton)){if(this.cell._cediton=!1,this.grid._grid_calendarA._last_operation_calendar){this.grid._grid_calendarA._last_operation_calendar=!1;var a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y"),b=this.grid._grid_calendarA.getDate();this.cell.val=new Date(b),this.setCValue(a,b),this.cell._clearCell=!a;var c=this.val;return this.val=this._val,this.cell.val.valueOf()!=(""|c).valueOf()}this.setValue(this.obj.value);var c=this.val;return this.val=this._val,this.cell.val.valueOf()!=(c||"").valueOf()}},eXcell_dhxCalendarA.prototype.setValue=function(a){return a&&"object"==typeof a?(this.cell.val=a,this.cell._clearCell=!1,void this.setCValue(this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",a).toString(),this.cell.val)):(a&&""!=a.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell.val=new Date(this.grid._grid_calendarA.setFormatedDate(this.grid._dtmask_inc||this.grid._dtmask||"%d/%m/%Y",a.toString(),null,!0)),this.grid._dtmask_inc&&(a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",this.cell.val))):(a="&nbsp",this.cell._clearCell=!0,this.cell.val=""),void("NaN"==this.cell.val||"Invalid Date"==this.cell.val?(this.cell.val=new Date,this.cell._clearCell=!0,this.setCValue("&nbsp;",0)):this.setCValue((a||"").toString(),this.cell.val)))},dhtmlXGridObject.prototype.resetCounter=function(a){this._fake&&!this._realfake&&a<this._fake._cCount&&this._fake.resetCounter(a,this.currentPage);var b=arguments[0]||0;for(this.currentPage&&(b=(this.currentPage-1)*this.rowsBufferOutSize),b=0;b<this.rowsBuffer.length;b++)this.rowsBuffer[b]&&"TR"==this.rowsBuffer[b].tagName&&this.rowsAr[this.rowsBuffer[b].idd]&&(this.rowsAr[this.rowsBuffer[b].idd].childNodes[a].innerHTML=b+1)},eXcell_cntr.prototype=new eXcell,eXcell_acheck.prototype=new eXcell,eXcell_acheck.prototype.setValue=function(a){a=(a||"").toString(),-1!=a.indexOf("1")||-1!=a.indexOf("true")?(a="1",this.cell.chstate="1"):(a="0",this.cell.chstate="0");this.setCValue(this.drawCurrentState(),this.cell.chstate)},eXcell_context.prototype=new eXcell,dhtmlXGridObject.prototype.setSubContext=function(a,b,c){var d=this;a.attachEvent("onClick",function(b){return d._sub_id=b,d.editStop(),a.hideContextMenu(),!0}),this._sub_context||(this._sub_context=[]),this._sub_context[b]=[a,c],a.hideContextMenu()},dhtmlXGridObject.prototype._process_html=function(a){if(a.tagName&&"TABLE"==a.tagName)return this._process_inner_html(a,0);var b=document.createElement("DIV");b.innerHTML=a.xmlDoc.responseText;var c=b.getElementsByTagName("TABLE")[0];this._process_inner_html(c,0)},dhtmlXGridObject.prototype._process_inner_html=function(a,b){for(var c=a.rows.length,d=b;c>d;d++){var e=a.rows[d].getAttribute("id")||d;this.rowsBuffer.push({idd:e,data:a.rows[d],_parser:this._process_html_row,_locator:this._get_html_data})}this.render_dataset(),this.setSizes()},dhtmlXGridObject.prototype._process_html_row=function(a,b){var c=b.getElementsByTagName("TD"),d=[];a._attrs=this._xml_attrs(b);for(var e=0;e<c.length;e++){var f=c[e],g=f.getAttribute("type");if(a.childNodes[e]&&(g&&(a.childNodes[e]._cellType=g),a.childNodes[e]._attrs=this._xml_attrs(c[e])),d.push(f.firstChild?f.innerHTML:""),f.colSpan>1){a.childNodes[e]._attrs.colspan=f.colSpan;for(var h=1;h<f.colSpan;h++)d.push("")}}for(e<c.length;e<a.childNodes.length;e++)a.childNodes[e]._attrs={};return this._fillRow(a,this._c_order?this._swapColumns(d):d),a},dhtmlXGridObject.prototype._get_html_data=function(a,b){for(a=a.firstChild;;){if(!a)return"";if("TD"==a.tagName&&b--,0>b)break;a=a.nextSibling}return a.firstChild?a.firstChild.data:""},dhtmlxEvent(window,"load",function(){for(var a=document.getElementsByTagName("table"),b=0;b<a.length;b++)"dhtmlxGrid"==a[b].className&&dhtmlXGridFromTable(a[b])}),dhtmlXGridObject.prototype._process_xmlA=function(a){if(!a.doXPath){var b=new dtmlXMLLoaderObject(function(){});"string"==typeof a?b.loadXMLString(a):(b.xmlDoc=a.responseXML?a:{},b.xmlDoc.responseXML=a),a=b}this._parsing=!0;var c=a.getXMLTopNode(this.xml.top);this._parseHead(c);var d=a.doXPath(this.xml.row,c),e=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0),f=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0);if(f&&!this.rowsBuffer[f-1]&&(this.rowsBuffer[f-1]=null),this.isTreeGrid())return this._get_xml_data=this._get_xml_dataA,this._process_xml_row=this._process_xml_rowA,this._process_tree_xml(a);for(var g=0;g<d.length;g++)if(!this.rowsBuffer[g+e]){var h=d[g].getAttribute("id")||this.uid();this.rowsBuffer[g+e]={idd:h,data:d[g],_parser:this._process_xml_rowA,_locator:this._get_xml_dataA},this.rowsAr[h]=d[g]}return this.render_dataset(),this._parsing=!1,a.xmlDoc.responseXML?a.xmlDoc.responseXML:a.xmlDoc},dhtmlXGridObject.prototype._process_xmlB=function(a){if(!a.doXPath){var b=new dtmlXMLLoaderObject(function(){});"string"==typeof a?b.loadXMLString(a):(b.xmlDoc=a.responseXML?a:{},b.xmlDoc.responseXML=a),a=b}this._parsing=!0;var c=a.getXMLTopNode(this.xml.top);this._parseHead(c);var d=a.doXPath(this.xml.row,c),e=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0),f=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0);if(f&&!this.rowsBuffer[f-1]&&(this.rowsBuffer[f-1]=null),this.isTreeGrid())return this._get_xml_data=this._get_xml_dataB,this._process_xml_row=this._process_xml_rowB,this._process_tree_xml(a);for(var g=0;g<d.length;g++)if(!this.rowsBuffer[g+e]){var h=d[g].getAttribute("id")||this.uid();this.rowsBuffer[g+e]={idd:h,data:d[g],_parser:this._process_xml_rowB,_locator:this._get_xml_dataB},this.rowsAr[h]=d[g]}return this.render_dataset(),this._parsing=!1,a.xmlDoc.responseXML?a.xmlDoc.responseXML:a.xmlDoc},dhtmlXGridObject.prototype._process_xml_rowA=function(a,b){var c=[];a._attrs=this._xml_attrs(b);for(var d=0;d<this.columnIds.length;d++){var e=this.columnIds[d],f=a._attrs[e]||"";a.childNodes[d]&&(a.childNodes[d]._attrs={}),c.push(f)}return this._fillRow(a,this._c_order?this._swapColumns(c):c),a},dhtmlXGridObject.prototype._get_xml_dataA=function(a,b){return a.getAttribute(this.getColumnId(b))},dhtmlXGridObject.prototype._process_xml_rowB=function(a,b){var c=[];if(a._attrs=this._xml_attrs(b),this._ud_enabled)for(var d=this.xmlLoader.doXPath("./userdata",b),e=d.length-1;e>=0;e--)this.setUserData(d[e].getAttribute("name"),d[e].firstChild?d[e].firstChild.data:"");for(var f=0;f<b.childNodes.length;f++){var g=b.childNodes[f];if(g.tagName){var h=this.getColIndexById(g.tagName);if(!isNaN(h)){var i=g.getAttribute("type");i&&(a.childNodes[h]._cellType=i),a.childNodes[h]._attrs=this._xml_attrs(g),g.getAttribute("xmlcontent")||(g=g.firstChild?g.firstChild.data:""),c[h]=g}}}for(var e=0;e<a.childNodes.length;e++)a.childNodes[e]._attrs||(a.childNodes[e]._attrs={});return this._fillRow(a,this._c_order?this._swapColumns(c):c),a},dhtmlXGridObject.prototype._get_xml_dataB=function(a,b){var c=this.getColumnId(b);for(a=a.firstChild;;){if(!a)return"";if(a.tagName==c)return a.firstChild?a.firstChild.data:"";a=a.nextSibling}return""},dhtmlXGridObject.prototype.startFastOperations=function(){this._disF=["setSizes","callEvent","_fixAlterCss","cells4","forEachRow","_correctMonolite"],this._disA=[];for(var a=this._disF.length-1;a>=0;a--)this._disA[a]=this[this._disF[a]],this[this._disF[a]]=function(){return!0};this._cellCache=[],this.cells4=function(a){var b=this._cellCache[a._cellIndex];return b||(b=this._cellCache[a._cellIndex]=this._disA[3].apply(this,[a]),b.destructor=function(){return!0},b.setCValue=function(a){b.cell.innerHTML=a}),b.cell=a,b.combo=a._combo||this.combos[a._cellIndex],b}},dhtmlXGridObject.prototype.stopFastOperations=function(){if(this._disF){for(var a=this._disF.length-1;a>=0;a--)this[this._disF[a]]=this._disA[a];this._correctMonolite&&this._correctMonolite(),this.setSizes(),this.callEvent("onGridReconstructed",[])}},dhtmlXGridObject.prototype._in_header_number_filter=function(a,b){this._in_header_text_filter.call(this,a,b);var c=this;a.firstChild._filter=function(){var a=c._get_filters(this.value,"num");return function(b){for(var c=a.length>0?!1:!0,d=0;d<a.length;d++)c=c||a[d](b);return c}}},dhtmlXGridObject.prototype._in_header_string_filter=function(a,b){this._in_header_text_filter.call(this,a,b);var c=this;a.firstChild._filter=function(){var a=c._get_filters(this.value,"str");return function(b){for(var c=a.length>0?!1:!0,d=0;d<a.length;d++)c=c||a[d](b);return c}}},dhtmlXGridObject.prototype._get_filters=function(a,b){for(var c=a.split(","),d=[],e=0;e<c.length;e++)if(""!=c[e]){var f=this["_get_"+b+"_filter"](c[e]);d.push(f)}return d},dhtmlXGridObject.prototype._get_str_filter=function(a){if("null"==a||"empty"==a)return new Function("value",'if (value == null || value == "") return true; return false;');if("!null"==a||"!empty"==a)return new Function("value",'if (value == null || value == "") return false; return true;');if("!"===a.substr(0,1)){var b=a.substr(1);return new Function("value",'if (value !== "'+b+'") return true; return false;')}if("~"===a.substr(0,1)){var b=a.substr(1);return new Function("value",'if (value.indexOf("'+b+'") !== -1) return true; return false;')}if("^"===a.substr(0,1)&&"&"===a.substr(a.length-1,1)&&(a="="+a.substr(1,a.length-2)),"^"===a.substr(0,1)){var b=a.substr(1);return new Function("value","if (value.substr(0, "+b.length+') === "'+b+'") return true; return false;')}if("&"===a.substr(a.length-1,1)){var b=a.substr(0,a.length-1);return new Function("value","if (value.substr(value.length - "+b.length+') === "'+b+'") return true; return false;')}if("="===a.substr(0,1))var b=a.substr(1);else var b=a;return new Function("value",'if (value === "'+b+'") return true; return false;')},dhtmlXGridObject.prototype._get_num_filter=function(a){if("null"==a||"empty"==a)return new Function("value",'if (value == null || value == "") return true; return false;');if("!null"==a||"!empty"==a)return new Function("value",'if (value == null || value == "") return false; return true;');var b=a.split("..");if(2==b.length){var c=parseFloat(b[0]),d=parseFloat(b[1]);return new Function("value","if (value >= "+c+" && value <= "+d+") return true; return false;")}var e=a.match(/<>|>=|<=|>|<|=/);if(e)var f=e[0],g=parseFloat(a.replace(f,""));else{var f="==";g=parseFloat(a)}return"<>"==f&&(f="!="),"="==f&&(f="=="),new Function("value"," if (value "+f+" "+g+" ) return true; return false;")},dhtmlXGridObject.prototype.attachHeaderA=dhtmlXGridObject.prototype.attachHeader,dhtmlXGridObject.prototype.attachHeader=function(){if(this.attachHeaderA.apply(this,arguments),this._realfake)return!0;this.formAutoSubmit(),"undefined"==typeof this.FormSubmitOnlyChanged&&this.submitOnlyChanged(!0),"undefined"==typeof this._submitAR&&this.submitAddedRows(!0);var a=this;this._added_rows=[],this._deleted_rows=[],this.attachEvent("onRowAdded",function(b){return a._added_rows.push(b),a.forEachCell(b,function(a){a.cell.wasChanged=!0}),!0}),this.attachEvent("onBeforeRowDeleted",function(b){return a._deleted_rows.push(b),!0}),this.attachHeader=this.attachHeaderA},dhtmlXGridObject.prototype.formAutoSubmit=function(){if(this.parentForm=this.detectParentFormPresent(),this.parentForm===!1)return!1;if(!this.formEventAttached){this.formInputs=new Array;var a=this;dhtmlxEvent(this.parentForm,"submit",function(){a.entBox&&a.parentFormOnSubmit()}),this.formEventAttached=!0}},dhtmlXGridObject.prototype.parentFormOnSubmit=function(){return this.formCreateInputCollection(),this.callEvent("onBeforeFormSubmit",[])?void 0:!1},dhtmlXGridObject.prototype.submitOnlyChanged=function(a){this.FormSubmitOnlyChanged=convertStringToBoolean(a)},dhtmlXGridObject.prototype.submitColumns=function(a){"string"==typeof a&&(a=a.split(this.delim)),this._submit_cols=a},dhtmlXGridObject.prototype.setFieldName=function(a){a=a.replace(/\{GRID_ID\}/g,"'+a1+'"),a=a.replace(/\{ROW_ID\}/g,"'+a2+'"),a=a.replace(/\{ROW_INDEX\}/g,"'+this.getRowIndex(a2)+'"),a=a.replace(/\{COLUMN_INDEX\}/g,"'+a3+'"),a=a.replace(/\{COLUMN_ID\}/g,"'+this.getColumnId(a3)+'"),this._input_mask=Function("a1","a2","a3","return '"+a+"';")},dhtmlXGridObject.prototype.submitSerialization=function(a){this.FormSubmitSerialization=convertStringToBoolean(a)},dhtmlXGridObject.prototype.submitAddedRows=function(a){this._submitAR=convertStringToBoolean(a)},dhtmlXGridObject.prototype.submitOnlySelected=function(a){this.FormSubmitOnlySelected=convertStringToBoolean(a)},dhtmlXGridObject.prototype.submitOnlyRowID=function(a){this.FormSubmitOnlyRowID=convertStringToBoolean(a)},dhtmlXGridObject.prototype.createFormInput=function(a,b){var c=document.createElement("input");c.type="hidden",c.name=this._input_mask&&"string"!=typeof a?this._input_mask.apply(this,a):((this.globalBox||this.entBox).id||"dhtmlXGrid")+"_"+a,c.value=b,this.parentForm.appendChild(c),this.formInputs.push(c)},dhtmlXGridObject.prototype.createFormInputRow=function(a){for(var b=(this.globalBox||this.entBox).id,c=0;c<this._cCount;c++){var d=this.cells3(a,c);this.FormSubmitOnlyChanged&&!d.wasChanged()||this._submit_cols&&!this._submit_cols[c]||this.createFormInput(this._input_mask?[b,a.idd,c]:a.idd+"_"+c,d.getValue())}},dhtmlXGridObject.prototype.formCreateInputCollection=function(){if(0==this.parentForm)return!1;for(var a=0;a<this.formInputs.length;a++)this.parentForm.removeChild(this.formInputs[a]);if(this.formInputs=new Array,this.FormSubmitSerialization)this.createFormInput("serialized",this.serialize());else if(this.FormSubmitOnlySelected)if(this.FormSubmitOnlyRowID)this.createFormInput("selected",this.getSelectedId());else for(var a=0;a<this.selectedRows.length;a++)this.createFormInputRow(this.selectedRows[a]);else this._submitAR&&(this._added_rows.length&&this.createFormInput("rowsadded",this._added_rows.join(",")),this._deleted_rows.length&&this.createFormInput("rowsdeleted",this._deleted_rows.join(","))),this.forEachRow(function(a){this.getRowById(a),this.createFormInputRow(this.rowsAr[a])})},dhtmlXGridObject.prototype.detectParentFormPresent=function(){for(var a=!1,b=this.entBox;b&&b.tagName&&b!=document.body;){if("form"==b.tagName.toLowerCase()){a=b;break}b=b.parentNode}return a},dhtmlXGridObject.prototype.unGroup=function(){this._groups&&(this._dndProblematic=!1,delete this._groups,delete this._gIndex,this._fake&&this._mirror_rowsCol(),this.forEachRow(function(a){this.rowsAr[a].style.display=""}),this._reset_view(),this.callEvent("onGridReconstructed",[]),this.callEvent("onUnGroup",[]))},dhtmlXGridObject.prototype._mirror_rowsCol=function(){this._fake._groups=this._groups,this._fake._gIndex=this._gIndex,this.rowsBuffer=dhtmlxArray();for(var a=0;a<this.rowsCol.length;a++)this.rowsCol[a]._cntr||this.rowsBuffer.push(this.rowsCol[a]);this._fake.rowsBuffer=dhtmlxArray();for(var a=0;a<this._fake.rowsCol.length;a++)this._fake.rowsCol[a]._cntr||this._fake.rowsBuffer.push(this._fake.rowsCol[a])},dhtmlXGridObject.prototype.groupBy=function(a,b){if(this._groups&&this.unGroup(),this._dndProblematic=!0,this._groups={},!b){b=["#title"];for(var c=1;c<this._cCount;c++)b.push("#cspan")}this._gmask=document.createElement("TR"),this._gmask.origin=b;for(var d,e=0,c=0;c<b.length;c++)"#cspan"==b[c]?d.colSpan=(parseInt(d.colSpan)||1)+1:(d=document.createElement("TD"),d._cellIndex=c,this._hrrar[c]&&(d.style.display="none"),d.className="group_row",d.innerHTML="&nbsp;","#title"==b[c]?this._gmask._title=e:d.align=this.cellAlign[c]||"left",this._gmask.appendChild(d),0==b[c].indexOf("#stat")&&(this._gmask._math=!0,d._counter=[this["_g_"+b[c].replace("#","")],c,e]),e++);for(var f in this._groups)this._groups[f]=this.undefined;if(this._gIndex=a,this._fake&&!this._realfake&&(this._fake._groups=[],this._fake._gIndex=this._gIndex),this._nextRow=function(a,b){var c=this.rowsCol[a+b];return c&&("none"==c.style.display||c._cntr)?this._nextRow(a+b,b):c},this.__sortRowsBG||(this._key_events=dhtmlXHeir({},this._key_events),this._key_events.k38_0_0=function(){if(this.editor&&this.editor.combo)this.editor.shiftPrev();else{var a=this.row.rowIndex;if(!a)return;var b=this._nextRow(a-1,-1);b&&this.selectCell(b,this.cell._cellIndex,!0)}},this._key_events.k13_1_0=this._key_events.k13_0_1=function(){},this._key_events.k40_0_0=function(){if(this.editor&&this.editor.combo)this.editor.shiftNext();else{var a=this.row.rowIndex;if(!a)return;var b=this._nextRow(a-1,1);b&&this.selectCell(b,this.cell._cellIndex,!0)}},this.attachEvent("onFilterStart",function(){return this._groups&&(this._groups=this.undefined),!0}),this.attachEvent("onFilterEnd",function(){"undefined"!=typeof this._gIndex&&this.groupBy(this._gIndex,this._gmask.origin)}),this.sortRows_bg=this.sortRows,this.sortRows=function(a,b,c){return"undefined"==typeof this._groups?this.sortRows_bg.apply(this,arguments):void this.callEvent("onBeforeSorting",[a,b||"str",c||"asc"])},this.attachEvent("onBeforeSorting",function(a,b,c){return"undefined"==typeof this._groups?!0:(a==this._gIndex?this._sortByGroup(a,b,c):this._sortInGroup(a,b,c),this.setSortImgState(!0,a,c),this._fake&&(this._mirror_rowsCol(),this._fake._groups=[],this._fake._reset_view()),this.setSortImgState(!0,a,c),this.callEvent("onAfterSorting",[a,b,c]),!1)}),this.attachEvent("onClearAll",function(){this.unGroup()}),this.attachEvent("onBeforeRowDeleted",function(a){if(!this._groups)return!0;if(!this.rowsAr[a])return!0;var b=this.cells(a,this._gIndex).getValue();""===b&&(b=" ");var c=this._groups[b];return this._dec_group(c),!0}),this.attachEvent("onAfterRowDeleted",function(){this.updateGroups()}),this.attachEvent("onCheckbox",function(a,b,c){this.callEvent("onEditCell",[2,a,b,c?1:0,c?0:1])}),this.attachEvent("onXLE",this.updateGroups),this.attachEvent("onColumnHidden",this.hideGroupColumn),this.attachEvent("onEditCell",function(a,b,c,d,e){if(!this._groups)return!0;if(2==a&&d!=e&&c==this._gIndex){""===e&&(e=" "),this._dec_group(this._groups[e]);var f=this.rowsAr[b],g=this.rowsCol._dhx_find(f),h=this._inc_group(d),i=this.rowsCol[h];f==i&&(i=i.nextSibling);{var j=f.parentNode;f.rowIndex}j.removeChild(f),i?j.insertBefore(f,i):j.appendChild(f),this.rowsCol._dhx_insertAt(h,f),g>h&&g++,this.rowsCol._dhx_removeAt(g,f),this._fixAlterCss()}else 2==a&&d!=e&&(this.updateGroups(),this._updateGroupView(this._groups[this.cells(b,this._gIndex).getValue()||" "]));return!0}),this.__sortRowsBG=!0),this._groupExisting(),this._hrrar)for(var c=0;c<this._hrrar.length;c++)this._hrrar[c]&&this.hideGroupColumn(c,!0);this.callEvent("onGroup",[]),(this._ahgr||this._awdth)&&this.setSizes()},dhtmlXGridObject.prototype._sortInGroup=function(a,b,c){var d=this._groups_get();d.reverse();for(var e=0;e<d.length;e++){for(var f=d[e]._cntr._childs,g={},h=0;h<f.length;h++){var i=this.cells3(f[h],a);g[f[h].idd]=i.getDate?i.getDate():i.getValue()}this._sortCore(a,b,c,g,f)}this._groups_put(d),this.setSizes(),this.callEvent("onGridReconstructed",[])},dhtmlXGridObject.prototype._sortByGroup=function(a,b,c){for(var d=this._groups_get(),e=[],f=0;f<d.length;f++)d[f].idd="_sort_"+f,e["_sort_"+f]=d[f]._cntr.text;this._sortCore(a,b,c,e,d),this._groups_put(d),this.callEvent("onGridReconstructed",[]),this.setSizes()},dhtmlXGridObject.prototype._inc_group=function(a,b,c){""===a&&(a=" "),this._groups[a]||(this._groups[a]={text:a,row:this._addPseudoRow(),count:0,state:b?"plus":"minus"});var d=this._groups[a];d.row._cntr=d;var e=this.rowsCol._dhx_find(d.row)+d.count+1;return d.count++,c||(this._updateGroupView(d),this.updateGroups()),e},dhtmlXGridObject.prototype._dec_group=function(a){return a?(a.count--,0==a.count?(a.row.parentNode.removeChild(a.row),this.rowsCol._dhx_removeAt(this.rowsCol._dhx_find(a.row)),delete this._groups[a.text]):this._updateGroupView(a),this._fake&&!this._realfake&&this._fake._dec_group(this._fake._groups[a.text]),this.updateGroups(),!0):void 0},dhtmlXGridObject.prototype._insertRowAt_gA=dhtmlXGridObject.prototype._insertRowAt,dhtmlXGridObject.prototype._insertRowAt=function(a,b,c){if("undefined"!=typeof this._groups){if(this._realfake)var d=this._fake._bfs_cells(a.idd,this._gIndex).getValue();else if(this._bfs_cells3)var d=this._bfs_cells3(a,this._gIndex).getValue();else var d=this.cells3(a,this._gIndex).getValue();d||(d=" "),b=this._inc_group(d,"none"==a.style.display)}var e=this._insertRowAt_gA(a,b,c);return"undefined"!=typeof this._groups&&(this.expandGroup(d),this._updateGroupView(this._groups[d]),this.updateGroups()),e},dhtmlXGridObject.prototype._updateGroupView=function(a){if(this._fake&&!this._realfake)return a.row.firstChild.innerHTML="&nbsp;";var b=this._gmask||this._fake._gmask,c="<img style='margin-bottom:-4px' src='"+this.imgURL+a.state+".gif'> ";c+=this.customGroupFormat?this.customGroupFormat(a.text,a.count):a.text+" ( "+a.count+" ) ",a.row.childNodes[b._title].innerHTML=c},dhtmlXGridObject.prototype._addPseudoRow=function(a){for(var b=this._gmask||this._fake._gmask,c=b.cloneNode(!0),d=0;d<c.childNodes.length;d++)c.childNodes[d]._cellIndex=b.childNodes[d]._cellIndex,this._realfake&&(c.childNodes[d].style.display="");var e=this;return c.onclick=function(a){e.callEvent("onGroupClick",[this._cntr.text])&&(e._fake&&e._realfake?e._fake._switchGroupState(e._fake._groups[this._cntr.text].row):e._switchGroupState(this),(a||event).cancelBubble="true")},c.ondblclick=function(a){(a||event).cancelBubble="true"},a||(_isKHTML?this.obj.appendChild(c):this.obj.firstChild.appendChild(c),this.rowsCol.push(c)),c},dhtmlXGridObject.prototype._groups_get=function(){var a=[];this._temp_par=this.obj.parentNode,this._temp_par.removeChild(this.obj);for(var b=[],c=this.rowsCol.length-1;c>=0;c--)this.rowsCol[c]._cntr?(this.rowsCol[c]._cntr._childs=b,b=[],a.push(this.rowsCol[c])):b.push(this.rowsCol[c]),this.rowsCol[c].parentNode.removeChild(this.rowsCol[c]);return a},dhtmlXGridObject.prototype._groups_put=function(a){var b=this.rowsCol.stablesort;this.rowsCol=new dhtmlxArray(0),this.rowsCol.stablesort=b;for(var c=0;c<a.length;c++){var d=a[c]._cntr;this.obj.firstChild.appendChild(d.row),this.rowsCol.push(d.row),d.row.idd=null;for(var e=0;e<d._childs.length;e++)this.obj.firstChild.appendChild(d._childs[e]),this.rowsCol.push(d._childs[e]);
delete d._childs}this._temp_par.appendChild(this.obj)},dhtmlXGridObject.prototype._groupExisting=function(a){if(this.getRowsNum()){var a=[];this._temp_par=this.obj.parentNode,this._temp_par.removeChild(this.obj);for(var b=this.rowsCol.length,c=0;b>c;c++){var d=this.cells4(this.rowsCol[c].childNodes[this._gIndex]).getValue();if(this.rowsCol[c].style.display="",d||(d=" "),!this._groups[d]){this._groups[d]={text:d,row:this._addPseudoRow(!0),count:0,state:"minus"};var e=this._groups[d];e.row._cntr=e,this._groups[d]._childs=[],a.push(e.row)}this._groups[d].count++,this._groups[d]._childs.push(this.rowsCol[c]),this.rowsCol[c].parentNode.removeChild(this.rowsCol[c])}for(var c=0;c<a.length;c++)this._updateGroupView(a[c]._cntr);this._groups_put(a),this._fake&&!this._realfake&&(this._mirror_rowsCol(),this._fake._groups=[],this._fake._reset_view()),this.callEvent("onGridReconstructed",[]),this.updateGroups()}},dhtmlXGridObject.prototype._switchGroupState=function(a){var b=a._cntr;this._fake&&!this._realfake&&(b.state=this._fake._groups[a._cntr.text].row._cntr.state,this._fake._switchGroupState(this._fake._groups[a._cntr.text].row));var c=this.rowsCol._dhx_find(b.row)+1;b.state="minus"==b.state?"plus":"minus";for(var d="plus"==b.state?"none":"";this.rowsCol[c]&&!this.rowsCol[c]._cntr;)this.rowsCol[c].style.display=d,c++;this._updateGroupView(b),this.callEvent("onGroupStateChanged",[b.text,"minus"==b.state]),this.setSizes()},dhtmlXGridObject.prototype.expandGroup=function(a){"plus"==this._groups[a].state&&this._switchGroupState(this._groups[a].row)},dhtmlXGridObject.prototype.collapseGroup=function(a){"minus"==this._groups[a].state&&this._switchGroupState(this._groups[a].row)},dhtmlXGridObject.prototype.expandAllGroups=function(){for(var a in this._groups)this._groups[a]&&"plus"==this._groups[a].state&&this._switchGroupState(this._groups[a].row)},dhtmlXGridObject.prototype.collapseAllGroups=function(){for(var a in this._groups)this._groups[a]&&"minus"==this._groups[a].state&&this._switchGroupState(this._groups[a].row)},dhtmlXGridObject.prototype.hideGroupColumn=function(a,b){if(!this._fake){for(var c=-1,d=this._gmask.childNodes,e=0;e<d.length;e++)if(d[e]._cellIndex==a){c=e;break}if(-1!=c)for(var f in this._groups)this._groups[f].row.childNodes[c].style.display=b?"none":""}},dhtmlXGridObject.prototype.groupStat=function(a,b,c){c=this["_g_"+(c||"stat_total")];var d=0,e=0;return this.forEachRowInGroup(a,function(a){d=c(d,1*this.cells(a,b).getValue(),e),e++}),d},dhtmlXGridObject.prototype.forEachRowInGroup=function(a,b){var c=this._groups[a].row.nextSibling;if(c)for(;c&&!c._cntr;)b.call(this,c.idd),c=c.nextSibling;else{var d=this._groups[a]._childs;if(d)for(var e=0;e<d.length;e++)b.call(this,d[e].idd)}},dhtmlXGridObject.prototype.updateGroups=function(){if(this._gmask&&this._gmask._math&&!this._parsing)for(var a=this._gmask.childNodes,b=0;b<a.length;b++)a[b]._counter&&this._b_processing.apply(this,a[b]._counter)},dhtmlXGridObject.prototype._b_processing=function(a,b,c){var d=0,e=0;this._ecache[this.cellType[b]]||this.cells5({parentNode:{grid:this}},this.cellType[b]);for(var f=this.rowsCol.length-1;f>=0;f--)this.rowsCol[f]._cntr?(this.cells5(this.rowsCol[f].childNodes[c],this.cellType[b]).setValue(d),e=d=0):(d=a(d,1*this.cells3(this.rowsCol[f],b).getValue(),e),e++)},dhtmlXGridObject.prototype._g_stat_total=function(a,b){return a+b},dhtmlXGridObject.prototype._g_stat_min=function(a,b,c){return c||(a=1/0),Math.min(a,b)},dhtmlXGridObject.prototype._g_stat_max=function(a,b,c){return c||(a=-1/0),Math.max(a,b)},dhtmlXGridObject.prototype._g_stat_average=function(a,b,c){return(a*c+b)/(c+1)},dhtmlXGridObject.prototype._g_stat_count=function(a){return a++},dhtmlXGridObject.prototype._in_header_collapse=function(a,b,c){var d="TD"==a.tagName?a:a.parentNode;b=d._cellIndexS,this._column_groups||(this._column_groups=[]);var e=c[1].split(":"),e=c[1].split(":");e=[e.shift(),e.join(":")];var f=parseInt(e[0]);a.innerHTML=c[0]+"<img src='"+this.imgURL+"minus.gif' style='padding-right:10px;height:16px'/><span style='position:relative; top:-6px;'>"+(e[1]||"")+"<span>",a.style.paddingBottom="0px";var g=this;this._column_groups[b]=a.getElementsByTagName("IMG")[0],this._column_groups[b].onclick=function(a){(a||event).cancelBubble=!0,this._cstate=!this._cstate;for(var c=b+1;b+f>c;c++)g.setColumnHidden(c,this._cstate);if(this._cstate){if(d.colSpan&&d.colSpan>0){d._exp_colspan=d.colSpan;var e=Math.max(1,d.colSpan-f);if(!_isFF)for(var h=0;h<d.colSpan-e;h++){var i=document.createElement("TD");d.nextSibling?d.parentNode.insertBefore(i,d.nextSibling):d.parentNode.appendChild(i)}d.colSpan=e}g.callEvent("onColumnCollapse",[b,this._cstate])}else if(d._exp_colspan){if(d.colSpan=d._exp_colspan,!_isFF)for(var h=1;h<d._exp_colspan;h++)d.parentNode.removeChild(d.nextSibling);g.callEvent("onColumnCollapse",[b,this._cstate])}this.src=g.imgURL+(this._cstate?"plus.gif":"minus.gif"),"none"!=g.sortImg.style.display&&g.setSortImgPos()}},dhtmlXGridObject.prototype.collapseColumns=function(a){this._column_groups[a]&&!this._column_groups[a]._cstate&&this._column_groups[a].onclick({})},dhtmlXGridObject.prototype.expandColumns=function(a){this._column_groups[a]&&this._column_groups[a]._cstate&&this._column_groups[a].onclick({})},dhtmlXGridObject.prototype.enableHeaderMenu=function(a){"string"==typeof a&&(a=a.split(",")),this._hm_config=a;var b=this;this.attachEvent("onInit",function(){this.hdr.oncontextmenu=function(a){return b._doHContClick(a||window.event)},this.startColResizeA=this.startColResize,this.startColResize=function(a){return 2==a.button||_isMacOS&&a.ctrlKey?this._doHContClick(a):this.startColResizeA(a)},this._chm_ooc=this.obj.onclick,this._chm_hoc=this.hdr.onclick,this.hdr.onclick=function(a){return a&&(2==a.button||_isMacOS&&a.ctrlKey)?!1:(b._showHContext(!1),b._chm_hoc.apply(this,arguments))},this.obj.onclick=function(){return b._showHContext(!1),b._chm_ooc.apply(this,arguments)}}),dhtmlxEvent(document.body,"click",function(){b._hContext&&b._showHContext(!1)}),this.hdr.rows.length&&this.callEvent("onInit",[]),this.enableHeaderMenu=function(){}},dhtmlXGridObject.prototype._doHContClick=function(a){function b(a){if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=_isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}}this._createHContext();var c=b(a);return this._showHContext(!0,c.x,c.y),a[_isIE?"srcElement":"target"].oncontextmenu=function(a){return(a||event).cancelBubble=!0,!1},a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),!1},dhtmlXGridObject.prototype._createHContext=function(){if(this._hContext)return this._hContext;var a=document.createElement("DIV");a.oncontextmenu=function(a){return(a||event).cancelBubble=!0,!1},a.onclick=function(a){return(a||event).cancelBubble=!0,!0},a.className="dhx_header_cmenu",a.style.width=a.style.height="5px",a.style.display="none";var b=[],c=0;this._fake&&(c=this._fake._cCount);for(var c,d=c;c<this.hdr.rows[1].cells.length;c++){var e=this.hdr.rows[1].cells[c];if(!this._hm_config||this._hm_config[c]&&"false"!=this._hm_config[c]){if(e.firstChild&&"DIV"==e.firstChild.tagName)var f=e.firstChild.innerHTML;else var f=e.innerHTML;f=f.replace(/<[^>]*>/gi,""),b.push("<div class='dhx_header_cmenu_item'><input type='checkbox' column='"+d+"' len='"+(e.colSpan||1)+"' checked='true' />"+f+"</div>")}d+=e.colSpan||1}a.innerHTML=b.join("");for(var g=this,h=function(){var a=this.getAttribute("column");if(!this.checked&&!g._checkLast(a))return this.checked=!0;g._realfake&&(g=g._fake);for(var b=0;b<this.getAttribute("len");b++)g.setColumnHidden(1*a+1*b,!this.checked);this.checked&&0==g.getColWidth(a)&&g.adjustColumnSize(a)},c=0;c<a.childNodes.length;c++)a.childNodes[c].firstChild.onclick=h;document.body.insertBefore(a,document.body.firstChild),this._hContext=a,a.style.position="absolute",a.style.zIndex=999,a.style.width="auto",a.style.height="auto",a.style.display="block"},dhtmlXGridObject.prototype._checkLast=function(a){for(var b=0;b<this._cCount;b++)if(!(this._hrrar&&this._hrrar[b]||b==a))return!0;return!1},dhtmlXGridObject.prototype._updateHContext=function(){for(var a=0;a<this._hContext.childNodes.length;a++){var b=this._hContext.childNodes[a].firstChild,c=b.getAttribute("column");(this.isColumnHidden(c)||0==this.getColWidth(c))&&(b.checked=!1)}},dhtmlXGridObject.prototype._showHContext=function(a,b,c){a&&this.enableColumnMove&&(this._hContext.parentNode.removeChild(this._hContext),this._hContext=null),this._createHContext(),this._hContext.style.display=a?"block":"none",a&&(this._updateHContext(!0),this._hContext.style.left=b+"px",this._hContext.style.top=c+"px")},dhtmlXGridObject.prototype._process_json_row=function(a,b){a._attrs=b;for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};if(b.userdata)for(var d in b.userdata)this.setUserData(a.idd,d,b.userdata[d]);b=this._c_order?this._swapColumns(b.data):b.data;for(var e=0;e<b.length;e++)"object"==typeof b[e]&&null!=b[e]&&(a.childNodes[e]._attrs=b[e],b[e].type&&(a.childNodes[e]._cellType=b[e].type),b[e]=b[e].value);return this._fillRow(a,b),a},dhtmlXGridObject.prototype._process_js_row=function(a,b){a._attrs=b;for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};if(b.userdata)for(var d in b.userdata)this.setUserData(a.idd,d,b.userdata[d]);for(var e=[],f=0;f<this.columnIds.length;f++)e[f]=b[this.columnIds[f]],"object"==typeof e[f]&&null!=e[f]&&(a.childNodes[f]._attrs=e[f],e[f].type&&(a.childNodes[f]._cellType=e[f].type),e[f]=e[f].value),e[f]||0===e[f]||(e[f]="");return this._fillRow(a,e),a},dhtmlXGridObject.prototype.updateFromJSON=function(a,b,c,d){"undefined"==typeof b&&(b=!0),this._refresh_mode=[!0,b,c],this.load(a,d,"json")},dhtmlXGridObject.prototype._refreshFromJSON=function(a){this._f_rowsBuffer&&this.filterBy(0,""),reset=!1,window.eXcell_tree&&(eXcell_tree.prototype.setValueX=eXcell_tree.prototype.setValue,eXcell_tree.prototype.setValue=function(a){var b=this.grid._h2.get[this.cell.parentNode.idd];b&&this.cell.parentNode.valTag?this.setLabel(a):this.setValueX(a)});var b=this.cellType._dhx_find("tree"),c=a.parent||0,d={};this._refresh_mode[2]&&(-1!=b?this._h2.forEachChild(c,function(a){d[a.id]=!0},this):this.forEachRow(function(a){d[a]=!0}));for(var e=a.rows,f=0;f<e.length;f++){var g=e[f],h=g.id;if(d[h]=!1,this.rowsAr[h]&&"TR"!=this.rowsAr[h].tagName)this._h2?this._h2.get[h].buff.data=g:this.rowsBuffer[this.getRowIndex(h)].data=g,this.rowsAr[h]=g;else if(this.rowsAr[h])this._process_json_row(this.rowsAr[h],g,-1),this._postRowProcessing(this.rowsAr[h],!0);else if(this._refresh_mode[1]){var i={idd:h,data:g,_parser:this._process_json_row,_locator:this._get_json_data},j=this.rowsBuffer.length;"top"==this._refresh_mode[1]?(this.rowsBuffer.unshift(i),j=0):this.rowsBuffer.push(i),this._h2&&(reset=!0,this._h2.add(h,c).buff=this.rowsBuffer[this.rowsBuffer.length-1]),this.rowsAr[h]=g,g=this.render_row(j),this._insertRowAt(g,j?-1:0)}}if(this._refresh_mode[2])for(h in d)d[h]&&this.rowsAr[h]&&this.deleteRow(h);this._refresh_mode=null,window.eXcell_tree&&(eXcell_tree.prototype.setValue=eXcell_tree.prototype.setValueX),reset&&this._renderSort(),this._f_rowsBuffer&&(this._f_rowsBuffer=null,this.filterByAll())},dhtmlXGridObject.prototype._process_js=function(a){return this._process_json(a,"js")},dhtmlXGridObject.prototype._process_json=function(data,mode){this._parsing=!0;try{data&&data.xmlDoc?(eval("dhtmlx.temp="+data.xmlDoc.responseText+";"),data=dhtmlx.temp):"string"==typeof data&&(eval("dhtmlx.temp="+data+";"),data=dhtmlx.temp)}catch(e){dhtmlxError.throwError("LoadXML","Incorrect JSON",[data.xmlDoc||data,this]),data={rows:[]}}if(this._refresh_mode)return this._refreshFromJSON(data);var cr=parseInt(data.pos||0),total=parseInt(data.total_count||0),reset=!1;total&&(this.rowsBuffer[total-1]||(this.rowsBuffer.length&&(reset=!0),this.rowsBuffer[total-1]=null),total<this.rowsBuffer.length&&(this.rowsBuffer.splice(total,this.rowsBuffer.length-total),reset=!0));for(var key in data)"rows"!=key&&this.setUserData("",key,data[key]);if("js"==mode&&data.collections)for(var colkey in data.collections){var index=this.getColIndexById(colkey),colrecs=data.collections[colkey];if(index!==window.undefined)if("clist"==this.cellType[index]){colplaindata=[];for(var j=0;j<colrecs.length;j++)colplaindata.push(colrecs[j].label);this.registerCList(index,colplaindata)}else for(var combo=this.getCombo(index),j=0;j<colrecs.length;j++)combo.put(colrecs[j].value,colrecs[j].label)}if(this.isTreeGrid())return this._process_tree_json(data,null,null,mode);if("js"==mode){data.data&&(data=data.data);for(var i=0;i<data.length;i++)if(!this.rowsBuffer[i+cr]){var row=data[i],id=row.id||i+1;this.rowsBuffer[i+cr]={idd:id,data:row,_parser:this._process_js_row,_locator:this._get_js_data},this.rowsAr[id]=data[i]}}else for(var i=0;i<data.rows.length;i++)if(!this.rowsBuffer[i+cr]){var id=data.rows[i].id;this.rowsBuffer[i+cr]={idd:id,data:data.rows[i],_parser:this._process_json_row,_locator:this._get_json_data},this.rowsAr[id]=data.rows[i]}if(reset&&this._srnd){var h=this.objBox.scrollTop;this._reset_view(),this.objBox.scrollTop=h}else this.render_dataset();this._parsing=!1},dhtmlXGridObject.prototype._get_json_data=function(a,b){return"object"==typeof a.data[b]?a.data[b].value:a.data[b]},dhtmlXGridObject.prototype._process_tree_json=function(a,b,c,d){this._parsing=!0;var e=!1;if(b||(this.render_row=this.render_row_tree,e=!0,b=a,c=b.parent||0,"0"==c&&(c=0),this._h2||(this._h2=new dhtmlxHierarchy),this._fake&&(this._fake._h2=this._h2)),"js"==d){b.data&&!c&&(a=b.data),b.rows&&(b=b.rows);for(var f=0;f<b.length;f++){var g=b[f].id,h=this._h2.add(g,c);h.buff={idd:g,data:b[f],_parser:this._process_js_row,_locator:this._get_js_data},b[f].open&&(h.state="minus"),this.rowsAr[g]=h.buff,this._process_tree_json(b[f],b[f],g,d)}}else if(b.rows)for(var f=0;f<b.rows.length;f++){var g=b.rows[f].id,h=this._h2.add(g,c);h.buff={idd:g,data:b.rows[f],_parser:this._process_json_row,_locator:this._get_json_data},b.rows[f].open&&(h.state="minus"),this.rowsAr[g]=h.buff,this._process_tree_json(b.rows[f],b.rows[f],g,d)}e&&(0!=c&&this._h2.change(c,"state","minus"),this._updateTGRState(this._h2.get[c]),this._h2_to_buff(),0!=c&&(this._srnd||this.pagingOn)?this._renderSort():this.render_dataset(),this._slowParse===!1&&this.forEachRow(function(a){this.render_row_tree(0,a)}),this._parsing=!1,0==c||this._srnd||this.callEvent("onOpenEnd",[c,1]))},dhtmlXGridObject.prototype.enableMarkedCells=function(a){this.markedRowsArr=new dhtmlxArray(0),this.markedCellsArr=new Array(0),this.lastMarkedRow=null,this.lastMarkedColumn=null,this.markedCells=!0,this.lastMarkMethod=0,arguments.length>0&&(convertStringToBoolean(a)||(this.markedCells=!1))},dhtmlXGridObject.prototype.doMark=function(a,b){var c=a.parentNode.idd;if(this.setActive(!0),c){this.editStop(),this.cell=a,this.row=a.parentNode;var d=a._cellIndex;if(b||(b=0),0==b)this.unmarkAll();else if(1==b){if(this.lastMarkedRow)for(var e=Math.min(this.getRowIndex(c),this.getRowIndex(this.lastMarkedRow)),f=Math.max(this.getRowIndex(c),this.getRowIndex(this.lastMarkedRow)),g=Math.min(d,this.lastMarkedColumn),h=Math.max(d,this.lastMarkedColumn),i=e;f+1>i;i++)for(var j=g;h+1>j;j++)this.mark(this.getRowId(i),j,!0)}else if(2==b&&-1!=this.markedRowsArr._dhx_find(c))for(var k=0;k<this.markedCellsArr[c].length;k++)if(this.markedCellsArr[c][k]==d)return this.mark(c,d,!1),!0;this.markedCellsArr[c]||(this.markedCellsArr[c]=new dhtmlxArray(0)),1!=b&&this.mark(c,d),this.moveToVisible(this.cells(c,d).cell),this.lastMarkedRow=c,this.lastMarkedColumn=d,this.lastMarkMethod=b}},dhtmlXGridObject.prototype.mark=function(a,b,c){if(arguments.length>2&&!convertStringToBoolean(c)){if(this.cells(a,b).cell.className=this.cells(a,b).cell.className.replace(/cellselected/g,""),-1!=this.markedRowsArr._dhx_find(a)){var d=this.markedCellsArr[a]._dhx_find(b);-1!=d&&(this.markedCellsArr[a]._dhx_removeAt(d),0==this.markedCellsArr[a].length&&this.markedRowsArr._dhx_removeAt(this.markedRowsArr._dhx_find(a)),this.callEvent("onCellUnMarked",[a,b]))}return!0}this.cells(a,b).cell.className+=" cellselected",-1==this.markedRowsArr._dhx_find(a)&&(this.markedRowsArr[this.markedRowsArr.length]=a),this.markedCellsArr[a]||(this.markedCellsArr[a]=new dhtmlxArray(0)),-1==this.markedCellsArr[a]._dhx_find(b)&&(this.markedCellsArr[a][this.markedCellsArr[a].length]=b,this.callEvent("onCellMarked",[a,b]))},dhtmlXGridObject.prototype.unmarkAll=function(){if(this.markedRowsArr){for(var a=0;a<this.markedRowsArr.length;a++){var b=this.markedRowsArr[a];if(this.rowsAr[b])for(var c=0;c<this.markedCellsArr[b].length;c++)this.callEvent("onCellUnMarked",[b,this.markedCellsArr[b][c]]),this.cells(b,this.markedCellsArr[b][c]).cell.className=this.cells(b,this.markedCellsArr[b][c]).cell.className.replace(/cellselected/g,"")}this.markedRowsArr=new dhtmlxArray(0),this.markedCellsArr=new Array(0)}return!0},dhtmlXGridObject.prototype.getMarked=function(){var a=new Array;if(this.markedRowsArr)for(var b=0;b<this.markedRowsArr.length;b++)for(var c=this.markedRowsArr[b],d=0;d<this.markedCellsArr[c].length;d++)a[a.length]=[c,this.markedCellsArr[c][d]];return a},eXcell_math.prototype=new eXcell,dhtmlXGridObject.prototype._init_point_bm=dhtmlXGridObject.prototype._init_point,dhtmlXGridObject.prototype._init_point=function(){this._mat_links={},this._aggregators=[],this.attachEvent("onClearAll",function(){this._mat_links={},this._aggregators=[]}),this.attachEvent("onCellChanged",function(a,b){if(this._mat_links[a]){var c=this._mat_links[a][b];if(c)for(var d=0;d<c.length;d++)c[d].parentNode&&this.cells5(c[d]).setValue(this._calcSCL(c[d]))}if(!this._parsing&&this._aggregators[b]){var e=this._h2.get[a].parent.id;if(0!=e){var f=this.cells(e,b);f.setValue(this._calcSCL(f.cell))}}}),this.attachEvent("onAfterRowDeleted",function(a,b){if(0!=b&&!this._parsing&&this._aggregators.length)for(var c=0;c<this._aggregators.length;c++)if(this._aggregators[c]){var d=this.cells(b,c);d.setValue(this._calcSCL(d.cell))}return!0}),this.attachEvent("onXLE",function(){for(var a=0;a<this._aggregators.length;a++)this._aggregators[a]&&this._h2.forEachChild(0,function(b){if(0!=b.childs.length){var c=this.cells(b.id,a);c.setValue(this._calcSCL(c.cell))}},this)}),this._init_point=this._init_point_bm,this._init_point&&this._init_point()},dhtmlXGridObject.prototype.enableMathSerialization=function(a){this._mathSerialization=convertStringToBoolean(a)},dhtmlXGridObject.prototype.setMathRound=function(a){this._roundDl=a,this._roundD=Math.pow(10,a)},dhtmlXGridObject.prototype.enableMathEditing=function(a){this._mathEdit=convertStringToBoolean(a)},dhtmlXGridObject.prototype._calcSCL=function(cell){if(!cell._code)return this.cells5(cell).getValue();try{dhtmlx.agrid=this;var z=eval(cell._code)}catch(e){return"#SCL"}if(this._roundD){var pre=Math.abs(z)<1?"0":"";if(0>z&&(pre="-"+pre),z=Math.round(Math.abs(z)*this._roundD).toString(),0==z)return 0;if(this._roundDl>0){var n=z.length-this._roundDl;return 0>n&&(z=("000000000"+z).substring(9+n),n=0),pre+z.substring(0,n)+"."+z.substring(n,z.length)}return pre+z}return z},dhtmlXGridObject.prototype._countTotal=function(a,b){for(var c=0,d=this._h2.get[a],e=0;e<d.childs.length;e++){if(!d.childs[e].buff)return c;if(d.childs[e].buff._parser)return this._h2.forEachChild(a,function(a){if(0==a.childs.length){var d=parseFloat(this._get_cell_value(a.buff,b),10);d&&(c+=d)}},this),c;var f=parseFloat(this._get_cell_value(d.childs[e].buff,b),10);f&&(c+=f)}return c},dhtmlXGridObject.prototype._compileSCL=function(a,b,c){if(null===a||a===window.undefined)return a;if(a=a.toString(),0!=a.indexOf("=")||!b.parentNode)return this._reLink([],b),c&&(b._code=b.original=null),a;b.original=a;var d=null;if(a=a.replace("=",""),-1!=a.indexOf("sum"))return a=a.replace("sum","(dhtmlx.agrid._countTotal('"+b.parentNode.idd+"',"+b._cellIndex+"))"),this._aggregators||(this._aggregators=[]),this._aggregators[b._cellIndex]="sum",b._code=a,this._parsing?"":this._calcSCL(b);if(-1!=a.indexOf("[[")){var e=/(\[\[([^\,]*)\,([^\]]*)]\])/g;dhtmlx.agrid=this,d=d||new Array,a=a.replace(e,function(a,c,e,f){return"-"==e&&(e=b.parentNode.idd),0==e.indexOf("#")&&(e=dhtmlx.agrid.getRowId(e.replace("#",""))),d[d.length]=[e,f],'(parseFloat(dhtmlx.agrid.cells("'+e+'",'+f+").getValue(),10))"})}if(-1!=a.indexOf(":")){var e=/:(\w+)/g;dhtmlx.agrid=this;var f=b.parentNode.idd;d=d||new Array,a=a.replace(e,function(a,b){return d[d.length]=[f,dhtmlx.agrid.getColIndexById(b)],'(parseFloat(dhtmlx.agrid.cells("'+f+'",dhtmlx.agrid.getColIndexById("'+b+'")).getValue(),10))'})}else{var e=/c([0-9]+)/g;dhtmlx.agrid=this;var f=b.parentNode.idd;d=d||new Array,a=a.replace(e,function(a,b){return d[d.length]=[f,b],'(parseFloat(dhtmlx.agrid.cells("'+f+'",'+b+").getValue(),10))"})}return this._reLink(d,b),b._code=a,this._calcSCL(b)},dhtmlXGridObject.prototype._reLink=function(a,b){if(a.length)for(var c=0;c<a.length;c++){this._mat_links[a[c][0]]||(this._mat_links[a[c][0]]={});var d=this._mat_links[a[c][0]];d[a[c][1]]||(d[a[c][1]]=[]),d[a[c][1]].push(b)}},_isKHTML&&!function(){var a=String.prototype.replace;String.prototype.replace=function(b,c){if("function"!=typeof c)return a.apply(this,arguments);var d=""+this,e=c;if(!(b instanceof RegExp)){var f=d.indexOf(b);return-1==f?d:a.apply(d,[b,e(b,f,d)])}for(var g,h=b,i=[],j=h.lastIndex;null!=(g=h.exec(d));){var f=g.index,k=g.concat(f,d);if(i.push(d.slice(j,f),e.apply(null,k).toString()),!h.global){j+=RegExp.lastMatch.length;break}j=h.lastIndex}return i.push(d.slice(j)),i.join("")}}(),dhtmlXGridObject.prototype.insertColumn=function(a,b,c,d,e,f,g,h,i){if(a=parseInt(a),a>this._cCount&&(a=this._cCount),this._cMod||(this._cMod=this._cCount),this._processAllArrays(this._cCount,a-1,[b||"&nbsp;",d||100,c||"ed",f||"left",g||"",e||"na",i||"","",this._cMod,d||100]),this._processAllRows("_addColInRow",a),"object"==typeof b)for(var j=1;j<this.hdr.rows.length;j++)if("#rspan"==b[j-1]){for(var k=j-1,l=!1,m=null;!l;){for(var m=this.hdr.rows[k],n=0;n<m.cells.length;n++)if(m.cells[n]._cellIndex==a){l=n;break}k--}this.hdr.rows[k+1].cells[n].rowSpan=(this.hdr.rows[k].cells[n].rowSpan||1)+1}else this.setHeaderCol(a,b[j-1]||"&nbsp;",j);else this.setHeaderCol(a,b||"&nbsp;");this.hdr.rows[0].cells[a],this._cCount++,this._cMod++,this._master_row=null,this.setSizes()},dhtmlXGridObject.prototype.deleteColumn=function(a){a=parseInt(a),0!=this._cCount&&(this._cMod||(this._cMod=this._cCount),a>=this._cCount||(this._processAllArrays(a,this._cCount-1,[null,null,null,null,null,null,null,null,null,null,null]),this._processAllRows("_deleteColInRow",a),this._cCount--,this._master_row=null,this.setSizes()))},dhtmlXGridObject.prototype._processAllRows=function(a,b,c){this[a](this.obj.rows[0],b,c,0);for(var d=this.hdr.rows.length,e=0;d>e;e++)this[a](this.hdr.rows[e],b,c,e);if(this.ftr)for(var d=this.ftr.firstChild.rows.length,e=0;d>e;e++)this[a](this.ftr.firstChild.rows[e],b,c,e);this.forEachRow(function(d){this.rowsAr[d]&&"TR"==this.rowsAr[d].tagName&&this[a](this.rowsAr[d],b,c,-1)})},dhtmlXGridObject.prototype._processAllArrays=function(a,b,c){var d=["hdrLabels","initCellWidth","cellType","cellAlign","cellVAlign","fldSort","columnColor","_hrrar","_c_order"];this.cellWidthPX.length&&d.push("cellWidthPX"),this.cellWidthPC.length&&d.push("cellWidthPC"),this._col_combos&&d.push("_col_combos"),this._mCols&&(d[d.length]="_mCols"),this.columnIds&&(d[d.length]="columnIds"),this._maskArr&&d.push("_maskArr"),this._drsclmW&&d.push("_drsclmW"),this._RaSeCol&&d.push("_RaSeCol"),this._hm_config&&d.push("_hm_config"),this._drsclmn&&d.push("_drsclmn"),this.clists&&d.push("clists"),this._validators&&this._validators.data&&d.push(this._validators.data),d.push("combos"),this._customSorts&&d.push("_customSorts"),this._aggregators&&d.push("_aggregators");var e=b>=a;if(!this._c_order){this._c_order=new Array;for(var f=this._cCount,g=0;f>g;g++)this._c_order[g]=g}for(var g=0;g<d.length;g++){var h=this[d[g]]||d[g];if(h){if(e){for(var i=h[a],j=a;b>j;j++)h[j]=h[j+1];h[b]=i}else{for(var i=h[a],j=a;j>b+1;j--)h[j]=h[j-1];h[b+1]=i}c&&(h[b+(e?0:1)]=c[g])}}},dhtmlXGridObject.prototype.moveColumn=function(a,b){if(b--,a=parseInt(a),b=parseInt(b),a>b)var c=b+1;else var c=b;return this.callEvent("onBeforeCMove",[a,c])?void(a!=c&&(this.editStop(),this._processAllRows("_moveColInRow",a,b),this._processAllArrays(a,b),this.fldSorted&&this.setSortImgPos(this.fldSorted._cellIndex),this.callEvent("onAfterCMove",[a,c]))):!1},dhtmlXGridObject.prototype._swapColumns=function(a){for(var b=new Array,c=0;c<this._cCount;c++){var d=a[this._c_order[c]];"undefined"==typeof d&&(d=""),b[c]=d}return b},dhtmlXGridObject.prototype._moveColInRow=function(a,b,c){var d=a.childNodes[b],e=a.childNodes[c+1];if(d){e?a.insertBefore(d,e):a.appendChild(d);for(var f=0;f<a.childNodes.length;f++)a.childNodes[f]._cellIndex=a.childNodes[f]._cellIndexS=f}},dhtmlXGridObject.prototype._addColInRow=function(a,b,c,d){var e=b;if(a._childIndexes){if(a._childIndexes[b-1]!=a._childIndexes[b]&&a.childNodes[a._childIndexes[b-1]])for(var f=a._childIndexes.length;f>=b;f--)a._childIndexes[f]=f?a._childIndexes[f-1]+1:0;else{for(var f=a._childIndexes.length;f>=b;f--)a._childIndexes[f]=f?a._childIndexes[f-1]+1:0;a._childIndexes[b]--}var e=a._childIndexes[b]}var g=a.childNodes[e],h=document.createElement(d?"TD":"TH");d?h._attrs={}:h.style.width=(parseInt(this.cellWidthPX[b])||"100")+"px",g?a.insertBefore(h,g):a.appendChild(h),this.dragAndDropOff&&a.idd&&this.dragger.addDraggableItem(a.childNodes[e],this);for(var f=e+1;f<a.childNodes.length;f++)a.childNodes[f]._cellIndex=a.childNodes[f]._cellIndexS=a.childNodes[f]._cellIndex+1;a.childNodes[e]&&(a.childNodes[e]._cellIndex=a.childNodes[e]._cellIndexS=b),a.idd||"undefined"!=typeof a.idd?(this.cells3(a,b).setValue(""),h.align=this.cellAlign[b],h.style.verticalAlign=this.cellVAlign[b],h.bgColor=this.columnColor[b]):"TD"==h.tagName&&(h.innerHTML=!a.idd&&this.forceDivInHeader?"<div class='hdrcell'>&nbsp;</div>":"&nbsp;")},dhtmlXGridObject.prototype._deleteColInRow=function(a,b){var c=b;a._childIndexes&&(b=a._childIndexes[b]);var d=a.childNodes[b];if(d){if(d.colSpan&&d.colSpan>1&&d.parentNode.idd){var e=d.colSpan-1,f=this.cells4(d).getValue();if(this.setColspan(d.parentNode.idd,d._cellIndex,1),e>1){var g=1*d._cellIndex;this.setColspan(d.parentNode.idd,g+1,e),this.cells(d.parentNode.idd,1*d._cellIndex+1).setValue(f),a._childIndexes.splice(g,1);for(var h=g;h<a._childIndexes.length;h++)a._childIndexes[h]-=1}}else if(a._childIndexes){a._childIndexes.splice(c,1);for(var h=c;h<a._childIndexes.length;h++)a._childIndexes[h]--}d&&a.removeChild(d);for(var h=b;h<a.childNodes.length;h++)a.childNodes[h]._cellIndex=a.childNodes[h]._cellIndexS=a.childNodes[h]._cellIndex-1}},dhtmlXGridObject.prototype.enableColumnMove=function(a,b){this._mCol=convertStringToBoolean(a),"undefined"!=typeof b&&(this._mCols=b.split(",")),this._mmevTrue||(dhtmlxEvent(this.hdr,"mousedown",this._startColumnMove),dhtmlxEvent(document.body,"mousemove",this._onColumnMove),dhtmlxEvent(document.body,"mouseup",this._stopColumnMove),this._mmevTrue=!0)},dhtmlXGridObject.prototype._startColumnMove=function(a){a=a||event;for(var b=a.target||a.srcElement,c=b;"TABLE"!=c.tagName;)c=c.parentNode;var d=c.grid;return d&&(d.setActive(),d._mCol&&2!=a.button)?(b=d.getFirstParentOfType(b,"TD"),"default"!=b.style.cursor?!0:(d&&!d._colInMove&&(d.resized=null,d._mCols&&"true"!=d._mCols[b._cellIndex]||(d._colInMove=b._cellIndex+1)),!0)):void 0},dhtmlXGridObject.prototype._onColumnMove=function(a){a=a||event;var b=window.globalActiveDHTMLGridObject;if(b&&b._colInMove){if(b._showHContext&&b._showHContext(!1),"object"!=typeof b._colInMove){var c=document.createElement("DIV");c._aIndex=b._colInMove-1,c._bIndex=null,c.innerHTML=b.getHeaderCol(c._aIndex),c.className="dhx_dragColDiv",c.style.position="absolute",document.body.appendChild(c),b._colInMove=c}var d=[];d[0]=document.body.scrollLeft||document.documentElement.scrollLeft,d[1]=document.body.scrollTop||document.documentElement.scrollTop,b._colInMove.style.left=a.clientX+d[0]+8+"px",b._colInMove.style.top=a.clientY+d[1]+8+"px";for(var e=a.target||a.srcElement;e&&"undefined"==typeof e._cellIndexS;)e=e.parentNode;if(b._colInMove._oldHe&&(b._colInMove._oldHe.className=b._colInMove._oldHe.className.replace(/columnTarget(L|R)/g,""),b._colInMove._oldHe=null,b._colInMove._bIndex=null),e){if(b.hdr.rows[1]._childIndexes)var f=b.hdr.rows[1].cells[b.hdr.rows[1]._childIndexes[e._cellIndexS]];else var f=b.hdr.rows[1].cells[e._cellIndexS];var c=a.clientX-(getAbsoluteLeft(f)-b.hdrBox.scrollLeft);c/f.offsetWidth>.5?(f.className+=" columnTargetR",b._colInMove._bIndex=e._cellIndexS):(f.className+=" columnTargetL",b._colInMove._bIndex=e._cellIndexS-1),f.offsetLeft<b.objBox.scrollLeft+20&&(b.objBox.scrollLeft=Math.max(0,f.offsetLeft-20)),f.offsetLeft+f.offsetWidth-b.objBox.scrollLeft>b.objBox.offsetWidth-20&&(b.objBox.scrollLeft=Math.min(b.objBox.scrollLeft+f.offsetWidth+20,b.objBox.scrollWidth-b.objBox.offsetWidth)),b._colInMove._oldHe=f}return a.cancelBubble=!0,!1}return!0},dhtmlXGridObject.prototype._stopColumnMove=function(a){a=a||event;var b=window.globalActiveDHTMLGridObject;return b&&b._colInMove&&("object"==typeof b._colInMove&&(b._colInMove.parentNode.removeChild(b._colInMove),null!=b._colInMove._bIndex&&b.moveColumn(b._colInMove._aIndex,b._colInMove._bIndex+1),b._colInMove._oldHe&&(b._colInMove._oldHe.className=b._colInMove._oldHe.className.replace(/columnTarget(L|R)/g,"")),b._colInMove._oldHe=null,b._colInMove.grid=null,b.resized=!0),b._colInMove=0),!0},dhtmlXGridObject.prototype.mouseOverHeader=function(a){var b=this;dhtmlxEvent(this.hdr,"mousemove",function(c){c=c||window.event;var d=c.target||c.srcElement;"TD"!=d.tagName&&(d=b.getFirstParentOfType(d,"TD")),d&&"undefined"!=typeof d._cellIndex&&a(d.parentNode.rowIndex,d._cellIndex)})},dhtmlXGridObject.prototype.mouseOver=function(a){var b=this;dhtmlxEvent(this.obj,"mousemove",function(c){c=c||window.event;var d=c.target||c.srcElement;"TD"!=d.tagName&&(d=b.getFirstParentOfType(d,"TD")),d&&"undefined"!=typeof d._cellIndex&&a(d.parentNode.rowIndex,d._cellIndex)})},dhtmlXGridObject.prototype.enablePaging=function(a,b,c,d,e,f){this._pgn_parentObj="string"==typeof d?document.getElementById(d):d,this._pgn_recInfoParentObj="string"==typeof f?document.getElementById(f):f,this.pagingOn=a,this.showRecInfo=e,this.rowsBufferOutSize=parseInt(b),this.currentPage=1,this.pagesInGroup=parseInt(c),this._init_pgn_events(),this.setPagingSkin("default")},dhtmlXGridObject.prototype.setXMLAutoLoading=function(a,b){this.xmlFileUrl=a,this._dpref=b},dhtmlXGridObject.prototype.changePageRelative=function(a){this.changePage(this.currentPage+a)},dhtmlXGridObject.prototype.changePage=function(a){0==arguments.length&&(a=this.currentPage||0),a=parseInt(a),a=Math.max(1,Math.min(a,Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize))),this.callEvent("onBeforePageChanged",[this.currentPage,a])&&(this.currentPage=parseInt(a),this._reset_view(),this._fixAlterCss(),this.callEvent("onPageChanged",this.getStateOfView()))},dhtmlXGridObject.prototype.setPagingSkin=function(a){this._pgn_skin=this["_pgn_"+a],"toolbar"==a&&(this._pgn_skin_tlb=arguments[1])},dhtmlXGridObject.prototype.setPagingTemplates=function(a,b){this._pgn_templateA=this._pgn_template_compile(a),this._pgn_templateB=this._pgn_template_compile(b),this._page_skin_update()},dhtmlXGridObject.prototype._page_skin_update=function(){this.pagesInGroup||(this.pagesInGroup=Math.ceil(Math.min(5,this.rowsBuffer.length/this.rowsBufferOutSize)));var a=Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize);return a&&a<this.currentPage?this.changePage(a):void(this.pagingOn&&this._pgn_skin&&this._pgn_skin.apply(this,this.getStateOfView()))},dhtmlXGridObject.prototype._init_pgn_events=function(){this.attachEvent("onXLE",this._page_skin_update),this.attachEvent("onClearAll",this._page_skin_update),this.attachEvent("onPageChanged",this._page_skin_update),this.attachEvent("onGridReconstructed",this._page_skin_update),this._init_pgn_events=function(){}
},dhtmlXGridObject.prototype._pgn_default=function(){if(!this.pagingBlock){if(this.pagingBlock=document.createElement("DIV"),this.pagingBlock.className="pagingBlock",this.recordInfoBlock=document.createElement("SPAN"),this.recordInfoBlock.className="recordsInfoBlock",!this._pgn_parentObj)return;this._pgn_parentObj.appendChild(this.pagingBlock),this._pgn_recInfoParentObj&&this.showRecInfo&&this._pgn_recInfoParentObj.appendChild(this.recordInfoBlock),this._pgn_templateA||(this._pgn_templateA=this._pgn_template_compile("[prevpages:&lt;:&nbsp;] [currentpages:,&nbsp;] [nextpages:&gt;:&nbsp;]"),this._pgn_templateB=this._pgn_template_compile("Results <b>[from]-[to]</b> of <b>[total]</b>"))}var a=this.getStateOfView();this.pagingBlock.innerHTML=this._pgn_templateA.apply(this,a),this.recordInfoBlock.innerHTML=this._pgn_templateB.apply(this,a),this._pgn_template_active(this.pagingBlock),this._pgn_template_active(this.recordInfoBlock),this.callEvent("onPaging",[])},dhtmlXGridObject.prototype._pgn_block=function(a){for(var b=Math.floor((this.currentPage-1)/this.pagesInGroup)*this.pagesInGroup,c=Math.min(Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize),b+this.pagesInGroup),d=[],e=b+1;c>=e;e++)d.push(e==this.currentPage?"<a class='dhx_not_active'><b>"+e+"</b></a>":"<a onclick='this.grid.changePage("+e+"); return false;'>"+e+"</a>");return d.join(a)},dhtmlXGridObject.prototype._pgn_link=function(a,b,c){if("prevpages"==a||"prev"==a)return 1==this.currentPage?c:"<a onclick='this.grid.changePageRelative(-1*"+("prev"==a?"1":"this.grid.pagesInGroup")+"); return false;'>"+b+"</a>";if("nextpages"==a||"next"==a)return this.rowsBuffer.length/this.rowsBufferOutSize<=this.currentPage?c:this.rowsBuffer.length/(this.rowsBufferOutSize*("next"==a?"1":this.pagesInGroup))<=1?c:"<a onclick='this.grid.changePageRelative("+("next"==a?"1":"this.grid.pagesInGroup")+"); return false;'>"+b+"</a>";if("current"==a){var d=this.currentPage+(b?parseInt(b):0);return 1>d||Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize)<d?c:"<a "+(d==this.currentPage?"class='dhx_active_page_link' ":"")+"onclick='this.grid.changePage("+d+"); return false;'>"+d+"</a>"}return b},dhtmlXGridObject.prototype._pgn_template_active=function(a){var b=a.getElementsByTagName("A");if(b)for(var c=0;c<b.length;c++)b[c].grid=this},dhtmlXGridObject.prototype._pgn_template_compile=function(a){return a=a.replace(/\[([^\]]*)\]/g,function(a,b){switch(b=b.split(":"),b[0]){case"from":return'"+(arguments[1]*1+(arguments[2]*1?1:0))+"';case"total":return'"+arguments[3]+"';case"to":return'"+arguments[2]+"';case"current":case"prev":case"next":case"prevpages":case"nextpages":return"\"+this._pgn_link('"+b[0]+"','"+b[1]+"','"+b[2]+"')+\"";case"currentpages":return"\"+this._pgn_block('"+b[1]+"')+\""}}),new Function('return "'+a+'";')},dhtmlXGridObject.prototype.i18n.paging={results:"Results",records:"Records from ",to:" to ",page:"Page ",perpage:"rows per page",first:"To first Page",previous:"Previous Page",found:"Found records",next:"Next Page",last:"To last Page",of:" of ",notfound:"No Records Found"},dhtmlXGridObject.prototype.setPagingWTMode=function(a,b,c,d){this._WTDef=[a,b,c,d]},dhtmlXGridObject.prototype._pgn_bricks=function(a,b,c){var d=(this.skin_name||"").split("_")[1],e="";("light"==d||"modern"==d||"skyblue"==d)&&(e="_"+d),this.pagerElAr=new Array,this.pagerElAr.pagerCont=document.createElement("DIV"),this.pagerElAr.pagerBord=document.createElement("DIV"),this.pagerElAr.pagerLine=document.createElement("DIV"),this.pagerElAr.pagerBox=document.createElement("DIV"),this.pagerElAr.pagerInfo=document.createElement("DIV"),this.pagerElAr.pagerInfoBox=document.createElement("DIV");var f=this.globalBox||this.objBox;if(this.pagerElAr.pagerCont.style.width=f.clientWidth+"px",this.pagerElAr.pagerCont.style.overflow="hidden",this.pagerElAr.pagerCont.style.clear="both",this.pagerElAr.pagerBord.className="dhx_pbox"+e,this.pagerElAr.pagerLine.className="dhx_pline"+e,this.pagerElAr.pagerBox.style.clear="both",this.pagerElAr.pagerInfo.className="dhx_pager_info"+e,this.pagerElAr.pagerCont.appendChild(this.pagerElAr.pagerBord),this.pagerElAr.pagerCont.appendChild(this.pagerElAr.pagerLine),this.pagerElAr.pagerCont.appendChild(this.pagerElAr.pagerInfo),this.pagerElAr.pagerLine.appendChild(this.pagerElAr.pagerBox),this.pagerElAr.pagerInfo.appendChild(this.pagerElAr.pagerInfoBox),this._pgn_parentObj.innerHTML="",this._pgn_parentObj.appendChild(this.pagerElAr.pagerCont),this.rowsBuffer.length>0){var g=20,h=22;if(a>this.pagesInGroup){var i=document.createElement("DIV"),j=document.createElement("DIV");i.className="dhx_page"+e,j.innerHTML="&larr;",i.appendChild(j),this.pagerElAr.pagerBox.appendChild(i);var k=this;i.pgnum=(Math.ceil(a/this.pagesInGroup)-1)*this.pagesInGroup,i.onclick=function(){k.changePage(this.pgnum)},g+=h}for(var l=1;l<=this.pagesInGroup;l++){var i=document.createElement("DIV"),j=document.createElement("DIV");if(i.className="dhx_page"+e,pageNumber=(Math.ceil(a/this.pagesInGroup)-1)*this.pagesInGroup+l,pageNumber>Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize))break;if(j.innerHTML=pageNumber,i.appendChild(j),a==pageNumber)i.className+=" dhx_page_active"+e,j.className="dhx_page_active"+e;else{var k=this;i.pgnum=pageNumber,i.onclick=function(){k.changePage(this.pgnum)}}g+=parseInt(h/3)*pageNumber.toString().length+15,j.style.width=parseInt(h/3)*pageNumber.toString().length+8+"px",this.pagerElAr.pagerBox.appendChild(i)}if(Math.ceil(a/this.pagesInGroup)*this.pagesInGroup<Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize)){var i=document.createElement("DIV"),j=document.createElement("DIV");i.className="dhx_page"+e,j.innerHTML="&rarr;",i.appendChild(j),this.pagerElAr.pagerBox.appendChild(i);var k=this;i.pgnum=Math.ceil(a/this.pagesInGroup)*this.pagesInGroup+1,i.onclick=function(){k.changePage(this.pgnum)},g+=h}this.pagerElAr.pagerLine.style.width=g+"px"}this.rowsBuffer.length>0&&this.showRecInfo?this.pagerElAr.pagerInfoBox.innerHTML=this.i18n.paging.records+(b+1)+this.i18n.paging.to+c+this.i18n.paging.of+this.rowsBuffer.length:0==this.rowsBuffer.length&&(this.pagerElAr.pagerLine.parentNode.removeChild(this.pagerElAr.pagerLine),this.pagerElAr.pagerInfoBox.innerHTML=this.i18n.paging.notfound),this.pagerElAr.pagerBox.appendChild(document.createElement("SPAN")).innerHTML="&nbsp;",this.pagerElAr.pagerBord.appendChild(document.createElement("SPAN")).innerHTML="&nbsp;",this.pagerElAr.pagerCont.appendChild(document.createElement("SPAN")).innerHTML="&nbsp;",this.callEvent("onPaging",[])},dhtmlXGridObject.prototype._pgn_toolbar=function(a,b,c){this.aToolBar||(this.aToolBar=this._pgn_createToolBar());var d=Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize);if(this._WTDef[0]&&(this.aToolBar.enableItem("right"),this.aToolBar.enableItem("rightabs"),this.aToolBar.enableItem("left"),this.aToolBar.enableItem("leftabs"),this.currentPage>=d&&(this.aToolBar.disableItem("right"),this.aToolBar.disableItem("rightabs")),1==this.currentPage&&(this.aToolBar.disableItem("left"),this.aToolBar.disableItem("leftabs"))),this._WTDef[2]){var e=this;this.aToolBar.forEachListOption("pages",function(a){e.aToolBar.removeListOption("pages",a)});for(var f={dhx_skyblue:4,dhx_web:0,dhx_terrace:14}[this.aToolBar.conf.skin],g=0;d>g;g++)this.aToolBar.addListOption("pages","pages_"+(g+1),0/0,"button","<span style='padding: 0px "+f+"px 0px 0px;'>"+this.i18n.paging.page+(g+1)+"</span>","paging_page.gif");this.aToolBar.setItemText("pages",this.i18n.paging.page+a)}this._WTDef[1]&&(this.getRowsNum()?this.aToolBar.setItemText("results","<div style='width:100%; text-align:center'>"+this.i18n.paging.records+(b+1)+this.i18n.paging.to+c+"</div>"):this.aToolBar.setItemText("results",this.i18n.paging.notfound)),this._WTDef[3]&&this.aToolBar.setItemText("perpagenum",this.rowsBufferOutSize.toString()+" "+this.i18n.paging.perpage),this.callEvent("onPaging",[])},dhtmlXGridObject.prototype._pgn_createToolBar=function(){this.aToolBar=new dhtmlXToolbarObject({parent:this._pgn_parentObj,skin:this._pgn_skin_tlb||this.skin_name,icons_path:this.imgURL}),this._WTDef||this.setPagingWTMode(!0,!0,!0,!0);var a=this;this.aToolBar.attachEvent("onClick",function(b){switch(b=b.split("_"),b[0]){case"leftabs":a.changePage(1);break;case"left":a.changePage(a.currentPage-1);break;case"rightabs":a.changePage(99999);break;case"right":a.changePage(a.currentPage+1);break;case"perpagenum":if(b[1]===this.undefined)return;a.rowsBufferOutSize=parseInt(b[1]),a.changePage(),a.aToolBar.setItemText("perpagenum",b[1]+" "+a.i18n.paging.perpage);break;case"pages":if(b[1]===this.undefined)return;a.changePage(b[1]),a.aToolBar.setItemText("pages",a.i18n.paging.page+b[1])}}),this._WTDef[0]&&(this.aToolBar.addButton("leftabs",0/0,null,"ar_left_abs.gif","ar_left_abs_dis.gif"),this.aToolBar.addButton("left",0/0,null,"ar_left.gif","ar_left_dis.gif")),this._WTDef[1]&&(this.aToolBar.addText("results",0/0,this.i18n.paging.results),this.aToolBar.setWidth("results","150"),this.aToolBar.disableItem("results")),this._WTDef[0]&&(this.aToolBar.addButton("right",0/0,null,"ar_right.gif","ar_right_dis.gif"),this.aToolBar.addButton("rightabs",0/0,null,"ar_right_abs.gif","ar_right_abs_dis.gif")),this._WTDef[2]&&("dhx_terrace"==this.aToolBar.conf.skin&&this.aToolBar.addSeparator(),this.aToolBar.addButtonSelect("pages",0/0,"select page",[],"paging_pages.gif",null,!1,!0));var b;if(b=this._WTDef[3]){"dhx_terrace"==this.aToolBar.conf.skin&&this.aToolBar.addSeparator(),this.aToolBar.addButtonSelect("perpagenum",0/0,"select size",[],"paging_rows.gif",null,!1,!0),"object"!=typeof b&&(b=[5,10,15,20,25,30]);for(var c={dhx_skyblue:4,dhx_web:0,dhx_terrace:18}[this.aToolBar.conf.skin],d=0;d<b.length;d++)this.aToolBar.addListOption("perpagenum","perpagenum_"+b[d],0/0,"button","<span style='padding: 0px "+c+"px 0px 0px;'>"+b[d]+" "+this.i18n.paging.perpage+"</span>","paging_page.gif")}return this.aToolBar},dhtmlXGridObject.prototype.post=function(a,b,c,d){this.callEvent("onXLS",[this]),3==arguments.length&&"function"!=typeof c&&(d=c,c=null),d=d||"xml",b=b||"",this.xmlFileUrl||(this.xmlFileUrl=a),this._data_type=d,this.xmlLoader.onloadAction=function(a,b,e,f,g){g=a["_process_"+d](g),a._contextCallTimer||a.callEvent("onXLE",[a,0,0,g]),c&&(c(),c=null)},this.xmlLoader.loadXML(a,!0,b)},dhtmlXGridObject.prototype.setRowspan=function(a,b,c){var d=this[this._bfs_cells?"_bfs_cells":"cells"](a,b).cell,e=this.rowsAr[a];if(d.rowSpan&&1!=d.rowSpan)for(var f=e.nextSibling,g=1;g<d.rowSpan;g++){var h=f.childNodes[f._childIndexes[d._cellIndex+1]],i=document.createElement("TD");i.innerHTML="&nbsp;",i._cellIndex=d._cellIndex,i._clearCell=!0,h?h.parentNode.insertBefore(i,h):f.parentNode.appendChild(i),this._shiftIndexes(f,d._cellIndex,-1),f=f.nextSibling}d.rowSpan=c,e=this._h2?this.rowsAr[this._h2.get[e.idd].parent.childs[this._h2.get[e.idd].index+1].id]:e.nextSibling||this.rowsCol[this.rowsCol._dhx_find(e)+1];for(var j=[],g=1;c>g;g++){var k=null;if(k=this._fake&&!this._realfake?this._bfs_cells3(e,b).cell:this.cells3(e,b).cell,this._shiftIndexes(e,d._cellIndex,1),k&&k.parentNode.removeChild(k),j.push(e),this._h2){var e=this._h2.get[e.idd].parent.childs[this._h2.get[e.idd].index+1];e&&(e=this.rowsAr[e.id])}else e=e.nextSibling||this.rowsCol[this.rowsCol._dhx_find(e)+1]}this.rowsAr[a]._rowSpan=this.rowsAr[a]._rowSpan||{},this.rowsAr[a]._rowSpan[b]=j,this._fake&&!this._realfake&&b<this._fake._cCount&&this._fake.setRowspan(a,b,c)},dhtmlXGridObject.prototype._shiftIndexes=function(a,b,c){if(!a._childIndexes){a._childIndexes=new Array;for(var d=0;d<a.childNodes.length;d++)a._childIndexes[d]=d}for(var d=0;d<a._childIndexes.length;d++)d>b&&(a._childIndexes[d]=a._childIndexes[d]-c)},dhtmlXGridObject.prototype.enableRowspan=function(){this._erspan=!0,this.enableRowspan=function(){},this.attachEvent("onAfterSorting",function(){if(!this._dload){for(var a=1;a<this.obj.rows.length;a++)if(this.obj.rows[a]._rowSpan){var b=this.obj.rows[a];for(var c in b._rowSpan)for(var d=b,e=d._rowSpan[c],f=0;f<e.length;f++){if(d.nextSibling?d.parentNode.insertBefore(e[f],d.nextSibling):d.parentNode.appendChild(e[f]),this._fake){var g=this._fake.rowsAr[d.idd],h=this._fake.rowsAr[e[f].idd];g.nextSibling?g.parentNode.insertBefore(h,g.nextSibling):g.parentNode.appendChild(h),this._correctRowHeight(d.idd)}d=d.nextSibling}}var i=this.rowsCol.stablesort;this.rowsCol=new dhtmlxArray,this.rowsCol.stablesort=i;for(var a=1;a<this.obj.rows.length;a++)this.rowsCol.push(this.obj.rows[a])}}),this.attachEvent("onXLE",function(){for(var a=0;a<this.rowsBuffer.length;a++)for(var b=this.render_row(a),c=b.childNodes,d=0;d<c.length;d++)c[d]._attrs.rowspan&&this.setRowspan(b.idd,d,c[d]._attrs.rowspan)})},dhtmlXGridObject.prototype._init_point_bspl=dhtmlXGridObject.prototype._init_point,dhtmlXGridObject.prototype._init_point=function(){this._split_later&&this.splitAt(this._split_later),this._init_point=this._init_point_bspl,this._init_point&&this._init_point()},dhtmlXGridObject.prototype.splitAt=function(a){function b(a){var b=a.wheelDelta/-40;a.wheelDelta===window.undefined&&(b=a.detail);var c=p.objBox;c.scrollTop+=40*b,a.preventDefault&&a.preventDefault()}function c(a,b){b.style.whiteSpace="";var c=b.nextSibling,d=b.parentNode;a.parentNode.insertBefore(b,a),c?d.insertBefore(a,c):d.appendChild(a);var e=a.style.display;a.style.display=b.style.display,b.style.display=e}function d(b,d,e,f){var g=new Array(a).join(this.delim),h=[];if(2==b)for(var i=0;a>i;i++){var j=d[b-1].cells[d[b-1]._childIndexes?d[b-1]._childIndexes[i]:i];j.rowSpan&&j.rowSpan>1&&(h[j._cellIndex]=j.rowSpan-1,f[b-1].cells[f[b-1]._childIndexes?f[b-1]._childIndexes[i]:i].rowSpan=j.rowSpan,j.rowSpan=1)}for(b;b<d.length;b++){this._fake.attachHeader(g,null,e),f=f||this._fake.ftr.childNodes[0].rows;for(var k=a,l=0,m=0;k>m;m++)if(h[m]){if(h[m]=h[m]-1,_isIE||_isFF&&_FFrv>=1.9||_isOpera){var n=document.createElement("TD");_isFF&&(n.style.display="none"),d[b].insertBefore(n,d[b].cells[0])}l++}else{var o=f[b].cells[m-l],p=d[b].cells[m-(_isIE?0:l)],q=p.rowSpan;if(c(o,p),q>1&&(h[m]=q-1,p.rowSpan=q),f[b].cells[m].colSpan>1){d[b].cells[m].colSpan=f[b].cells[m].colSpan,k-=f[b].cells[m].colSpan-1;for(var i=1;i<f[b].cells[m].colSpan;i++)f[b].removeChild(f[b].cells[m+1])}}}}if(!this.obj.rows[0])return this._split_later=a;a=parseInt(a);var e=document.createElement("DIV");this.entBox.appendChild(e);var f=document.createElement("DIV");this.entBox.appendChild(f);for(var g=this.entBox.childNodes.length-3;g>=0;g--)f.insertBefore(this.entBox.childNodes[g],f.firstChild);if(this.entBox.style.position="relative",this.globalBox=this.entBox,this.entBox=f,f.grid=this,e.style.cssText+="border:0px solid red !important;",f.style.cssText+="border:0px solid red !important;",f.style.top="0px",f.style.position="absolute",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=11,f.style.height=e.style.height=this.globalBox.clientHeight,this._fake=new dhtmlXGridObject(e),this.globalBox=this._fake.globalBox=this.globalBox,this._fake._fake=this,this._fake._realfake=!0,this._treeC=this.cellType._dhx_find("tree"),this._fake.delim=this.delim,this._fake.customGroupFormat=this.customGroupFormat,this._fake.setImagesPath(this._imgURL),this._fake.iconURL=this.iconURL,this._fake._customSorts=this._customSorts,this._fake.noHeader=this.noHeader,this._fake._enbTts=this._enbTts,this._fake._htkebl=this._htkebl,this._fake.clists=this.clists,this._fake.fldSort=new Array,this._fake.selMultiRows=this.selMultiRows,this._fake.multiLine=this.multiLine,this.multiLine||this._erspan){this.attachEvent("onCellChanged",this._correctRowHeight),this.attachEvent("onRowAdded",this._correctRowHeight);var h=function(){this.forEachRow(function(a){this._correctRowHeight(a)})};this.attachEvent("onPageChanged",h),this.attachEvent("onXLE",h),this.attachEvent("onResizeEnd",h),this._ads_count||this.attachEvent("onAfterSorting",h),this._srnd&&this.attachEvent("onFilterEnd",h),this.attachEvent("onDistributedEnd",h)}this.attachEvent("onGridReconstructed",function(){this._fake.objBox.scrollTop=this.objBox.scrollTop}),this._fake.loadedKidsHash=this.loadedKidsHash,this._h2&&(this._fake._h2=this._h2),this._fake._dInc=this._dInc;var i=[[],[],[],[],[],[],[]],j=["hdrLabels","initCellWidth","cellType","cellAlign","cellVAlign","fldSort","columnColor"],k=["setHeader","setInitWidths","setColTypes","setColAlign","setColVAlign","setColSorting","setColumnColor"];this._fake.callEvent=function(){var a=!0;this._fake._split_event=!0;var b="onScroll"==arguments[0];return("onGridReconstructed"==arguments[0]||b)&&this._fake.callEvent.apply(this,arguments),b||(a=this._fake.callEvent.apply(this._fake,arguments)),this._fake._split_event=!1,a},this._elmn&&this._fake.enableLightMouseNavigation(!0),(this.__cssEven||this._cssUnEven)&&this._fake.attachEvent("onGridReconstructed",function(){this._fixAlterCss()}),this._fake._cssEven=this._cssEven,this._fake._cssUnEven=this._cssUnEven,this._fake._cssSP=this._cssSP,this._fake.isEditable=this.isEditable,this._fake._edtc=this._edtc,this._sst&&this._fake.enableStableSorting(!0),this._fake._sclE=this._sclE,this._fake._dclE=this._dclE,this._fake._f2kE=this._f2kE,this._fake._maskArr=this._maskArr,this._fake._dtmask=this._dtmask,this._fake.combos=this.combos;for(var l=0,m=this.globalBox.offsetWidth,g=0;a>g;g++){for(var n=0;n<j.length;n++)this[j[n]]&&(i[n][g]=this[j[n]][g]),"string"==typeof i[n][g]&&(i[n][g]=i[n][g].replace(new RegExp("\\"+this.delim,"g"),"\\"+this.delim));_isFF&&(i[1][g]=1*i[1][g]),"%"==this.cellWidthType?(i[1][g]=Math.round(parseInt(this[j[1]][g])*m/100),l+=i[1][g]):l+=parseInt(this[j[1]][g]),this.setColumnHidden(g,!0)}for(var n=0;n<j.length;n++){var o=i[n].join(this.delim);"setHeader"!=k[n]?""!=o&&this._fake[k[n]](o):this._fake[k[n]](o,null,this._hstyles)}this._fake._strangeParams=this._strangeParams,this._fake._drsclmn=this._drsclmn,l=Math.min(this.globalBox.offsetWidth,l),f.style.left=l+"px",e.style.width=l+"px",f.style.width=Math.max(this.globalBox.offsetWidth-l,0),this._ecspn&&(this._fake._ecspn=!0),this._fake.init(),this.dragAndDropOff&&this.dragger.addDragLanding(this._fake.entBox,this),this._fake.objBox.style.overflow="hidden",dhtmlx.$customScroll?this._fake.objBox._custom_scroll_mode="":this._fake.objBox.style.overflowX="scroll",this._fake._srdh=this._srdh||20,this._fake._srnd=this._srnd;var p=this;dhtmlxEvent(this._fake.objBox,"mousewheel",b),dhtmlxEvent(this._fake.objBox,"DOMMouseScroll",b),this.hdr.rows.length>2&&d.call(this,2,this.hdr.rows,"_aHead",this._fake.hdr.rows),this.ftr&&(d.call(this,1,this.ftr.childNodes[0].rows,"_aFoot"),this._fake.ftr.parentNode.style.bottom=(_isFF?2:1)+"px"),this.saveSizeToCookie&&(this.saveSizeToCookie=function(b,c){if(this._realfake)return this._fake.saveSizeToCookie.apply(this._fake,arguments);b||(b=this.entBox.id);for(var d=new Array,e="cellWidthPX",f=0;f<this[e].length;f++)d[f]=a>f?this._fake[e][f]:this[e][f];d=d.join(","),this.setCookie(b,c,0,d);var d=(this.initCellWidth||new Array).join(",");return this.setCookie(b,c,1,d),!0},this.loadSizeFromCookie=function(b){b||(b=this.entBox.id);var c=this._getCookie(b,1);if(c){this.initCellWidth=c.split(",");var c=this._getCookie(b,0),d="cellWidthPX";this.cellWidthType="px";var e=0;if(c&&c.length){c=c.split(",");for(var f=0;f<c.length;f++)a>f?(this._fake[d][f]=c[f],e+=1*c[f]):this[d][f]=c[f]}this._fake.entBox.style.width=e+"px",this._fake.objBox.style.width=e+"px";var g=this.globalBox.childNodes[1];return g.style.left=e-(_isFF,0)+"px",this.ftr&&(this.ftr.style.left=e-(_isFF,0)+"px"),g.style.width=this.globalBox.offsetWidth-e+"px",this.setSizes(),!0}},this._fake.onRSE=this.onRSE),this.setCellTextStyleA=this.setCellTextStyle,this.setCellTextStyle=function(b,c,d){a>c&&this._fake.setCellTextStyle(b,c,d),this.setCellTextStyleA(b,c,d)},this.setRowTextBoldA=this.setRowTextBold,this.setRowTextBold=function(a){this.setRowTextBoldA(a),this._fake.setRowTextBold(a)},this.setRowColorA=this.setRowColor,this.setRowColor=function(a,b){this.setRowColorA(a,b),this._fake.setRowColor(a,b)},this.setRowHiddenA=this.setRowHidden,this.setRowHidden=function(a,b){this.setRowHiddenA(a,b),this._fake.setRowHidden(a,b)},this.setRowTextNormalA=this.setRowTextNormal,this.setRowTextNormal=function(a){this.setRowTextNormalA(a),this._fake.setRowTextNormal(a)},this.getChangedRows=function(a){function b(a){for(var b=0;b<a.childNodes.length;b++)if(a.childNodes[b].wasChanged)return c[c.length]=a.idd}var c=new Array;return this.forEachRow(function(d){var e=this.rowsAr[d],f=this._fake.rowsAr[d];"TR"==e.tagName&&f&&"TR"==f.tagName&&(a&&e._added?c[c.length]=e.idd:b(e)||b(f))}),c.join(this.delim)},this.setRowTextStyleA=this.setRowTextStyle,this.setRowTextStyle=function(a,b){this.setRowTextStyleA(a,b),this._fake.rowsAr[a]&&this._fake.setRowTextStyle(a,b)},this.lockRowA=this.lockRow,this.lockRow=function(a,b){this.lockRowA(a,b),this._fake.lockRow(a,b)},this.getColWidth=function(b){return parseInt(a>b?this._fake.cellWidthPX[b]:this.cellWidthPX[b])},this.getColumnLabel=function(b){return this._fake.getColumnLabel.apply(a>b?this._fake:this,arguments)},this.setColWidthA=this._fake.setColWidthA=this.setColWidth,this.setColWidth=function(b,c){b=1*b,a>b?this._fake.setColWidthA(b,c):this.setColWidthA(b,c),a>=b+1&&this._fake._correctSplit(Math.min(this._fake.objBox.offsetWidth,this._fake.obj.offsetWidth))},this.adjustColumnSizeA=this.adjustColumnSize,this.setColumnLabelA=this.setColumnLabel,this.setColumnLabel=function(b,c,d,e){var f=this;return a>b&&(f=this._fake),this.setColumnLabelA.apply(f,[b,c,d,e])},this.adjustColumnSize=function(b,c){return a>b?(_isIE&&(this._fake.obj.style.tableLayout=""),this._fake.adjustColumnSize(b,c),_isIE&&(this._fake.obj.style.tableLayout="fixed"),this._fake._correctSplit(),void 0):this.adjustColumnSizeA(b,c)};var q="cells";this._bfs_cells=this[q],this[q]=function(){return arguments[1]<a?this._fake.cells.apply(this._fake,arguments):this._bfs_cells.apply(this,arguments)},this._bfs_isColumnHidden=this.isColumnHidden,this.isColumnHidden=function(){return parseInt(arguments[0])<a?this._fake.isColumnHidden.apply(this._fake,arguments):this._bfs_isColumnHidden.apply(this,arguments)},this._bfs_setColumnHidden=this.setColumnHidden,this.setColumnHidden=function(){return parseInt(arguments[0])<a?(this._fake.setColumnHidden.apply(this._fake,arguments),this._fake._correctSplit()):this._bfs_setColumnHidden.apply(this,arguments)};var q="cells2";this._bfs_cells2=this[q],this[q]=function(){return arguments[1]<a?this._fake.cells2.apply(this._fake,arguments):this._bfs_cells2.apply(this,arguments)};var q="cells3";this._bfs_cells3=this[q],this[q]=function(b){return arguments[1]<a&&this._fake.rowsAr[arguments[0].idd]?this._fake.rowsAr[b.idd]&&0==this._fake.rowsAr[b.idd].childNodes.length?this._bfs_cells3.apply(this,arguments):(arguments[0]=arguments[0].idd,this._fake.cells.apply(this._fake,arguments)):this._bfs_cells3.apply(this,arguments)};var q="changeRowId";this._bfs_changeRowId=this[q],this[q]=function(){this._bfs_changeRowId.apply(this,arguments),this._fake.rowsAr[arguments[0]]&&this._fake.changeRowId.apply(this._fake,arguments)},this._fake.getRowById=function(a){var b=this.rowsAr[a];if(!b&&this._fake.rowsAr[a]&&(b=this._fake.getRowById(a)),b){if("TR"!=b.tagName){for(var c=0;c<this.rowsBuffer.length;c++)if(this.rowsBuffer[c]&&this.rowsBuffer[c].idd==a)return this.render_row(c);if(this._h2)return this.render_row(null,b.idd)}return b}return null},this.collapseKids&&(this._fake._bfs_collapseKids=this.collapseKids,this._fake.collapseKids=function(){return this._fake.collapseKids.apply(this._fake,[this._fake.rowsAr[arguments[0].idd]])},this._bfs_collapseKids=this.collapseKids,this.collapseKids=function(){this._bfs_collapseKids.apply(this,arguments);this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._fake._bfs_expandKids=this.expandKids,this._fake.expandKids=function(){this._fake.expandKids.apply(this._fake,[this._fake.rowsAr[arguments[0].idd]]),this._cssSP||this._fake._fixAlterCss()},this._bfs_expandAll=this.expandAll,this.expandAll=function(){this._bfs_expandAll(),this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._bfs_collapseAll=this.collapseAll,this.collapseAll=function(){this._bfs_collapseAll(),this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._bfs_expandKids=this.expandKids,this.expandKids=function(){this._bfs_expandKids.apply(this,arguments);this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._fake._h2syncModel=function(){this._fake.pagingOn?this._fake._renderSort():this._renderSort()},this._updateTGRState=function(a){return this._fake._updateTGRState(a)}),this._elmnh&&(this._setRowHoverA=this._fake._setRowHoverA=this._setRowHover,this._unsetRowHoverA=this._fake._unsetRowHoverA=this._unsetRowHover,this._setRowHover=this._fake._setRowHover=function(){var a=this.grid;a._setRowHoverA.apply(this,arguments);var b=_isIE?event.srcElement:arguments[0].target;b=a._fake.rowsAr[a.getFirstParentOfType(b,"TD").parentNode.idd],b&&a._fake._setRowHoverA.apply(a._fake.obj,[{target:b.childNodes[0]},arguments[1]])},this._unsetRowHover=this._fake._unsetRowHover=function(){if(arguments[1])var a=this;else var a=this.grid;a._unsetRowHoverA.apply(this,arguments),a._fake._unsetRowHoverA.apply(a._fake.obj,arguments)},this._fake.enableRowsHover(!0,this._hvrCss),this.enableRowsHover(!1),this.enableRowsHover(!0,this._fake._hvrCss)),this._updateTGRState=function(a){a.update&&0!=a.id&&(this.rowsAr[a.id].imgTag&&(this.rowsAr[a.id].imgTag.src=this.iconTree+a.state+".gif"),this._fake.rowsAr[a.id]&&this._fake.rowsAr[a.id].imgTag&&(this._fake.rowsAr[a.id].imgTag.src=this.iconTree+a.state+".gif"),a.update=!1)},this.copy_row=function(b){var c=b.cloneNode(!0);c._skipInsert=b._skipInsert;var d=a;if(c._attrs={},c._css=b._css,this._ecspn){d=0;for(var e=0;d<c.childNodes.length&&a>e;e+=c.childNodes[d].colSpan||1)d++}for(;c.childNodes.length>d;)c.removeChild(c.childNodes[c.childNodes.length-1]);for(var f=d,e=0;f>e;e++)this.dragAndDropOff&&this.dragger.addDraggableItem(c.childNodes[e],this),c.childNodes[e].style.display=this._fake._hrrar&&this._fake._hrrar[e]?"none":"",c.childNodes[e]._cellIndex=e,c.childNodes[e].combo_value=arguments[0].childNodes[e].combo_value,c.childNodes[e]._clearCell=arguments[0].childNodes[e]._clearCell,c.childNodes[e]._cellType=arguments[0].childNodes[e]._cellType,c.childNodes[e]._brval=arguments[0].childNodes[e]._brval,c.childNodes[e].val=arguments[0].childNodes[e].val,c.childNodes[e]._attrs=arguments[0].childNodes[e]._attrs,c.childNodes[e].chstate=arguments[0].childNodes[e].chstate,b._attrs.style&&(c.childNodes[e].style.cssText+=";"+b._attrs.style),c.childNodes[e].colSpan>1&&(this._childIndexes=this._fake._childIndexes);if(this._h2&&this._treeC<a){var g=this._h2.get[arguments[0].idd];c.imgTag=c.childNodes[this._treeC].childNodes[0].childNodes[g.level],c.valTag=c.childNodes[this._treeC].childNodes[0].childNodes[g.level+2]}return c.idd=b.idd,c.grid=this._fake,c};var q="_insertRowAt";this._bfs_insertRowAt=this[q],this[q]=function(){var a=this._bfs_insertRowAt.apply(this,arguments);arguments[0]=this.copy_row(arguments[0]);var b=this._fake._insertRowAt.apply(this._fake,arguments);return a._fhd&&(b.parentNode.removeChild(b),this._fake.rowsCol._dhx_removeAt(this._fake.rowsCol._dhx_find(b)),a._fhd=!1),a},this._bfs_setSizes=this.setSizes,this.setSizes=function(){if(!this._notresize){this._bfs_setSizes(this,arguments),this.sync_headers(),this.sync_scroll()&&this._ahgr&&this.setSizes();var a=this.dontSetSizes?this.entBox.offsetHeight+"px":this.entBox.style.height;this._fake.entBox.style.height=a,this._fake.objBox.style.height=this.objBox.style.height,this._fake.hdrBox.style.height=this.hdrBox.style.height,this._fake.objBox.scrollTop=this.objBox.scrollTop,this._fake.setColumnSizes(this._fake.entBox.clientWidth),this.globalBox.style.width=parseInt(this.entBox.style.width)+parseInt(this._fake.entBox.style.width),this.dontSetSizes||(this.globalBox.style.height=a)}},this.sync_scroll=this._fake.sync_scroll=function(a){var b=this.objBox.style.overflowX;if(this.obj.offsetWidth<=this.objBox.offsetWidth){if(!a)return this._fake.sync_scroll(!0);this.objBox.style.overflowX="hidden",this._fake.objBox.style.overflowX="hidden"}else dhtmlx.$customScroll||(this.objBox.style.overflowX="scroll",this._fake.objBox.style.overflowX="scroll");return b!=this.objBox.style.overflowX},this.sync_headers=this._fake.sync_headers=function(){if(!this.noHeader&&this._fake.hdr.scrollHeight!=this.hdr.offsetHeight){for(var b=1;b<this.hdr.rows.length;b++){for(var c=a;!this.hdr.rows[b].childNodes[c];)c--;var d=Math.min(this.hdr.rows[b].childNodes[c].scrollHeight+2,this.hdr.rows[b].scrollHeight),e=this._fake.hdr.rows[b].scrollHeight;d!=e&&(this._fake.hdr.rows[b].style.height=this.hdr.rows[b].style.height=Math.max(d,e)+"px"),window._KHTMLrv&&(this._fake.hdr.rows[b].childNodes[0].style.height=this.hdr.rows[b].childNodes[c].style.height=Math.max(d,e)+"px")}this._fake.sync_headers}},this._fake._bfs_setSizes=this._fake.setSizes,this._fake.setSizes=function(){this._fake._notresize||this._fake.setSizes()};var q="_doOnScroll";this._bfs__doOnScroll=this[q],this[q]=function(){this._bfs__doOnScroll.apply(this,arguments),this._fake.objBox.scrollTop=this.objBox.scrollTop,this._fake._doOnScroll.apply(this._fake,arguments)};var q="selectAll";this._bfs__selectAll=this[q],this[q]=function(){this._bfs__selectAll.apply(this,arguments),this._bfs__selectAll.apply(this._fake,arguments)};var q="doClick";this._bfs_doClick=this[q],this[q]=function(){if(this._bfs_doClick.apply(this,arguments),"TD"==arguments[0].tagName){var b=arguments[0]._cellIndex>=a;if(!arguments[0].parentNode.idd)return;b||(arguments[0].className=arguments[0].className.replace(/cellselected/g,"")),this._fake.rowsAr[arguments[0].parentNode.idd]||this._fake.render_row(this.getRowIndex(arguments[0].parentNode.idd)),arguments[0]=this._fake.cells(arguments[0].parentNode.idd,b?0:arguments[0]._cellIndex).cell,b&&(this._fake.cell=null),this._fake._bfs_doClick.apply(this._fake,arguments),b?this._fake.cell=this.cell:this.cell=this._fake.cell,this._fake.onRowSelectTime&&clearTimeout(this._fake.onRowSelectTime),b?(arguments[0].className=arguments[0].className.replace(/cellselected/g,""),globalActiveDHTMLGridObject=this,this._fake.cell=this.cell):this.objBox.scrollTop=this._fake.objBox.scrollTop}},this._fake._bfs_doClick=this._fake[q],this._fake[q]=function(){if(this._bfs_doClick.apply(this,arguments),"TD"==arguments[0].tagName){var b=arguments[0]._cellIndex<a;if(!arguments[0].parentNode.idd)return;arguments[0]=this._fake._bfs_cells(arguments[0].parentNode.idd,b?a:arguments[0]._cellIndex).cell,this._fake.cell=null,this._fake._bfs_doClick.apply(this._fake,arguments),this._fake.cell=this.cell,this._fake.onRowSelectTime&&clearTimeout(this._fake.onRowSelectTime),b&&(arguments[0].className=arguments[0].className.replace(/cellselected/g,""),globalActiveDHTMLGridObject=this,this._fake.cell=this.cell,this._fake.objBox.scrollTop=this.objBox.scrollTop)}},this.clearSelectionA=this.clearSelection,this.clearSelection=function(a){a&&this._fake.clearSelection(),this.clearSelectionA()},this.moveRowUpA=this.moveRowUp,this.moveRowUp=function(a){this._h2||this._fake.moveRowUp(a),this.moveRowUpA(a),this._h2&&this._fake._h2syncModel()},this.moveRowDownA=this.moveRowDown,this.moveRowDown=function(a){this._h2||this._fake.moveRowDown(a),this.moveRowDownA(a),this._h2&&this._fake._h2syncModel()},this._fake.getUserData=function(){return this._fake.getUserData.apply(this._fake,arguments)},this._fake.setUserData=function(){return this._fake.setUserData.apply(this._fake,arguments)},this.getSortingStateA=this.getSortingState,this.getSortingState=function(){var a=this.getSortingStateA();return 0!=a.length?a:this._fake.getSortingState()},this.setSortImgStateA=this._fake.setSortImgStateA=this.setSortImgState,this.setSortImgState=function(b,c,d,e){this.setSortImgStateA(b,c,d,e),a>1*c?(this._fake.setSortImgStateA(b,c,d,e),this.setSortImgStateA(!1)):this._fake.setSortImgStateA(!1)
},this._fake.doColResizeA=this._fake.doColResize,this._fake.doColResize=function(b,c,d,e){var f=-1,g=0;return arguments[1]._cellIndex==a-1?(f=this._initalSplR+(b.clientX-e),this._initalSplF||(this._initalSplF=arguments[3]+this.objBox.scrollWidth-this.objBox.offsetWidth),this.objBox.scrollWidth==this.objBox.offsetWidth&&(this._fake.alter_split_resize||b.clientX-e>0)?(arguments[3]=this._initalSplF||arguments[3],g=this.doColResizeA.apply(this,arguments)):g=this.doColResizeA.apply(this,arguments)):(this.obj.offsetWidth<this.entBox.offsetWidth&&(f=this.obj.offsetWidth),g=this.doColResizeA.apply(this,arguments)),this._correctSplit(f),this.resized=this._fake.resized=1,g},this._fake.changeCursorState=function(a){var b=a.target||a.srcElement;if("TD"!=b.tagName&&(b=this.getFirstParentOfType(b,"TD")),"TD"!=b.tagName||!this._drsclmn||this._drsclmn[b._cellIndex]){var c=(a.layerX||0)+(_isIE||"DIV"!=a.target.tagName?0:b.offsetLeft),d=parseInt(this.getPosition(b,this.hdrBox));b.style.cursor=b.offsetWidth-(a.offsetX||-1*(d-c))<(_isOpera?20:10)||this.entBox.offsetWidth-(a.offsetX?a.offsetX+b.offsetLeft:c)+this.objBox.scrollLeft-0<(_isOpera?20:10)?"E-resize":"default",_isOpera&&(this.hdrBox.scrollLeft=this.objBox.scrollLeft)}},this._fake.startColResizeA=this._fake.startColResize,this._fake.startColResize=function(a){var b=this.startColResizeA(a);if(this._initalSplR=this.entBox.offsetWidth,this._initalSplF=null,this.entBox.onmousemove){var c=this.entBox.parentNode;if(c._aggrid)return b;c._aggrid=c.grid,c.grid=this,this.entBox.parentNode.onmousemove=this.entBox.onmousemove,this.entBox.onmousemove=null}return b},this._fake.stopColResizeA=this._fake.stopColResize,this._fake.stopColResize=function(a){if(this.entBox.parentNode.onmousemove){var b=this.entBox.parentNode;b.grid=b._aggrid,b._aggrid=null,this.entBox.onmousemove=this.entBox.parentNode.onmousemove,this.entBox.parentNode.onmousemove=null,this.obj.offsetWidth<this.entBox.offsetWidth&&this._correctSplit(this.obj.offsetWidth)}return this.stopColResizeA(a)},this.doKeyA=this.doKey,this._fake.doKeyA=this._fake.doKey,this._fake.doKey=this.doKey=function(b){if(!b)return!0;if(this._htkebl)return!0;if((b.target||b.srcElement).value!==window.undefined){var c=b.target||b.srcElement;if(!c.parentNode||-1==c.parentNode.className.indexOf("editable"))return!0}switch(b.keyCode){case 9:if(b.shiftKey){if(this._realfake){if(this.cell&&0==this.cell._cellIndex){b.preventDefault&&b.preventDefault();var d=this._fake.rowsBuffer[this._fake.getRowIndex(this.cell.parentNode.idd)-1];if(d){this._fake.showRow(d.idd);for(var e=this._fake._cCount-1;"none"==d.childNodes[e].style.display;)e--;this._fake.selectCell(this._fake.getRowIndex(d.idd),e,!1,!1,!0)}return!1}return this.doKeyA(b)}return this.cell&&this.cell._cellIndex==a?(b.preventDefault&&b.preventDefault(),this._fake.selectCell(this.getRowIndex(this.cell.parentNode.idd),a-1,!1,!1,!0),!1):this.doKeyA(b)}if(this._realfake){if(this.cell&&this.cell._cellIndex==a-1){b.preventDefault&&b.preventDefault();for(var e=a;this._fake._hrrar&&this._fake._hrrar[e];)e++;return this._fake.selectCell(this._fake.getRowIndex(this.cell.parentNode.idd),e,!1,!1,!0),!1}var d=this.doKeyA(b);return globalActiveDHTMLGridObject=this,d}if(this.cell){for(var e=this.cell._cellIndex+1;this.rowsCol[0].childNodes[e]&&"none"==this.rowsCol[0].childNodes[e].style.display;)e++;if(e==this.rowsCol[0].childNodes.length){b.preventDefault&&b.preventDefault();var d=this.rowsBuffer[this.getRowIndex(this.cell.parentNode.idd)+1];if(d)return this.showRow(d.idd),this._fake.selectCell(this._fake.getRowIndex(d.idd),0,!1,!1,!0),!1}}return this.doKeyA(b)}return this.doKeyA(b)},this.editCellA=this.editCell,this.editCell=function(){return this.cell&&this.cell.parentNode.grid!=this?this._fake.editCell():this.editCellA()},this.deleteRowA=this.deleteRow,this.deleteRow=function(a,b){return this.deleteRowA(a,b)===!1?!1:void(this._fake.rowsAr[a]&&this._fake.deleteRow(a))},this.clearAllA=this.clearAll,this.clearAll=function(){this.clearAllA(),this._fake.clearAll()},this.editStopA=this.editStop,this.editStop=function(a){this._fake.editor?this._fake.editStop(a):this.editStopA(a)},this.attachEvent("onAfterSorting",function(b){b>=a&&this._fake.setSortImgState(!1)}),this._fake.sortField=function(a,b){if(this._fake.sortField.call(this._fake,a,b,this._fake.hdr.rows[0].cells[a]),"na"!=this.fldSort[a]&&this._fake.fldSorted){var c=this._fake.getSortingState()[1];this._fake.setSortImgState(!1),this.setSortImgState(!0,arguments[0],c)}},this.sortTreeRowsA=this.sortTreeRows,this._fake.sortTreeRowsA=this._fake.sortTreeRows,this.sortTreeRows=this._fake.sortTreeRows=function(a,b,c,d){return this._realfake?this._fake.sortTreeRows(a,b,c,d):(this.sortTreeRowsA(a,b,c,d),this._fake._h2syncModel(),this._fake.setSortImgStateA(!1),void(this._fake.fldSorted=null))},this._fake._fillers=[],this._fake.rowsBuffer=this.rowsBuffer,this.attachEvent("onClearAll",function(){this._fake.rowsBuffer=this.rowsBuffer}),this._add_filler_s=this._add_filler,this._add_filler=function(a,b,c,d){if(this._fake._fillers||(this._fake._fillers=[]),this._realfake||!d){var e;(c||!this._fake._fillers.length)&&(c&&c.idd?e=this._fake.rowsAr[c.idd]:c&&c.nextSibling&&(e={},e.nextSibling=this._fake.rowsAr[c.nextSibling.idd],e.parentNode=e.nextSibling.parentNode),this._fake._fillers.push(this._fake._add_filler(a,b,e)))}return this._add_filler_s.apply(this,arguments)},this._add_from_buffer_s=this._add_from_buffer,this._add_from_buffer=function(){var a=this._add_from_buffer_s.apply(this,arguments);return-1!=a&&(this._fake._add_from_buffer.apply(this._fake,arguments),this.multiLine&&this._correctRowHeight(this.rowsBuffer[arguments[0]].idd)),a},this._fake.render_row=function(a){var b=this._fake.render_row(a);return-1==b?-1:b?this.rowsAr[b.idd]=this.rowsAr[b.idd]||this._fake.copy_row(b):null},this._reset_view_s=this._reset_view,this._reset_view=function(){this._fake._reset_view(!0),this._fake._fillers=[],this._reset_view_s()},this.moveColumn_s=this.moveColumn,this.moveColumn=function(b,c){return c>=a?this.moveColumn_s(b,c):void 0},this.attachEvent("onCellChanged",function(b,c,d){if(this._split_event&&a>c&&this.rowsAr[b]){var e=this._fake.rowsAr[b];if(!e)return;e=e._childIndexes?e.childNodes[e._childIndexes[c]]:e.childNodes[c];var f=this.rowsAr[b].childNodes[c];f._treeCell&&f.firstChild.lastChild?f.firstChild.lastChild.innerHTML=d:f.innerHTML=e.innerHTML,f._clearCell=!1,f.combo_value=e.combo_value,f.chstate=e.chstate}}),this._fake.combos=this.combos,this.setSizes(),this.rowsBuffer[0]&&this._reset_view(),this.attachEvent("onXLE",function(){this._fake._correctSplit()}),this._fake._correctSplit()},dhtmlXGridObject.prototype._correctSplit=function(a){if(a=a||this.obj.scrollWidth-this.objBox.scrollLeft,a=Math.min(this.globalBox.offsetWidth,a),a>-1){this.entBox.style.width=a+"px",this.objBox.style.width=a+"px";var b=(this.globalBox.offsetWidth-this.globalBox.clientWidth)/2;if(this._fake.entBox.style.left=a+"px",this._fake.entBox.style.width=Math.max(0,this.globalBox.offsetWidth-a-(this.quirks?0:2)*b)+"px",this._fake.ftr&&(this._fake.ftr.parentNode.style.width=this._fake.entBox.style.width),_isIE){var c=_isIE&&!window.xmlHttpRequest,b=this.globalBox.offsetWidth-this.globalBox.clientWidth;this._fake.hdrBox.style.width=this._fake.objBox.style.width=Math.max(0,this.globalBox.offsetWidth-(c?b:0)-a)+"px"}}},dhtmlXGridObject.prototype._correctRowHeight=function(a){if(this.rowsAr[a]&&this._fake.rowsAr[a]){var b=this.rowsAr[a].offsetHeight,c=this._fake.rowsAr[a].offsetHeight,d=Math.max(b,c);if(d&&(this.rowsAr[a].style.height=this._fake.rowsAr[a].style.height=d+"px",window._KHTMLrv)){for(var e,f=this._fake._cCount;!e&&f>=0;)e=this.rowsAr[a].childNodes[f],f-=1;var g=this._fake.rowsAr[a].firstChild;e&&g&&(e.style.height=g.style.height=d+"px")}}},dhtmlXGridObject.prototype.enableAutoSizeSaving=function(a,b){this.attachEvent("onResizeEnd",function(){this.saveSizeToCookie(a,b)})},dhtmlXGridObject.prototype.saveOpenStates=function(a,b){a||(a=this.entBox.id);var c=[];this._h2.forEachChild(0,function(a){"minus"==a.state&&c.push(a.id)});var d="gridOpen"+(a||"")+"="+c.join("|")+(b?"; "+b:"");document.cookie=d},dhtmlXGridObject.prototype.loadOpenStates=function(a){var b=this.getCookie(a,"gridOpen");if(b){b=b.split("|");for(var c=0;c<b.length;c++){var d=this.getParentId(b[c]);this.getOpenState(d)&&this.openItem(b[c])}}},dhtmlXGridObject.prototype.enableAutoHiddenColumnsSaving=function(a,b){this.attachEvent("onColumnHidden",function(){this.saveHiddenColumnsToCookie(a,b)})},dhtmlXGridObject.prototype.enableSortingSaving=function(a,b){this.attachEvent("onBeforeSorting",function(){var c=this;return window.setTimeout(function(){c.saveSortingToCookie(a,b)},1),!0})},dhtmlXGridObject.prototype.enableOrderSaving=function(a,b){this.attachEvent("onAfterCMove",function(){this.saveOrderToCookie(a,b),this.saveSizeToCookie(a,b)})},dhtmlXGridObject.prototype.enableAutoSaving=function(a,b){this.enableOrderSaving(a,b),this.enableAutoSizeSaving(a,b),this.enableSortingSaving(a,b)},dhtmlXGridObject.prototype.saveSizeToCookie=function(a,b){if("px"==this.cellWidthType)var c=this.cellWidthPX.join(",");else var c=this.cellWidthPC.join(",");var d=(this.initCellWidth||new Array).join(",");this.setCookie(a,b,0,c),this.setCookie(a,b,1,d)},dhtmlXGridObject.prototype.saveHiddenColumnsToCookie=function(a,b){var c=[].concat(this._hrrar||[]);if(this._fake&&this._fake._hrrar)for(var d=0;d<this._fake._cCount;d++)c[d]=this._fake._hrrar[d]?"1":"";this.setCookie(a,b,4,c.join(",").replace(/display:none;/g,"1"))},dhtmlXGridObject.prototype.loadHiddenColumnsFromCookie=function(a){for(var b=this._getCookie(a,4),c=(b||"").split(","),d=0;d<this._cCount;d++)this.setColumnHidden(d,c[d]?!0:!1)},dhtmlXGridObject.prototype.saveSortingToCookie=function(a,b){this.setCookie(a,b,2,(this.getSortingState()||[]).join(","))},dhtmlXGridObject.prototype.loadSortingFromCookie=function(a){var b=this._getCookie(a,2);b=(b||"").split(","),b.length>1&&b[0]<this._cCount&&(this.sortRows(b[0],null,b[1]),this.setSortImgState(!0,b[0],b[1]))},dhtmlXGridObject.prototype.saveOrderToCookie=function(a,b){if(!this._c_order){this._c_order=[];for(var c=this._cCount,d=0;c>d;d++)this._c_order[d]=d}this.setCookie(a,b,3,(this._c_order||[]).slice(0,this._cCount).join(",")),this.saveSortingToCookie()},dhtmlXGridObject.prototype.loadOrderFromCookie=function(a){var b=this._getCookie(a,3);if(b=(b||"").split(","),b.length>1&&b.length<=this._cCount)for(var c=0;c<b.length;c++)if(!this._c_order&&b[c]!=c||this._c_order&&b[c]!=this._c_order[c]){var d=b[c];if(this._c_order)for(var e=0;e<this._c_order.length;e++)if(this._c_order[e]==b[c]){d=e;break}this.moveColumn(1*d,c)}},dhtmlXGridObject.prototype.loadSizeFromCookie=function(a){var b=this._getCookie(a,1);b&&(this.initCellWidth=b.split(","));var b=this._getCookie(a,0);if(b&&b.length){if(!this._fake&&this._hrrar)for(var c=0;c<b.length;c++)this._hrrar[c]&&(b[c]=0);"px"==this.cellWidthType?this.cellWidthPX=b.split(","):this.cellWidthPC=b.split(",")}return this.setSizes(),!0},dhtmlXGridObject.prototype.clearConfigCookie=function(a){a||(a=this.entBox.id);var b="gridSettings"+a+"=||||";document.cookie=b},dhtmlXGridObject.prototype.clearSizeCookie=dhtmlXGridObject.prototype.clearConfigCookie,dhtmlXGridObject.prototype.setCookie=function(a,b,c,d){a||(a=this.entBox.id);var e=this.getCookie(a);e=(e||"||||").split("|"),e[c]=d;var f="gridSettings"+a+"="+e.join("|").replace(/,/g,"-")+(b?"; "+b:"");document.cookie=f},dhtmlXGridObject.prototype.getCookie=function(a,b){a||(a=this.entBox.id),a=(b||"gridSettings")+a;var c=a+"=";if(document.cookie.length>0){var d=document.cookie.indexOf(c);if(-1!=d){d+=c.length;var e=document.cookie.indexOf(";",d);return-1==e&&(e=document.cookie.length),document.cookie.substring(d,e)}}},dhtmlXGridObject.prototype._getCookie=function(a,b){return(this.getCookie(a)||"||||").replace(/-/g,",").split("|")[b]},dhtmlXGridObject.prototype.enableUndoRedo=function(){var a=this,b=function(){return a._onEditUndoRedo.apply(a,arguments)};this.attachEvent("onEditCell",b);var c=function(b,c,d){return a._onEditUndoRedo.apply(a,[2,b,c,d?1:0,d?0:1])};this.attachEvent("onCheckbox",c),this._IsUndoRedoEnabled=!0,this._UndoRedoData=[],this._UndoRedoPos=-1},dhtmlXGridObject.prototype.disableUndoRedo=function(){this._IsUndoRedoEnabled=!1,this._UndoRedoData=[],this._UndoRedoPos=-1},dhtmlXGridObject.prototype._onEditUndoRedo=function(a,b,c,d,e){if(this._IsUndoRedoEnabled&&2==a&&e!=d){-1!==this._UndoRedoPos&&this._UndoRedoPos!=this._UndoRedoData.length-1?this._UndoRedoData=this._UndoRedoData.slice(0,this._UndoRedoPos+1):-1===this._UndoRedoPos&&this._UndoRedoData.length>0&&(this._UndoRedoData=[]);var f={old_value:e,new_value:d,row_id:b,cell_index:c};this._UndoRedoData.push(f),this._UndoRedoPos++}return!0},dhtmlXGridObject.prototype.doUndo=function(){if(-1===this._UndoRedoPos)return!1;var a=this._UndoRedoData[this._UndoRedoPos--],b=this.cells(a.row_id,a.cell_index);"tree"==this.getColType(a.cell_index)?b.setLabel(a.old_value):b.setValue(a.old_value),this.callEvent("onUndo",[a.row_id])},dhtmlXGridObject.prototype.doRedo=function(){if(this._UndoRedoPos==this._UndoRedoData.length-1)return!1;var a=this._UndoRedoData[++this._UndoRedoPos];this.cells(a.row_id,a.cell_index).setValue(a.new_value),this.callEvent("onUndo",[a.row_id])},dhtmlXGridObject.prototype.getRedo=function(){return this._UndoRedoPos==this._UndoRedoData.length-1?[]:this._UndoRedoData.slice(this._UndoRedoPos+1)},dhtmlXGridObject.prototype.getUndo=function(){return-1==this._UndoRedoPos?[]:this._UndoRedoData.slice(0,this._UndoRedoPos+1)},dhtmlXCellObject.prototype.attachHTMLString__old=dhtmlXCellObject.prototype.attachHTMLString,dhtmlXCellObject.prototype.attachHTMLString=function(a){_isIE<=8?$(a).appendTo(this.cell.childNodes[this.conf.idx.cont]):dhtmlXCellObject.prototype.attachHTMLString__old.apply(this,arguments)},dhtmlXTreeObject.prototype._parseItem__old=dhtmlXTreeObject.prototype._parseItem,dhtmlXTreeObject.prototype._parseItem=function(a){this._currentItem=a.get_all(),dhtmlXTreeObject.prototype._parseItem__old.apply(this,arguments);for(var b in this._currentItem)"id"!=b&&"text"!=b&&"open"!=b&&"item"!=b&&"child"!=b&&"nocheckbox"!=b&&"userdata"!=b&&this.setUserData(this._currentItem.id,b,this._currentItem[b]);this._currentItem=null},dhtmlXTreeObject.prototype.getUserData__old=dhtmlXTreeObject.prototype.getUserData,dhtmlXTreeObject.prototype.getUserData=function(a,b){if(b)return dhtmlXTreeObject.prototype.getUserData__old.apply(this,arguments);var c=this._globalIdStorageFind(a,0,!0);if(c){var d={};for(var e in c.userData)"function"!=typeof c.userData[e]&&(d[e.replace("t_","")]=c.userData[e]);return d}},dhtmlXTreeObject.prototype._createItem=function(a,b,c){var d=document.createElement("table");d.cellSpacing=0,d.cellPadding=0,d.border=0,this.hfMode&&(d.style.tableLayout="fixed"),d.style.margin=0,d.style.padding=0;var e=document.createElement("tbody"),f=document.createElement("tr"),g=document.createElement("td");if(g.className="standartTreeImage",this._txtimg){var h=document.createElement("div");g.appendChild(h),h.className="dhx_tree_textSign"}else{var h=this._getImg(b.id);h.border="0","IMG"==h.tagName&&(h.align="absmiddle"),g.appendChild(h),h.style.padding=0,h.style.margin=0,h.style.width=this.def_line_img_x,h.style.height=this.def_line_img_y}var i=document.createElement("td"),j=this._getImg(this.cBROf?this.rootId:b.id);j.checked=0,this._setSrc(j,this.imPath+this.checkArray[0]),j.style.width="18px",j.style.height="18px",a||(i.style.display="none"),i.appendChild(j),this.cBROf||"IMG"!=j.tagName||(j.align="absmiddle"),j.onclick=this.onCheckBoxClick,j.treeNod=this,j.parentObject=b,i.width=window._KHTMLrv?"16px":"20px";var k=document.createElement("td");k.className="standartTreeImage";var l=(this._currentItem||{}).icon;if(l){var m=document.createElement("i");m.className=l,m.style.fontSize="16px",m.style.color="#ff5722",m.style.paddingTop="4px",k.appendChild(m),m.onmousedown=this._preventNsDrag,m.ondragstart=this._preventNsDrag,this._aimgs&&(m.parentObject=b,m.onclick=this.onRowSelect)}else{var m=this._getImg(this.timgen?b.id:this.rootId);m.onmousedown=this._preventNsDrag,m.ondragstart=this._preventNsDrag,m.border="0",this._aimgs&&(m.parentObject=b,"IMG"==m.tagName&&(m.align="absmiddle"),m.onclick=this.onRowSelect),c||this._setSrc(m,this.iconURL+this.imageArray[0]),k.appendChild(m),m.style.padding=0,m.style.margin=0}this.timgen?(k.style.width=m.style.width=this.def_img_x,m.style.height=this.def_img_y):(m.style.width="0px",m.style.height="0px",(_isOpera||window._KHTMLrv)&&(k.style.display="none"));var n=document.createElement("td");return n.className="standartTreeRow",b.span=document.createElement("span"),b.span.className="standartTreeRow",this.mlitems?(b.span.style.width=this.mlitems,b.span.style.display="block"):n.noWrap=!0,_isIE&&_isIE>7?n.style.width="999999px":window._KHTMLrv||(n.style.width="100%"),b.span.innerHTML=b.label,n.appendChild(b.span),n.parentObject=b,g.parentObject=b,n.onclick=this.onRowSelect,g.onclick=this.onRowClick,n.ondblclick=this.onRowClick2,this.ettip&&(f.title=b.label),this.dragAndDropOff&&(this._aimgs&&(this.dragger.addDraggableItem(k,this),k.parentObject=b),this.dragger.addDraggableItem(n,this)),b.span.style.paddingLeft="5px",b.span.style.paddingRight="5px",n.style.verticalAlign="",n.style.fontSize="10pt",n.style.cursor=this.style_pointer,f.appendChild(g),f.appendChild(i),f.appendChild(k),f.appendChild(n),e.appendChild(f),d.appendChild(e),(this.ehlt||this.checkEvent("onMouseIn")||this.checkEvent("onMouseOut"))&&(f.onmousemove=this._itemMouseIn,f[_isIE?"onmouseleave":"onmouseout"]=this._itemMouseOut),d},dhtmlXToolbarObject.prototype.addButton=function(a,b,c,d,e){d.indexOf(".")>-1?this._addItem({id:a,type:"button",text:c,img:d,imgdis:e||d},b):this._addItem({id:a,type:"button",text:c,iconClass:d,iconColor:e},b)},dhtmlXToolbarObject.prototype._buttonObject=function(a,b,c){this.id=a.idPrefix+b,this.state=null!=c.enabled?!1:!0,this.imgEn=c.img||"",this.imgDis=c.imgdis||"",this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"",this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_btn dhxtoolbar_btn_"+(this.state?"def":"dis"),this.obj.style.display=null!=c.hidden?"none":"",this.obj.allowClick=!1,this.obj.extAction=c.action||null,this.obj.renderAs=this.obj.className,this.obj.idd=String(b),this.obj.title=c.title||"",this.obj.pressed=!1,this.obj.innerHTML=c.iconClass?a._rtlParseBtn('<i class="'+c.iconClass+'" style="'+(c.iconColor?"color:"+c.iconColor:"")+'"></i>',null!=c.text?"<div class='dhxtoolbar_text'>"+c.text+"</div>":""):a._rtlParseBtn(""!=this.img?"<img src='"+a.conf.icons_path+this.img+"'>":"",null!=c.text?"<div class='dhxtoolbar_text'>"+c.text+"</div>":"");var d=this;return this.obj.onselectstart=function(a){a=a||event,a.preventDefault?a.preventDefault():a.returnValue=!1},this.obj.onmouseover=function(){this._doOnMouseOver()},this.obj.onmouseout=function(){this._doOnMouseOut()},this.obj._doOnMouseOver=function(){return this.allowClick=!0,0==d.state?void(this.className.indexOf("dhxtoolbar_btn_dis")&&(this.className="dhx_toolbar_btn dhxtoolbar_btn_dis dhxtoolbar_btn_over")):void("none"==a.anyUsed&&(this.className="dhx_toolbar_btn dhxtoolbar_btn_over",this.renderAs=this.className))},this.obj._doOnMouseOut=function(){return this.allowClick=!1,0==d.state?void(this.className.indexOf("dhxtoolbar_btn_dis")&&(this.className="dhx_toolbar_btn dhxtoolbar_btn_dis")):void("none"==a.anyUsed&&(this.className="dhx_toolbar_btn dhxtoolbar_btn_def",this.renderAs=this.renderAs))},this.obj.onclick=function(b){if(0!=d.state&&0!=this.allowClick){b=b||event;var c=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](c)}catch(b){}a&&a.callEvent&&a.callEvent("onClick",[c])}},this.obj[window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(b){if(0==d.state)return b=b||event,b.preventDefault?b.preventDefault():b.returnValue=!1,b.cancelBubble=!0,!1;if("none"==a.anyUsed)return a.anyUsed=this.idd,this.className="dhx_toolbar_btn dhxtoolbar_btn_pres",this.pressed=!0,this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){a.anyUsed="none",this._doOnMouseOut()},!1},this.obj[window.dhx4.isIPad?"ontouchend":"onmouseup"]=function(){if(0!=d.state&&("none"==a.anyUsed||a.anyUsed==this.idd)){var b=a.anyUsed;this._doOnMouseUp(),window.dhx4.isIPad&&"none"!=b&&a.callEvent("onClick",[this.idd.replace(a.idPrefix,"")])}},window.dhx4.isIPad&&(this.obj.ontouchmove=function(){this._doOnMouseUp()}),this.obj._doOnMouseUp=function(){a.anyUsed="none",this.className=this.renderAs,this.pressed=!1},this.obj._doOnMouseUpOnceAnywhere=function(){this._doOnMouseUp(),this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){this._doOnMouseOut()}},a.base.appendChild(this.obj),this.enableItem=function(){a._enableItem(this)},this.disableItem=function(){a._disableItem(this)},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(b){a._setItemText(this,b)},this.getItemText=function(){return a._getItemText(this)},this.setItemImage=function(b){a._setItemImage(this,b,!0)},this.clearItemImage=function(){a._clearItemImage(this,!0)},this.setItemImageDis=function(b){a._setItemImage(this,b,!1)},this.clearItemImageDis=function(){a._clearItemImage(this,!1)},this.setItemToolTip=function(a){this.obj.title=a},this.getItemToolTip=function(){return this.obj.title},this},dhtmlXGridObject.prototype.setQuery=function(){var a=this,b=arguments[0];a.queryParams=arguments[1]||{},a.query=function(){var c={};this.pagingOn?c={page:a.currentPage,rows:a.rowsBufferOutSize}:this._srnd&&(c={page:1,rows:a._dpref});var d=$.extend({},a.queryParams,c,arguments[0]),e=arguments[1];if(!e)try{var f=a.getSortingState();a.clearAll(),2==f.length&&a.setSortImgState(!0,f[0],f[1])}catch(g){}a.callEvent("onXLS",[a]),b(d,function(b){a.parse(b,"json"),a.callEvent("onXLE",[a,0,0,b])}),a.queryParams=d},a.query(a.queryParams)},dhtmlXGridObject.prototype.setFields=function(){var a=arguments[0]||"|";if(-1!=a.indexOf("|")){var b=a.split("|");this._idField=b[0],this._fields=b[1].split(",")}},dhtmlXGridObject.prototype.load_old=dhtmlXGridObject.prototype.load,dhtmlXGridObject.prototype.load=function(a){this.xmlFileUrl||(this.xmlFileUrl=a);var b={};if(-1!=a.indexOf("?")){var c=a.split("?")[1];strs=c.split("&");for(var d=0;d<strs.length;d++)b[strs[d].split("=")[0]]=unescape(strs[d].split("=")[1])}this.pagingOn&&(b.page=this.currentPage,b.rows=this.rowsBufferOutSize),!b.page&&b.posStart&&b.count&&(b.page=b.posStart/b.count+1,b.rows=b.count,delete b.count,delete b.posStart),!b.page&&this._srnd&&(b.page=1,b.rows=this._dpref);var e=this.getSortingState();2==e.length&&(b.sort=this._fields[e[0]],b.order="des"==e[1]?"desc":"asc");var f="";for(var g in b)f+=(f?"&":"?")+g+"="+b[g];a=a.split("?")[0]+f,dhtmlXGridObject.prototype.load_old.apply(this,arguments)},dhtmlXGridObject.prototype._process_json_old=dhtmlXGridObject.prototype._process_json,dhtmlXGridObject.prototype._process_json=function(data,mode){function convertToDhxJson(a){var b=this._fields,c=this._idField,d=0;a.pos>=0?d=a.pos:this.pagingOn?d=(this.currentPage-1)*this.rowsBufferOutSize:this._srnd&&this._current_load&&(d=this._current_load[0]);var e=function(a,b){var c=[];for(var d in b)c.push(a[b[d]]);return c};if(a.total>=0&&a.rows){var f={};f.total_count=a.total,f.pos=d,f.rows=[];for(var g in a.rows){var h={};h.id=a.rows[g][c],this.onJsonRowConvert&&this.onJsonRowConvert(h.id,a.rows[g],a),h.data=e(a.rows[g],b),f.rows.push(h)}return f}return a}data&&data.xmlDoc?(eval("dhtmlx.temp="+data.xmlDoc.responseText+";"),data=convertToDhxJson.call(this,dhtmlx.temp)):data&&data.rows&&data.total>=0&&(data=convertToDhxJson.call(this,data)),dhtmlXGridObject.prototype._process_json_old.apply(this,arguments)},dhtmlXGridObject.prototype.sortRows_old=dhtmlXGridObject.prototype.sortRows,dhtmlXGridObject.prototype.sortRows=function(a,b,c){if(c=(c||"asc").toLowerCase(),b=b||this.fldSort[a],a=a||0,"server"==b&&this.query){var d={};d.sort=this._fields[a],d.order="des"==c?"desc":c,this.query(d)}else dhtmlXGridObject.prototype.sortRows_old.apply(this,arguments)},dhtmlXGridObject.prototype.render_dataset=function(a,b){if(this._srnd){if(this._fillers)return this._update_srnd_view();b=Math.min(this._get_view_size()+(this._srnd_pr||0),this.rowsBuffer.length)}this.pagingOn?(a=Math.max(a||0,(this.currentPage-1)*this.rowsBufferOutSize),b=Math.min(this.currentPage*this.rowsBufferOutSize,this.rowsBuffer.length)):(a=a||0,b=b||this.rowsBuffer.length);for(var c=a;b>c;c++){var d=this.render_row(c);if(-1==d){this.xmlFileUrl?this.callEvent("onDynXLS",[c,this._dpref?this._dpref:b-c])&&this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+c+"&count="+(this._dpref?this._dpref:b-c),this._data_type):this.query&&this.query({},!0),b=c;break}if(d.parentNode&&d.parentNode.tagName||(this._insertRowAt(d,c),(d._attrs.selected||d._attrs.select)&&(this.selectRow(d,d._attrs.call?!0:!1,!0),d._attrs.selected=d._attrs.select=null)),this._ads_count&&c-a==this._ads_count){var e=this;return this._context_parsing=this._context_parsing||this._parsing,this._contextCallTimer=window.setTimeout(function(){e._contextCallTimer=null,e.render_dataset(c,b),e._contextCallTimer||(e._context_parsing?e.callEvent("onXLE",[]):e._fixAlterCss(),e.callEvent("onDistributedEnd",[]),e._context_parsing=!1)},this._ads_time)}}if(this._ads_count&&c==b&&this.callEvent("onDistributedEnd",[]),this._srnd&&!this._fillers){var f=this.rowsBuffer.length-b;for(this._fillers=[],this._fake&&(this._fake._fillers=[]);f>0;){var g=_isIE||window._FFrv?Math.min(f,5e4):f,h=this._add_filler(b,g);h&&this._fillers.push(h),f-=g,b+=g}}this.setSizes()},dhtmlXGridObject.prototype._update_srnd_view=function(){var a=Math.floor(this.objBox.scrollTop/this._srdh),b=a+this._get_view_size();if(this.multiLine){var c=this.objBox.scrollTop;for(a=0;c>0;)c-=this.rowsCol[a]?this.rowsCol[a].offsetHeight:this._srdh,a++;b=a+this._get_view_size(),a>0&&a--}b+=this._srnd_pr||0,b>this.rowsBuffer.length&&(b=this.rowsBuffer.length);for(var d=a;b>d;d++)if(!this.rowsCol[d]){var e=this._add_from_buffer(d);if(-1==e){if(this.xmlFileUrl){if(this._dpref&&this.rowsBuffer[b-1]){var f=(this._dpref?this._dpref:b-d,Math.max(0,Math.min(d,b-this._dpref)));this._current_load=[f,b-f]}else this._current_load=[d,this._dpref?this._dpref:b-d];if(this.callEvent("onDynXLS",this._current_load)){this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+this._current_load[0]+"&count="+this._current_load[1],this._data_type);break}}else if(this.query){if(this._dpref&&this.rowsBuffer[b-1]){var f=(this._dpref?this._dpref:b-d,Math.max(0,Math.min(d,b-this._dpref)));this._current_load=[f,b-f]}else this._current_load=[d,this._dpref?this._dpref:b-d];if(this.callEvent("onDynXLS",this._current_load)){this.query({page:this._current_load[0]/this._dpref+1,rows:this._dpref},!0);break}}return}this._tgle&&(this._updateLine(this._h2.get[this.rowsBuffer[d].idd],this.rowsBuffer[d]),this._updateParentLine(this._h2.get[this.rowsBuffer[d].idd],this.rowsBuffer[d])),d&&d==(this._realfake?this._fake:this)._r_select&&this.selectCell(d,this.cell?this.cell._cellIndex:0,!0)}this._fake&&!this._realfake&&this.multiLine&&(this._fake.objBox.scrollTop=this.objBox.scrollTop)},dhtmlXGridObject.prototype.collectValues_old=dhtmlXGridObject.prototype.collectValues,dhtmlXGridObject.prototype.collectValues=function(){return dhtmlXGridObject.prototype.collectValues_old.apply(this,arguments)},dhtmlXGridObject.prototype._get_cell_value_old=dhtmlXGridObject.prototype._get_cell_value,dhtmlXGridObject.prototype._get_cell_value=function(a){return a?dhtmlXGridObject.prototype._get_cell_value_old.apply(this,arguments):null},dhtmlXGridObject.prototype._pgn_toolbar_old=dhtmlXGridObject.prototype._pgn_toolbar,dhtmlXGridObject.prototype._pgn_toolbar=function(a,b,c){dhtmlXGridObject.prototype._pgn_toolbar_old.apply(this,arguments),this._WTDef[1]&&this.getRowsNum()&&this.aToolBar.setItemText("results","<div style='width:100%; text-align:center'>"+this.i18n.paging.records+(b+1)+this.i18n.paging.to+c+" 共"+this.rowsBuffer.length+"条</div>")},dhtmlXGridObject.prototype.filterBy=function(a,b){var c={};for(var d in a)c[this._fields[a[d]]]=b[d];if(this.xmlFileUrl){var e="";for(var d in c)c[d]&&(e+=(e?"&":"")+d+"="+c[d]);this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+e,this._data_type)}else this.query&&this.query(c)},eXcell_roch.prototype=new eXcell,eXcell_roch.prototype.setValue=function(a){this.cell.style.verticalAlign="middle",a&&(a=a.toString()._dhx_trim(),("false"==a||"0"==a)&&(a="")),a?(a="1",this.cell.chstate="1"):(a="0",this.cell.chstate="0");this.setCValue("<img src='"+this.grid.imgURL+"item_chk"+a+".gif'>",this.cell.chstate)};var requirejs,require,define;!function(ba){function G(a){return"[object Function]"===K.call(a)}function H(a){return"[object Array]"===K.call(a)}function v(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function T(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function t(a,b){return fa.call(a,b)}function m(a,b){return t(a,b)&&a[b]}function B(a,b){for(var c in a)if(t(a,c)&&b(a[c],c))break}function U(a,b,c,d){return b&&B(b,function(b,e){(c||!t(a,e))&&(!d||"object"!=typeof b||!b||H(b)||G(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),U(a[e],b,c,d)))}),a}function u(a,b){return function(){return b.apply(a,arguments)}}function ca(a){throw a}function da(a){if(!a)return a;var b=ba;return v(a.split("."),function(a){b=b[a]}),b}function C(a,b,c,d){return b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a),b.requireType=a,b.requireModules=d,c&&(b.originalError=c),b}function ga(a){function b(a,b,c){var d,e,f,g,h,i,j,k,b=b&&b.split("/"),l=D.map,n=l&&l["*"];if(a){for(a=a.split("/"),e=a.length-1,D.nodeIdCompat&&Q.test(a[e])&&(a[e]=a[e].replace(Q,"")),"."===a[0].charAt(0)&&b&&(e=b.slice(0,b.length-1),a=e.concat(a)),e=a,f=0;f<e.length;f++)g=e[f],"."===g?(e.splice(f,1),f-=1):".."===g&&0!==f&&(1!=f||".."!==e[2])&&".."!==e[f-1]&&f>0&&(e.splice(f-1,2),f-=2);a=a.join("/")}if(c&&l&&(b||n)){e=a.split("/"),f=e.length;a:for(;f>0;f-=1){if(h=e.slice(0,f).join("/"),b)for(g=b.length;g>0;g-=1)if((c=m(l,b.slice(0,g).join("/")))&&(c=m(c,h))){d=c,i=f;break a}!j&&n&&m(n,h)&&(j=m(n,h),k=f)}!d&&j&&(d=j,i=k),d&&(e.splice(0,i,d),a=e.join("/"))}return(d=m(D.pkgs,a))?d:a}function c(a){z&&v(document.getElementsByTagName("script"),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===x.contextName?(b.parentNode.removeChild(b),!0):void 0})}function d(a){var b=m(D.paths,a);return b&&H(b)&&1<b.length?(b.shift(),x.require.undef(a),x.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function e(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function f(a,c,d,f){var g,h,i=null,j=c?c.name:null,k=a,l=!0,n="";return a||(l=!1,a="_@r"+(P+=1)),a=e(a),i=a[0],a=a[1],i&&(i=b(i,j,f),h=m(K,i)),a&&(i?n=h&&h.normalize?h.normalize(a,function(a){return b(a,j,f)}):-1===a.indexOf("!")?b(a,j,f):a:(n=b(a,j,f),a=e(n),i=a[0],n=a[1],d=!0,g=x.nameToUrl(n))),d=!i||h||d?"":"_unnormalized"+(S+=1),{prefix:i,name:n,parentMap:c,unnormalized:!!d,url:g,originalName:k,isDefine:l,id:(i?i+"!"+n:n)+d}}function h(a){var b=a.id,c=m(E,b);return c||(c=E[b]=new x.Module(a)),c}function i(a,b,c){var d=a.id,e=m(E,d);!t(K,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(K[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(v(c,function(b){(b=m(E,b))&&(b.error=a,b.events.error&&(d=!0,b.emit("error",a)))}),d||g.onError(a))}function k(){R.length&&(ha.apply(J,[J.length,0].concat(R)),R=[])}function l(a){delete E[a],delete F[a]}function n(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,v(a.depMaps,function(d,e){var f=d.id,g=m(E,f);
g&&!a.depMatched[e]&&!c[f]&&(m(b,f)?(a.defineDep(e,K[f]),a.check()):n(g,b,c))}),c[d]=!0)}function o(){var a,b,e=(a=1e3*D.waitSeconds)&&x.startTime+a<(new Date).getTime(),f=[],g=[],h=!1,i=!0;if(!s){if(s=!0,B(F,function(a){var j=a.map,k=j.id;if(a.enabled&&(j.isDefine||g.push(a),!a.error))if(!a.inited&&e)d(k)?h=b=!0:(f.push(k),c(k));else if(!a.inited&&a.fetched&&j.isDefine&&(h=!0,!j.prefix))return i=!1}),e&&f.length)return a=C("timeout","Load timeout for modules: "+f,null,f),a.contextName=x.contextName,j(a);i&&v(g,function(a){n(a,{},{})}),e&&!b||!h||!z&&!ea||A||(A=setTimeout(function(){A=0,o()},50)),s=!1}}function p(a){t(K,a[0])||h(f(a[0],null,!0)).init(a[1],a[2])}function q(a){var a=a.currentTarget||a.srcElement,b=x.onScriptLoad;return a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1),b=x.onScriptError,(!a.detachEvent||Y)&&a.removeEventListener("error",b,!1),{node:a,id:a&&a.getAttribute("data-requiremodule")}}function r(){var a;for(k();J.length;){if(a=J.shift(),null===a[0])return j(C("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));p(a)}}var s,w,x,y,A,D={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},F={},I={},J=[],K={},L={},O={},P=1,S=1;return y={require:function(a){return a.require?a.require:a.require=x.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?K[a.map.id]=a.exports:a.exports=K[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return m(D.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},w=function(a){this.events=m(I,a.id)||{},this.map=a,this.shim=m(D.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},w.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=u(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;L[a]||(L[a]=!0,x.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,e=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(G(e)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{d=x.execCb(c,e,b,d)}catch(f){a=f}else d=x.execCb(c,e,b,d);if(this.map.isDefine&&void 0===d&&((b=this.module)?d=b.exports:this.usingExports&&(d=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else d=e;this.exports=d,this.map.isDefine&&!this.ignore&&(K[c]=d,g.onResourceLoad)&&g.onResourceLoad(x,this.map,this.depMaps),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,c=a.id,d=f(a.prefix);this.depMaps.push(d),i(d,"defined",u(this,function(d){var e,k;k=m(O,this.map.id);var n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=x.makeRequire(a.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return b(a,o,!0)})||""),d=f(a.prefix+"!"+n,this.map.parentMap),i(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),(k=m(E,d.id))&&(this.depMaps.push(d),this.events.error&&k.on("error",u(this,function(a){this.emit("error",a)})),k.enable())):k?(this.map.url=x.nameToUrl(k),this.load()):(e=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=u(this,function(a){this.inited=!0,this.error=a,a.requireModules=[c],B(E,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=u(this,function(b,d){var i=a.name,k=f(i),l=M;d&&(b=d),l&&(M=!1),h(k),t(D.config,c)&&(D.config[i]=D.config[c]);try{g.exec(b)}catch(m){return j(C("fromtexteval","fromText eval for "+c+" failed: "+m,m,[c]))}l&&(M=!0),this.depMaps.push(k),x.completeLoad(i),p([i],e)}),d.load(a.name,p,e,D))})),x.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){F[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(a,b){var c,d;if("string"==typeof a){if(a=f(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,c=m(y,a.id))return void(this.depExports[b]=c(this));this.depCount+=1,i(a,"defined",u(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&i(a,"error",u(this,this.errback))}c=a.id,d=E[c],!t(y,c)&&d&&!d.enabled&&x.enable(a,this)})),B(this.pluginMaps,u(this,function(a){var b=m(E,a.id);b&&!b.enabled&&x.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){v(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},x={config:D,contextName:a,registry:E,defined:K,urlFetched:L,defQueue:J,Module:w,makeModuleMap:f,nextTick:g.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=D.shim,c={paths:!0,bundles:!0,config:!0,map:!0};B(a,function(a,b){c[b]?(D[b]||(D[b]={}),U(D[b],a,!0,!0)):D[b]=a}),a.bundles&&B(a.bundles,function(a,b){v(a,function(a){a!==b&&(O[a]=b)})}),a.shim&&(B(a.shim,function(a,c){H(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=x.makeShimExports(a)),b[c]=a}),D.shim=b),a.packages&&v(a.packages,function(a){var b,a="string"==typeof a?{name:a}:a;b=a.name,a.location&&(D.paths[b]=a.location),D.pkgs[b]=a.name+"/"+(a.main||"main").replace(ia,"").replace(Q,"")}),B(E,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=f(b))}),(a.deps||a.callback)&&x.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;return a.init&&(b=a.init.apply(ba,arguments)),b||a.exports&&da(a.exports)}},makeRequire:function(d,e){function i(b,c,k){var l,m;return e.enableBuildCallback&&c&&G(c)&&(c.__requireJsBuild=!0),"string"==typeof b?G(c)?j(C("requireargs","Invalid require call"),k):d&&t(y,b)?y[b](E[d.id]):g.get?g.get(x,b,d,i):(l=f(b,d,!1,!0),l=l.id,t(K,l)?K[l]:j(C("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+a+(d?"":". Use require([])")))):(r(),x.nextTick(function(){r(),m=h(f(null,d)),m.skipMap=e.skipMap,m.init(b,c,k,{enabled:!0}),o()}),i)}return e=e||{},U(i,{isBrowser:z,toUrl:function(a){var c,e=a.lastIndexOf("."),f=a.split("/")[0];return-1!==e&&("."!==f&&".."!==f||e>1)&&(c=a.substring(e,a.length),a=a.substring(0,e)),x.nameToUrl(b(a,d&&d.id,!0),c,!0)},defined:function(a){return t(K,f(a,d,!1,!0).id)},specified:function(a){return a=f(a,d,!1,!0).id,t(K,a)||t(E,a)}}),d||(i.undef=function(a){k();var b=f(a,d,!0),e=m(E,a);c(a),delete K[a],delete L[b.url],delete I[a],T(J,function(b,c){b[0]===a&&J.splice(c,1)}),e&&(e.events.defined&&(I[a]=e.events),l(a))}),i},enable:function(a){m(E,a.id)&&h(a).enable()},completeLoad:function(a){var b,c,e=m(D.shim,a)||{},f=e.exports;for(k();J.length;){if(c=J.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);p(c)}if(c=m(E,a),!b&&!t(K,a)&&c&&!c.inited){if(D.enforceDefine&&(!f||!da(f)))return d(a)?void 0:j(C("nodefine","No define call for "+a,null,[a]));p([a,e.deps||[],e.exportsFn])}o()},nameToUrl:function(a,b,c){var d,e,f;if((d=m(D.pkgs,a))&&(a=d),d=m(O,a))return x.nameToUrl(d,b,c);if(g.jsExtRegExp.test(a))d=a+(b||"");else{for(d=D.paths,a=a.split("/"),e=a.length;e>0;e-=1)if(f=a.slice(0,e).join("/"),f=m(d,f)){H(f)&&(f=f[0]),a.splice(0,e,f);break}d=a.join("/"),d+=b||(/^data\:|\?/.test(d)||c?"":".js"),d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":D.baseUrl)+d}return D.urlArgs?d+((-1===d.indexOf("?")?"?":"&")+D.urlArgs):d},load:function(a,b){g.load(x,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){("load"===a.type||ja.test((a.currentTarget||a.srcElement).readyState))&&(N=null,a=q(a),x.completeLoad(a.id))},onScriptError:function(a){var b=q(a);return d(b.id)?void 0:j(C("scripterror","Script error for: "+b.id,a,[b.id]))}},x.require=x.makeRequire(),x}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(a,b,c,d){var e,f="_";return!H(a)&&"string"!=typeof a&&(e=a,H(b)?(a=b,b=c,c=d):a=[]),e&&e.context&&(f=e.context),(d=m(F,f))||(d=F[f]=g.s.newContext(f)),e&&d.configure(e),d.require(a,b,c)},g.config=function(a){return g(a)},g.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=g),g.version="2.1.15",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(a){g[a]=function(){var b=F._;return b.require[a].apply(b,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b},g.load=function(a,b,c){var d=a&&a.config||{};if(z)return d=g.createNode(d,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code")||Y?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(M=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,J=d,D?y.insertBefore(d,D):y.appendChild(d),J=null,d;if(ea)try{importScripts(c),a.completeLoad(b)}catch(e){a.onError(C("importscripts","importScripts failed for "+b+" at "+c,e,[b]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(a){return y||(y=a.parentNode),(I=a.getAttribute("data-main"))?(s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),H(b)||(c=b,b=null),!b&&G(c)&&(b=[],c.length&&(c.toString().replace(ka,"").replace(la,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),M&&((d=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(a){return"interactive"===a.readyState?N=a:void 0}),d=N),d&&(a||(a=d.getAttribute("data-requiremodule")),e=F[d.getAttribute("data-requirecontext")])),(e?e.defQueue:R).push([a,b,c])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}}(this),!function(){require.config({baseUrl:"./app/js/",paths:{assets:"../../assets/",css:"../../assets/lib/requirejs/css",text:"../../assets/lib/requirejs/text",views:"../views",config:"config/global","angular-resource":"../../assets/lib/angularjs/1.3.9/angular-resource"},shim:{},urlArgs:"v=201502100127&r="+Math.random()})}(),require(["app","config","angular-resource","service/index","directive/index","controller/index"],function(a){a.init()});